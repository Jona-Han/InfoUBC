{"/Users/han/code/cpsc310/c1/project_team123/src/controller/IInsightFacade.ts":{"path":"/Users/han/code/cpsc310/c1/project_team123/src/controller/IInsightFacade.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":113}},"2":{"start":{"line":5,"column":0},"end":{"line":8,"column":89}},"3":{"start":{"line":6,"column":4},"end":{"line":6,"column":48}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":42}},"5":{"start":{"line":11,"column":8},"end":{"line":11,"column":23}},"6":{"start":{"line":12,"column":8},"end":{"line":12,"column":52}},"7":{"start":{"line":15,"column":0},"end":{"line":15,"column":36}},"8":{"start":{"line":18,"column":8},"end":{"line":18,"column":23}},"9":{"start":{"line":19,"column":8},"end":{"line":19,"column":53}},"10":{"start":{"line":22,"column":0},"end":{"line":22,"column":38}},"11":{"start":{"line":25,"column":8},"end":{"line":25,"column":23}},"12":{"start":{"line":26,"column":8},"end":{"line":26,"column":59}},"13":{"start":{"line":29,"column":0},"end":{"line":29,"column":50}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":1},"end":{"line":5,"column":2}},"loc":{"start":{"line":5,"column":31},"end":{"line":8,"column":1}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":25},"end":{"line":13,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":25},"end":{"line":20,"column":5}},"line":17},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":25},"end":{"line":27,"column":5}},"line":24}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":24},"end":{"line":8,"column":87}},"type":"binary-expr","locations":[{"start":{"line":8,"column":24},"end":{"line":8,"column":50}},{"start":{"line":8,"column":55},"end":{"line":8,"column":86}}],"line":8}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":276,"6":276,"7":1,"8":3,"9":3,"10":1,"11":3,"12":3,"13":1},"f":{"0":1,"1":276,"2":3,"3":3},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/han/code/cpsc310/c1/project_team123/src/controller/IInsightFacade.ts","sources":["/Users/han/code/cpsc310/c1/project_team123/src/controller/IInsightFacade.ts"],"names":[],"mappings":";;;AAMA,IAAY,kBAGX;AAHD,WAAY,kBAAkB;IAC7B,2CAAqB,CAAA;IACrB,qCAAe,CAAA;AAChB,CAAC,EAHW,kBAAkB,GAAlB,0BAAkB,KAAlB,0BAAkB,QAG7B;AAYD,MAAa,YAAa,SAAQ,KAAK;IACtC,YAAY,OAAgB;QAC3B,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,KAAK,CAAC,iBAAiB,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;IAC7C,CAAC;CACD;AALD,oCAKC;AAED,MAAa,aAAc,SAAQ,KAAK;IACvC,YAAY,OAAgB;QAC3B,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,KAAK,CAAC,iBAAiB,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;IAC9C,CAAC;CACD;AALD,sCAKC;AAED,MAAa,mBAAoB,SAAQ,KAAK;IAC7C,YAAY,OAAgB;QAC3B,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,KAAK,CAAC,iBAAiB,CAAC,IAAI,EAAE,mBAAmB,CAAC,CAAC;IACpD,CAAC;CACD;AALD,kDAKC","sourcesContent":["/*\n * This is the primary high-level API for the project. In this folder there should be:\n * A class called InsightFacade, this should be in a file called InsightFacade.ts.\n * You should not change this interface at all or the test suite will not work.\n */\n\nexport enum InsightDatasetKind {\n\tSections = \"sections\",\n\tRooms = \"rooms\",\n}\n\nexport interface InsightDataset {\n\tid: string;\n\tkind: InsightDatasetKind;\n\tnumRows: number;\n}\n\nexport interface InsightResult {\n\t[key: string]: string | number;\n}\n\nexport class InsightError extends Error {\n\tconstructor(message?: string) {\n\t\tsuper(message);\n\t\tError.captureStackTrace(this, InsightError);\n\t}\n}\n\nexport class NotFoundError extends Error {\n\tconstructor(message?: string) {\n\t\tsuper(message);\n\t\tError.captureStackTrace(this, NotFoundError);\n\t}\n}\n\nexport class ResultTooLargeError extends Error {\n\tconstructor(message?: string) {\n\t\tsuper(message);\n\t\tError.captureStackTrace(this, ResultTooLargeError);\n\t}\n}\n\nexport interface IInsightFacade {\n\t/**\n\t * Add a dataset to insightUBC.\n\t *\n\t * @param id  The id of the dataset being added. Follows the format /^[^_]+$/\n\t * @param content  The base64 content of the dataset. This content should be in the form of a serialized zip file.\n\t * @param kind  The kind of the dataset\n\t *\n\t * @return Promise <string[]>\n\t *\n\t * The promise should fulfill on a successful add, reject for any failures.\n\t * The promise should fulfill with a string array,\n\t * containing the ids of all currently added datasets upon a successful add.\n\t * The promise should reject with an InsightError describing the error.\n\t *\n\t * An id is invalid if it contains an underscore, or is only whitespace characters.\n\t * If id is the same as the id of an already added dataset, the dataset should be rejected and not saved.\n\t *\n\t * After receiving the dataset, it should be processed into a data structure of\n\t * your design. The processed data structure should be persisted to disk; your\n\t * system should be able to load this persisted value into memory for answering\n\t * queries.\n\t *\n\t * Ultimately, a dataset must be added or loaded from disk before queries can\n\t * be successfully answered.\n\t */\n\taddDataset(id: string, content: string, kind: InsightDatasetKind): Promise<string[]>;\n\n\t/**\n\t * Remove a dataset from insightUBC.\n\t *\n\t * @param id  The id of the dataset to remove. Follows the format /^[^_]+$/\n\t *\n\t * @return Promise <string>\n\t *\n\t * The promise should fulfill upon a successful removal, reject on any error.\n\t * Attempting to remove a dataset that hasn't been added yet counts as an error.\n\t *\n\t * An id is invalid if it contains an underscore, or is only whitespace characters.\n\t *\n\t * The promise should fulfill the id of the dataset that was removed.\n\t * The promise should reject with a NotFoundError (if a valid id was not yet added)\n\t * or an InsightError (invalid id or any other source of failure) describing the error.\n\t *\n\t * This will delete both disk and memory caches for the dataset for the id meaning\n\t * that subsequent queries for that id should fail unless a new addDataset happens first.\n\t */\n\tremoveDataset(id: string): Promise<string>;\n\n\t/**\n\t * Perform a query on insightUBC.\n\t *\n\t * @param query  The query to be performed.\n\t *\n\t * If a query is incorrectly formatted, references a dataset not added (in memory or on disk),\n\t * or references multiple datasets, it should be rejected.\n\t *\n\t * @return Promise <InsightResult[]>\n\t *\n\t * The promise should fulfill with an array of results.\n\t * The promise should reject with a ResultTooLargeError (if the query returns too many results)\n\t * or an InsightError (for any other source of failure) describing the error.\n\t */\n\tperformQuery(query: unknown): Promise<InsightResult[]>;\n\n\t/**\n\t * List all currently added datasets, their types, and number of rows.\n\t *\n\t * @return Promise <InsightDataset[]>\n\t * The promise should fulfill an array of currently added InsightDatasets, and will only fulfill.\n\t */\n\tlistDatasets(): Promise<InsightDataset[]>;\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f52e7bf78fe123a58678c38d0b1a21ae92e510d9","contentHash":"8faf77fe805cab897ed0452a355789353e433a430ad57e278ed04129ae3ff7f8"},"/Users/han/code/cpsc310/c1/project_team123/src/controller/InsightFacade.ts":{"path":"/Users/han/code/cpsc310/c1/project_team123/src/controller/InsightFacade.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":25},"end":{"line":6,"column":52}},"4":{"start":{"line":7,"column":19},"end":{"line":7,"column":65}},"5":{"start":{"line":8,"column":16},"end":{"line":8,"column":59}},"6":{"start":{"line":9,"column":19},"end":{"line":9,"column":55}},"7":{"start":{"line":10,"column":16},"end":{"line":10,"column":49}},"8":{"start":{"line":11,"column":25},"end":{"line":11,"column":77}},"9":{"start":{"line":12,"column":16},"end":{"line":12,"column":42}},"10":{"start":{"line":13,"column":17},"end":{"line":13,"column":34}},"11":{"start":{"line":14,"column":19},"end":{"line":14,"column":27}},"12":{"start":{"line":18,"column":8},"end":{"line":18,"column":43}},"13":{"start":{"line":19,"column":8},"end":{"line":19,"column":26}},"14":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"15":{"start":{"line":23,"column":12},"end":{"line":23,"column":83}},"16":{"start":{"line":25,"column":8},"end":{"line":27,"column":9}},"17":{"start":{"line":26,"column":12},"end":{"line":26,"column":102}},"18":{"start":{"line":28,"column":8},"end":{"line":30,"column":9}},"19":{"start":{"line":29,"column":12},"end":{"line":29,"column":55}},"20":{"start":{"line":31,"column":8},"end":{"line":31,"column":49}},"21":{"start":{"line":34,"column":8},"end":{"line":36,"column":9}},"22":{"start":{"line":35,"column":12},"end":{"line":35,"column":83}},"23":{"start":{"line":37,"column":8},"end":{"line":39,"column":9}},"24":{"start":{"line":38,"column":12},"end":{"line":38,"column":99}},"25":{"start":{"line":40,"column":8},"end":{"line":47,"column":9}},"26":{"start":{"line":41,"column":12},"end":{"line":41,"column":77}},"27":{"start":{"line":42,"column":12},"end":{"line":42,"column":50}},"28":{"start":{"line":43,"column":12},"end":{"line":43,"column":39}},"29":{"start":{"line":46,"column":12},"end":{"line":46,"column":95}},"30":{"start":{"line":50,"column":8},"end":{"line":65,"column":11}},"31":{"start":{"line":51,"column":26},"end":{"line":51,"column":28}},"32":{"start":{"line":52,"column":21},"end":{"line":52,"column":51}},"33":{"start":{"line":53,"column":12},"end":{"line":64,"column":13}},"34":{"start":{"line":54,"column":16},"end":{"line":56,"column":17}},"35":{"start":{"line":55,"column":20},"end":{"line":55,"column":87}},"36":{"start":{"line":57,"column":16},"end":{"line":57,"column":40}},"37":{"start":{"line":58,"column":34},"end":{"line":58,"column":58}},"38":{"start":{"line":59,"column":16},"end":{"line":59,"column":48}},"39":{"start":{"line":60,"column":16},"end":{"line":60,"column":33}},"40":{"start":{"line":63,"column":16},"end":{"line":63,"column":30}},"41":{"start":{"line":68,"column":8},"end":{"line":76,"column":11}},"42":{"start":{"line":69,"column":25},"end":{"line":69,"column":27}},"43":{"start":{"line":70,"column":12},"end":{"line":74,"column":13}},"44":{"start":{"line":71,"column":16},"end":{"line":73,"column":17}},"45":{"start":{"line":72,"column":20},"end":{"line":72,"column":41}},"46":{"start":{"line":75,"column":12},"end":{"line":75,"column":28}},"47":{"start":{"line":79,"column":8},"end":{"line":94,"column":9}},"48":{"start":{"line":80,"column":12},"end":{"line":80,"column":57}},"49":{"start":{"line":81,"column":24},"end":{"line":81,"column":66}},"50":{"start":{"line":82,"column":12},"end":{"line":90,"column":13}},"51":{"start":{"line":83,"column":29},"end":{"line":83,"column":85}},"52":{"start":{"line":84,"column":27},"end":{"line":88,"column":17}},"53":{"start":{"line":89,"column":16},"end":{"line":89,"column":60}},"54":{"start":{"line":93,"column":12},"end":{"line":93,"column":60}},"55":{"start":{"line":97,"column":25},"end":{"line":97,"column":29}},"56":{"start":{"line":98,"column":8},"end":{"line":105,"column":9}},"57":{"start":{"line":99,"column":12},"end":{"line":104,"column":13}},"58":{"start":{"line":100,"column":16},"end":{"line":100,"column":28}},"59":{"start":{"line":102,"column":17},"end":{"line":104,"column":13}},"60":{"start":{"line":103,"column":16},"end":{"line":103,"column":35}},"61":{"start":{"line":106,"column":8},"end":{"line":106,"column":26}},"62":{"start":{"line":109,"column":8},"end":{"line":148,"column":9}},"63":{"start":{"line":110,"column":26},"end":{"line":110,"column":52}},"64":{"start":{"line":111,"column":33},"end":{"line":111,"column":63}},"65":{"start":{"line":112,"column":24},"end":{"line":112,"column":45}},"66":{"start":{"line":113,"column":12},"end":{"line":113,"column":46}},"67":{"start":{"line":114,"column":26},"end":{"line":114,"column":35}},"68":{"start":{"line":115,"column":29},"end":{"line":115,"column":31}},"69":{"start":{"line":116,"column":12},"end":{"line":138,"column":13}},"70":{"start":{"line":117,"column":16},"end":{"line":137,"column":17}},"71":{"start":{"line":119,"column":20},"end":{"line":134,"column":21}},"72":{"start":{"line":120,"column":35},"end":{"line":120,"column":54}},"73":{"start":{"line":121,"column":24},"end":{"line":133,"column":25}},"74":{"start":{"line":122,"column":28},"end":{"line":131,"column":31}},"75":{"start":{"line":125,"column":45},"end":{"line":125,"column":68}},"76":{"start":{"line":126,"column":45},"end":{"line":126,"column":61}},"77":{"start":{"line":127,"column":32},"end":{"line":127,"column":60}},"78":{"start":{"line":130,"column":32},"end":{"line":130,"column":57}},"79":{"start":{"line":132,"column":28},"end":{"line":132,"column":54}},"80":{"start":{"line":139,"column":12},"end":{"line":139,"column":40}},"81":{"start":{"line":140,"column":12},"end":{"line":142,"column":13}},"82":{"start":{"line":141,"column":16},"end":{"line":141,"column":77}},"83":{"start":{"line":143,"column":12},"end":{"line":143,"column":97}},"84":{"start":{"line":144,"column":12},"end":{"line":144,"column":94}},"85":{"start":{"line":147,"column":12},"end":{"line":147,"column":83}},"86":{"start":{"line":151,"column":8},"end":{"line":196,"column":9}},"87":{"start":{"line":152,"column":33},"end":{"line":152,"column":63}},"88":{"start":{"line":153,"column":24},"end":{"line":153,"column":45}},"89":{"start":{"line":154,"column":12},"end":{"line":154,"column":46}},"90":{"start":{"line":155,"column":24},"end":{"line":155,"column":46}},"91":{"start":{"line":156,"column":12},"end":{"line":158,"column":13}},"92":{"start":{"line":157,"column":16},"end":{"line":157,"column":77}},"93":{"start":{"line":159,"column":31},"end":{"line":159,"column":56}},"94":{"start":{"line":160,"column":30},"end":{"line":160,"column":63}},"95":{"start":{"line":161,"column":24},"end":{"line":161,"column":47}},"96":{"start":{"line":162,"column":28},"end":{"line":162,"column":59}},"97":{"start":{"line":163,"column":31},"end":{"line":163,"column":63}},"98":{"start":{"line":164,"column":27},"end":{"line":164,"column":41}},"99":{"start":{"line":165,"column":12},"end":{"line":185,"column":13}},"100":{"start":{"line":167,"column":27},"end":{"line":167,"column":47}},"101":{"start":{"line":168,"column":16},"end":{"line":184,"column":17}},"102":{"start":{"line":169,"column":39},"end":{"line":169,"column":54}},"103":{"start":{"line":170,"column":20},"end":{"line":183,"column":21}},"104":{"start":{"line":171,"column":24},"end":{"line":181,"column":37}},"105":{"start":{"line":174,"column":28},"end":{"line":179,"column":29}},"106":{"start":{"line":175,"column":45},"end":{"line":175,"column":81}},"107":{"start":{"line":176,"column":32},"end":{"line":176,"column":65}},"108":{"start":{"line":182,"column":24},"end":{"line":182,"column":50}},"109":{"start":{"line":186,"column":12},"end":{"line":186,"column":40}},"110":{"start":{"line":187,"column":12},"end":{"line":187,"column":36}},"111":{"start":{"line":188,"column":12},"end":{"line":190,"column":13}},"112":{"start":{"line":189,"column":16},"end":{"line":189,"column":74}},"113":{"start":{"line":191,"column":12},"end":{"line":191,"column":92}},"114":{"start":{"line":192,"column":12},"end":{"line":192,"column":89}},"115":{"start":{"line":195,"column":12},"end":{"line":195,"column":83}},"116":{"start":{"line":199,"column":19},"end":{"line":204,"column":9}},"117":{"start":{"line":205,"column":8},"end":{"line":205,"column":112}},"118":{"start":{"line":208,"column":22},"end":{"line":208,"column":24}},"119":{"start":{"line":209,"column":19},"end":{"line":213,"column":9}},"120":{"start":{"line":214,"column":8},"end":{"line":214,"column":58}},"121":{"start":{"line":215,"column":8},"end":{"line":219,"column":9}},"122":{"start":{"line":216,"column":12},"end":{"line":218,"column":13}},"123":{"start":{"line":217,"column":16},"end":{"line":217,"column":47}},"124":{"start":{"line":220,"column":8},"end":{"line":220,"column":40}},"125":{"start":{"line":223,"column":0},"end":{"line":223,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":18},"end":{"line":20,"column":5}},"line":17},"2":{"name":"(anonymous_2)","decl":{"start":{"line":21,"column":4},"end":{"line":21,"column":5}},"loc":{"start":{"line":21,"column":40},"end":{"line":32,"column":5}},"line":21},"3":{"name":"(anonymous_3)","decl":{"start":{"line":33,"column":4},"end":{"line":33,"column":5}},"loc":{"start":{"line":33,"column":28},"end":{"line":48,"column":5}},"line":33},"4":{"name":"(anonymous_4)","decl":{"start":{"line":49,"column":4},"end":{"line":49,"column":5}},"loc":{"start":{"line":49,"column":24},"end":{"line":66,"column":5}},"line":49},"5":{"name":"(anonymous_5)","decl":{"start":{"line":50,"column":27},"end":{"line":50,"column":28}},"loc":{"start":{"line":50,"column":48},"end":{"line":65,"column":9}},"line":50},"6":{"name":"(anonymous_6)","decl":{"start":{"line":67,"column":4},"end":{"line":67,"column":5}},"loc":{"start":{"line":67,"column":19},"end":{"line":77,"column":5}},"line":67},"7":{"name":"(anonymous_7)","decl":{"start":{"line":68,"column":27},"end":{"line":68,"column":28}},"loc":{"start":{"line":68,"column":48},"end":{"line":76,"column":9}},"line":68},"8":{"name":"(anonymous_8)","decl":{"start":{"line":78,"column":4},"end":{"line":78,"column":5}},"loc":{"start":{"line":78,"column":17},"end":{"line":95,"column":5}},"line":78},"9":{"name":"(anonymous_9)","decl":{"start":{"line":96,"column":4},"end":{"line":96,"column":5}},"loc":{"start":{"line":96,"column":21},"end":{"line":107,"column":5}},"line":96},"10":{"name":"(anonymous_10)","decl":{"start":{"line":108,"column":4},"end":{"line":108,"column":5}},"loc":{"start":{"line":108,"column":41},"end":{"line":149,"column":5}},"line":108},"11":{"name":"(anonymous_11)","decl":{"start":{"line":124,"column":38},"end":{"line":124,"column":39}},"loc":{"start":{"line":124,"column":55},"end":{"line":128,"column":29}},"line":124},"12":{"name":"(anonymous_12)","decl":{"start":{"line":129,"column":39},"end":{"line":129,"column":40}},"loc":{"start":{"line":129,"column":46},"end":{"line":131,"column":29}},"line":129},"13":{"name":"(anonymous_13)","decl":{"start":{"line":150,"column":4},"end":{"line":150,"column":5}},"loc":{"start":{"line":150,"column":39},"end":{"line":197,"column":5}},"line":150},"14":{"name":"(anonymous_14)","decl":{"start":{"line":173,"column":34},"end":{"line":173,"column":35}},"loc":{"start":{"line":173,"column":55},"end":{"line":180,"column":25}},"line":173},"15":{"name":"(anonymous_15)","decl":{"start":{"line":198,"column":4},"end":{"line":198,"column":5}},"loc":{"start":{"line":198,"column":38},"end":{"line":206,"column":5}},"line":198},"16":{"name":"(anonymous_16)","decl":{"start":{"line":207,"column":4},"end":{"line":207,"column":5}},"loc":{"start":{"line":207,"column":34},"end":{"line":221,"column":5}},"line":207}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"type":"if","locations":[{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},{"start":{"line":22,"column":8},"end":{"line":24,"column":9}}],"line":22},"4":{"loc":{"start":{"line":25,"column":8},"end":{"line":27,"column":9}},"type":"if","locations":[{"start":{"line":25,"column":8},"end":{"line":27,"column":9}},{"start":{"line":25,"column":8},"end":{"line":27,"column":9}}],"line":25},"5":{"loc":{"start":{"line":28,"column":8},"end":{"line":30,"column":9}},"type":"if","locations":[{"start":{"line":28,"column":8},"end":{"line":30,"column":9}},{"start":{"line":28,"column":8},"end":{"line":30,"column":9}}],"line":28},"6":{"loc":{"start":{"line":34,"column":8},"end":{"line":36,"column":9}},"type":"if","locations":[{"start":{"line":34,"column":8},"end":{"line":36,"column":9}},{"start":{"line":34,"column":8},"end":{"line":36,"column":9}}],"line":34},"7":{"loc":{"start":{"line":37,"column":8},"end":{"line":39,"column":9}},"type":"if","locations":[{"start":{"line":37,"column":8},"end":{"line":39,"column":9}},{"start":{"line":37,"column":8},"end":{"line":39,"column":9}}],"line":37},"8":{"loc":{"start":{"line":54,"column":16},"end":{"line":56,"column":17}},"type":"if","locations":[{"start":{"line":54,"column":16},"end":{"line":56,"column":17}},{"start":{"line":54,"column":16},"end":{"line":56,"column":17}}],"line":54},"9":{"loc":{"start":{"line":54,"column":20},"end":{"line":54,"column":55}},"type":"binary-expr","locations":[{"start":{"line":54,"column":20},"end":{"line":54,"column":26}},{"start":{"line":54,"column":30},"end":{"line":54,"column":55}}],"line":54},"10":{"loc":{"start":{"line":71,"column":16},"end":{"line":73,"column":17}},"type":"if","locations":[{"start":{"line":71,"column":16},"end":{"line":73,"column":17}},{"start":{"line":71,"column":16},"end":{"line":73,"column":17}}],"line":71},"11":{"loc":{"start":{"line":99,"column":12},"end":{"line":104,"column":13}},"type":"if","locations":[{"start":{"line":99,"column":12},"end":{"line":104,"column":13}},{"start":{"line":99,"column":12},"end":{"line":104,"column":13}}],"line":99},"12":{"loc":{"start":{"line":102,"column":17},"end":{"line":104,"column":13}},"type":"if","locations":[{"start":{"line":102,"column":17},"end":{"line":104,"column":13}},{"start":{"line":102,"column":17},"end":{"line":104,"column":13}}],"line":102},"13":{"loc":{"start":{"line":119,"column":20},"end":{"line":134,"column":21}},"type":"if","locations":[{"start":{"line":119,"column":20},"end":{"line":134,"column":21}},{"start":{"line":119,"column":20},"end":{"line":134,"column":21}}],"line":119},"14":{"loc":{"start":{"line":119,"column":24},"end":{"line":119,"column":86}},"type":"binary-expr","locations":[{"start":{"line":119,"column":24},"end":{"line":119,"column":43}},{"start":{"line":119,"column":47},"end":{"line":119,"column":86}}],"line":119},"15":{"loc":{"start":{"line":121,"column":24},"end":{"line":133,"column":25}},"type":"if","locations":[{"start":{"line":121,"column":24},"end":{"line":133,"column":25}},{"start":{"line":121,"column":24},"end":{"line":133,"column":25}}],"line":121},"16":{"loc":{"start":{"line":140,"column":12},"end":{"line":142,"column":13}},"type":"if","locations":[{"start":{"line":140,"column":12},"end":{"line":142,"column":13}},{"start":{"line":140,"column":12},"end":{"line":142,"column":13}}],"line":140},"17":{"loc":{"start":{"line":156,"column":12},"end":{"line":158,"column":13}},"type":"if","locations":[{"start":{"line":156,"column":12},"end":{"line":158,"column":13}},{"start":{"line":156,"column":12},"end":{"line":158,"column":13}}],"line":156},"18":{"loc":{"start":{"line":168,"column":16},"end":{"line":184,"column":17}},"type":"if","locations":[{"start":{"line":168,"column":16},"end":{"line":184,"column":17}},{"start":{"line":168,"column":16},"end":{"line":184,"column":17}}],"line":168},"19":{"loc":{"start":{"line":168,"column":20},"end":{"line":168,"column":52}},"type":"binary-expr","locations":[{"start":{"line":168,"column":20},"end":{"line":168,"column":24}},{"start":{"line":168,"column":28},"end":{"line":168,"column":52}}],"line":168},"20":{"loc":{"start":{"line":170,"column":20},"end":{"line":183,"column":21}},"type":"if","locations":[{"start":{"line":170,"column":20},"end":{"line":183,"column":21}},{"start":{"line":170,"column":20},"end":{"line":183,"column":21}}],"line":170},"21":{"loc":{"start":{"line":188,"column":12},"end":{"line":190,"column":13}},"type":"if","locations":[{"start":{"line":188,"column":12},"end":{"line":190,"column":13}},{"start":{"line":188,"column":12},"end":{"line":190,"column":13}}],"line":188},"22":{"loc":{"start":{"line":216,"column":12},"end":{"line":218,"column":13}},"type":"if","locations":[{"start":{"line":216,"column":12},"end":{"line":218,"column":13}},{"start":{"line":216,"column":12},"end":{"line":218,"column":13}}],"line":216}},"s":{"0":1,"1":5,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":77,"13":77,"14":94,"15":8,"16":86,"17":4,"18":82,"19":56,"20":26,"21":17,"22":3,"23":14,"24":3,"25":11,"26":11,"27":11,"28":11,"29":0,"30":190,"31":190,"32":190,"33":190,"34":190,"35":5,"36":185,"37":102,"38":102,"39":96,"40":94,"41":14,"42":14,"43":14,"44":19,"45":17,"46":14,"47":77,"48":77,"49":77,"50":77,"51":10,"52":10,"53":10,"54":0,"55":122,"56":122,"57":525,"58":7,"59":518,"60":485,"61":115,"62":56,"63":56,"64":56,"65":56,"66":56,"67":53,"68":53,"69":53,"70":35977,"71":35977,"72":35880,"73":35880,"74":35880,"75":35880,"76":35875,"77":35875,"78":9,"79":35880,"80":53,"81":53,"82":11,"83":42,"84":42,"85":14,"86":26,"87":26,"88":26,"89":26,"90":23,"91":23,"92":5,"93":18,"94":18,"95":18,"96":18,"97":18,"98":18,"99":18,"100":311,"101":311,"102":311,"103":311,"104":163,"105":163,"106":163,"107":163,"108":163,"109":18,"110":18,"111":18,"112":12,"113":6,"114":6,"115":20,"116":48,"117":48,"118":48,"119":48,"120":48,"121":48,"122":62,"123":62,"124":48,"125":1},"f":{"0":5,"1":77,"2":94,"3":17,"4":190,"5":190,"6":14,"7":14,"8":77,"9":122,"10":56,"11":35880,"12":9,"13":26,"14":163,"15":48,"16":48},"b":{"0":[1,1,1],"1":[3,2],"2":[5,5],"3":[8,86],"4":[4,82],"5":[56,26],"6":[3,14],"7":[3,11],"8":[5,185],"9":[190,187],"10":[17,2],"11":[7,518],"12":[485,33],"13":[35880,97],"14":[35977,35935],"15":[35880,0],"16":[11,42],"17":[5,18],"18":[311,0],"19":[311,311],"20":[163,148],"21":[12,6],"22":[62,0]},"inputSourceMap":{"version":3,"file":"/Users/han/code/cpsc310/c1/project_team123/src/controller/InsightFacade.ts","sources":["/Users/han/code/cpsc310/c1/project_team123/src/controller/InsightFacade.ts"],"names":[],"mappings":";;;;;AAAA,qDAO0B;AAC1B,kEAA0C;AAC1C,4DAAoC;AAEpC,wDAA0B;AAC1B,kDAA0B;AAC1B,8EAAsD;AACtD,2CAAsC;AAEtC,mCAA6B;AAG7B,MAAM,UAAU,GAAG,QAAQ,CAAC;AAO5B,MAAqB,aAAa;IAEzB,MAAM,CAAC,QAAQ,CAAsC;IAE7D;QACC,aAAa,CAAC,QAAQ,GAAG,IAAI,GAAG,EAAE,CAAC;QACnC,IAAI,CAAC,UAAU,EAAE,CAAC;IAEnB,CAAC;IAMM,KAAK,CAAC,UAAU,CAAC,EAAU,EAAE,OAAe,EAAE,IAAwB;QAC5E,IAAI,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,EAAE;YAE1B,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,6BAAY,CAAC,YAAY,CAAC,CAAC,CAAC;SACtD;QAED,IAAI,aAAa,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE;YACnC,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,6BAAY,CAAC,+BAA+B,CAAC,CAAC,CAAC;SACzE;QAED,IAAI,IAAI,KAAK,mCAAkB,CAAC,QAAQ,EAAE;YACzC,OAAO,IAAI,CAAC,iBAAiB,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;SAC3C;QACD,OAAO,IAAI,CAAC,eAAe,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;IAC1C,CAAC;IAKM,KAAK,CAAC,aAAa,CAAC,EAAU;QACpC,IAAI,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,EAAE;YAC1B,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,6BAAY,CAAC,YAAY,CAAC,CAAC,CAAC;SACtD;QACD,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE;YACpC,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,8BAAa,CAAC,2BAA2B,CAAC,CAAC,CAAC;SACtE;QAED,IAAI;YACH,MAAM,kBAAE,CAAC,MAAM,CAAC,UAAU,GAAG,GAAG,GAAG,EAAE,GAAG,OAAO,CAAC,CAAC;YACjD,aAAa,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;YACtC,OAAO,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;SAC3B;QAAC,MAAM;YACP,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,6BAAY,CAAC,wBAAwB,CAAC,CAAC,CAAC;SAClE;IACF,CAAC;IAOM,YAAY,CAAC,KAAc;QACjC,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACtC,IAAI,OAAO,GAAoB,EAAE,CAAC;YAClC,IAAI,EAAE,GAAmB,IAAI,wBAAc,EAAE,CAAC;YAE9C,IAAI;gBACH,IAAI,CAAC,KAAK,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;oBACxC,MAAM,IAAI,6BAAY,CAAC,yBAAyB,CAAC,CAAC;iBAClD;gBACD,EAAE,CAAC,aAAa,CAAC,KAAe,CAAC,CAAC;gBAClC,IAAI,WAAW,GAAG,IAAI,aAAK,CAAC,KAAkB,CAAC,CAAC;gBAChD,OAAO,GAAG,WAAW,CAAC,OAAO,EAAE,CAAC;gBAChC,OAAO,CAAC,OAAO,CAAC,CAAC;aACjB;YAAC,OAAO,KAAK,EAAE;gBACf,MAAM,CAAC,KAAK,CAAC,CAAC;aACd;QACF,CAAC,CAAC,CAAC;IACJ,CAAC;IAEM,YAAY;QAClB,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACtC,IAAI,MAAM,GAAqB,EAAE,CAAC;YAClC,KAAK,IAAI,OAAO,IAAI,aAAa,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE;gBACpD,IAAI,OAAO,EAAE;oBACZ,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;iBACrB;aACD;YACD,OAAO,CAAC,MAAM,CAAC,CAAC;QACjB,CAAC,CAAC,CAAC;IACJ,CAAC;IAEO,UAAU;QACjB,IAAI;YACH,kBAAE,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;YAC7B,IAAI,KAAK,GAAG,kBAAE,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;YACvC,KAAK,IAAI,IAAI,IAAI,KAAK,EAAE;gBACvB,IAAI,MAAM,GAAG,kBAAE,CAAC,YAAY,CAAC,UAAU,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC;gBACtD,IAAI,IAAI,GAAmB;oBAC1B,EAAE,EAAE,MAAM,CAAC,EAAE;oBACb,IAAI,EAAE,MAAM,CAAC,IAAI;oBACjB,OAAO,EAAE,MAAM,CAAC,OAAO;iBACvB,CAAC;gBACF,aAAa,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;aAC5C;SACD;QAAC,MAAM;YACP,OAAO,CAAC,KAAK,CAAC,gCAAgC,CAAC,CAAC;SAChD;IACF,CAAC;IAGM,YAAY,CAAC,EAAU;QAC7B,IAAI,UAAU,GAAY,IAAI,CAAC;QAC/B,KAAK,IAAI,MAAM,IAAI,EAAE,EAAE;YACtB,IAAI,MAAM,KAAK,GAAG,EAAE;gBACnB,OAAO,IAAI,CAAC;aACZ;iBAAM,IAAI,MAAM,KAAK,GAAG,EAAE;gBAC1B,UAAU,GAAG,KAAK,CAAC;aACnB;SACD;QACD,OAAO,UAAU,CAAC;IACnB,CAAC;IAEO,KAAK,CAAC,iBAAiB,CAAC,EAAU,EAAE,OAAe;QAC1D,IAAI;YACH,IAAI,OAAO,GAAG,IAAI,kBAAQ,CAAC,EAAE,CAAC,CAAC;YAC/B,MAAM,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;YACpD,MAAM,GAAG,GAAG,IAAI,eAAK,EAAE,CAAC;YACxB,MAAM,GAAG,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;YAClC,MAAM,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;YAExB,MAAM,QAAQ,GAAG,EAAE,CAAC;YAEpB,KAAK,IAAI,QAAQ,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;gBACxC,IAAI;oBACH,IAAI,UAAU,CAAC;oBACf,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,IAAI,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,UAAU,EAAE;wBACnE,IAAI,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;wBAC/B,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE;4BACd,UAAU,GAAG,IAAI;iCACf,KAAK,CAAC,MAAM,CAAC;iCACb,IAAI,CAAC,CAAC,WAAW,EAAE,EAAE;gCACrB,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;gCACrC,IAAI,MAAM,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC;gCAC9B,OAAO,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;4BAC7B,CAAC,CAAC;iCACD,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE;gCACZ,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;4BAC1B,CAAC,CAAC,CAAC;4BACJ,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;yBAC1B;qBACD;iBACD;gBAAC,MAAM;iBAEP;aACD;YACD,MAAM,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YAE5B,IAAI,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,EAAE;gBAC1B,MAAM,IAAI,6BAAY,CAAC,mBAAmB,CAAC,CAAC;aAC5C;YACD,MAAM,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,mCAAkB,CAAC,QAAQ,CAAC,CAAC;YACpE,OAAO,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,mCAAkB,CAAC,QAAQ,CAAC,CAAC;SACjE;QAAC,OAAO,CAAC,EAAE;YACX,MAAM,IAAI,6BAAY,CAAC,yBAAyB,GAAG,CAAC,CAAC,CAAC;SACtD;IACF,CAAC;IAEO,KAAK,CAAC,eAAe,CAAC,EAAU,EAAE,OAAe;QACxD,IAAI;YACH,MAAM,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;YACpD,MAAM,GAAG,GAAG,IAAI,eAAK,EAAE,CAAC;YACxB,MAAM,GAAG,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;YAClC,IAAI,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;YACnC,IAAI,CAAC,KAAK,EAAE;gBACX,MAAM,IAAI,6BAAY,CAAC,mBAAmB,CAAC,CAAC;aAC5C;YACD,IAAI,YAAY,GAAG,MAAM,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YAC7C,IAAI,WAAW,GAAG,IAAA,cAAK,EAAC,YAAY,CAAC,CAAC;YACtC,IAAI,KAAK,GAAG,IAAI,eAAK,CAAC,EAAE,CAAC,CAAC;YAC1B,IAAI,SAAS,GAAG,KAAK,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;YAChD,IAAI,YAAY,GAAG,KAAK,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;YACpD,IAAI,QAAQ,GAAG,CAAC,YAAY,CAAC,CAAC;YAC9B,KAAK,IAAI,QAAQ,IAAI,SAAS,EAAE;gBAC/B,IAAI,UAAU,CAAC;gBACf,IAAI,IAAI,GAAG,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBAChC,IAAI,IAAI,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;oBACrC,IAAI,YAAY,GAAG,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;oBACnC,IAAI,YAAY,EAAE;wBACjB,UAAU,GAAG,YAAY;6BACvB,KAAK,CAAC,MAAM,CAAC;6BACb,IAAI,CAAC,CAAC,eAAe,EAAE,EAAE;4BACzB,IAAI;gCACH,IAAI,MAAM,GAAG,IAAA,cAAK,EAAC,eAAe,CAAC,CAAC;gCACpC,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;6BACjC;4BAAC,MAAM;6BAEP;wBACF,CAAC,CAAC;6BACD,KAAK,EAAE,CAAC;wBACV,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;qBAC1B;iBACD;aACD;YACD,MAAM,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YAC5B,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;YAExB,IAAI,KAAK,CAAC,OAAO,EAAE,GAAG,CAAC,EAAE;gBACxB,MAAM,IAAI,6BAAY,CAAC,gBAAgB,CAAC,CAAC;aACzC;YACD,MAAM,IAAI,CAAC,kBAAkB,CAAC,KAAK,EAAE,mCAAkB,CAAC,KAAK,CAAC,CAAC;YAC/D,OAAO,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,mCAAkB,CAAC,KAAK,CAAC,CAAC;SAC5D;QAAC,OAAO,CAAC,EAAE;YACX,MAAM,IAAI,6BAAY,CAAC,yBAAyB,GAAG,CAAC,CAAC,CAAC;SACtD;IACF,CAAC;IAEO,kBAAkB,CAAC,OAAyB,EAAE,IAAwB;QAC7E,IAAI,IAAI,GAAG;YACV,EAAE,EAAE,OAAO,CAAC,KAAK,EAAE;YACnB,IAAI,EAAE,IAAI;YACV,OAAO,EAAE,OAAO,CAAC,OAAO,EAAE;YAC1B,QAAQ,EAAE,OAAO,CAAC,OAAO,EAAE;SAC3B,CAAC;QACF,OAAO,kBAAE,CAAC,SAAS,CAAC,UAAU,GAAG,GAAG,GAAG,OAAO,CAAC,KAAK,EAAE,GAAG,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;IACzF,CAAC;IAEO,cAAc,CAAC,OAAyB,EAAE,IAAwB;QACzE,IAAI,OAAO,GAAa,EAAE,CAAC;QAC3B,IAAI,IAAI,GAAmB;YAC1B,EAAE,EAAE,OAAO,CAAC,KAAK,EAAE;YACnB,IAAI,EAAE,IAAI;YACV,OAAO,EAAE,OAAO,CAAC,OAAO,EAAE;SAC1B,CAAC;QACF,aAAa,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,IAAI,CAAC,CAAC;QAClD,KAAK,IAAI,gBAAgB,IAAI,aAAa,CAAC,QAAQ,CAAC,IAAI,EAAE,EAAE;YAC3D,IAAI,aAAa,CAAC,QAAQ,CAAC,GAAG,CAAC,gBAAgB,CAAC,EAAE;gBACjD,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;aAC/B;SACD;QACD,OAAO,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;IACjC,CAAC;CACD;AA5OD,gCA4OC","sourcesContent":["import {\n\tIInsightFacade,\n\tInsightDataset,\n\tInsightDatasetKind,\n\tInsightError,\n\tInsightResult,\n\tNotFoundError,\n} from \"./IInsightFacade\";\nimport Sections from \"../models/Sections\";\nimport Rooms from \"../models/Rooms\";\n\nimport fs from \"fs-extra\";\nimport JSZip from \"jszip\";\nimport QueryValidator from \"../models/QueryValidator\";\nimport {Query} from \"../models/Query\";\nimport {JSONQuery} from \"../models/IQuery\";\nimport {parse} from \"parse5\";\nimport {Document} from \"parse5/dist/tree-adapters/default\";\n\nconst persistDir = \"./data\";\n// const tempDir = \"./temp\";\n\n/**\n * This is the main programmatic entry point for the project.\n * Method documentation is in IInsightFacade\n */\nexport default class InsightFacade implements IInsightFacade {\n\t// Datasets is a map of dataset ids to if they are used or not.\n\tprivate static datasets: Map<string, InsightDataset | false>;\n\n\tconstructor() {\n\t\tInsightFacade.datasets = new Map();\n\t\tthis.initialize();\n\t\t// console.log(\"InsightFacadeImpl::init()\");\n\t}\n\n\t// 1. Check valid InsightDatasetKind\n\t// 2. Check valid id\n\t// 3. Check Valid content\n\t// 4. Add dataset\n\tpublic async addDataset(id: string, content: string, kind: InsightDatasetKind): Promise<string[]> {\n\t\tif (this.isNotValidID(id)) {\n\t\t\t// Reject if id is not valid\n\t\t\treturn Promise.reject(new InsightError(\"Invalid id\"));\n\t\t}\n\t\t// Reject if a dataset with the same id is already present\n\t\tif (InsightFacade.datasets.get(id)) {\n\t\t\treturn Promise.reject(new InsightError(\"id already present in dataset\"));\n\t\t}\n\n\t\tif (kind === InsightDatasetKind.Sections) {\n\t\t\treturn this.addSectionDataset(id, content);\n\t\t}\n\t\treturn this.addRoomsDataset(id, content);\n\t}\n\n\t// 1. Check valid id\n\t// 2. Check id is in dataset\n\t// 3. Remove dataset\n\tpublic async removeDataset(id: string): Promise<string> {\n\t\tif (this.isNotValidID(id)) {\n\t\t\treturn Promise.reject(new InsightError(\"Invalid id\"));\n\t\t}\n\t\tif (!InsightFacade.datasets.get(id)) {\n\t\t\treturn Promise.reject(new NotFoundError(\"ID not present in dataset\"));\n\t\t}\n\n\t\ttry {\n\t\t\tawait fs.remove(persistDir + \"/\" + id + \".json\");\n\t\t\tInsightFacade.datasets.set(id, false);\n\t\t\treturn Promise.resolve(id);\n\t\t} catch {\n\t\t\treturn Promise.reject(new InsightError(\"Error removing dataset\"));\n\t\t}\n\t}\n\n\t// 1. Check dataset is present\n\t// 2. Check Query is valid\n\t// 3. Check id is a query that was added\n\t// 4. Check that output is not too large\n\t// 5. return output\n\tpublic performQuery(query: unknown): Promise<InsightResult[]> {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet results: InsightResult[] = [];\n\t\t\tlet QV: QueryValidator = new QueryValidator();\n\n\t\t\ttry {\n\t\t\t\tif (!query || typeof query !== \"object\") {\n\t\t\t\t\tthrow new InsightError(\"Query must be an object\");\n\t\t\t\t}\n\t\t\t\tQV.validateQuery(query as object);\n\t\t\t\tlet parsedQuery = new Query(query as JSONQuery);\n\t\t\t\tresults = parsedQuery.execute();\n\t\t\t\tresolve(results);\n\t\t\t} catch (error) {\n\t\t\t\treject(error);\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic listDatasets(): Promise<InsightDataset[]> {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet result: InsightDataset[] = [];\n\t\t\tfor (let dataset of InsightFacade.datasets.values()) {\n\t\t\t\tif (dataset) {\n\t\t\t\t\tresult.push(dataset);\n\t\t\t\t}\n\t\t\t}\n\t\t\tresolve(result);\n\t\t});\n\t}\n\n\tprivate initialize(): void {\n\t\ttry {\n\t\t\tfs.ensureDirSync(persistDir);\n\t\t\tlet files = fs.readdirSync(persistDir);\n\t\t\tfor (let file of files) {\n\t\t\t\tlet object = fs.readJSONSync(persistDir + \"/\" + file);\n\t\t\t\tlet data: InsightDataset = {\n\t\t\t\t\tid: object.id,\n\t\t\t\t\tkind: object.kind,\n\t\t\t\t\tnumRows: object.numRows,\n\t\t\t\t};\n\t\t\t\tInsightFacade.datasets.set(object.id, data);\n\t\t\t}\n\t\t} catch {\n\t\t\tconsole.error(\"Unable to initialize directory\");\n\t\t}\n\t}\n\n\t// Returns true if id is an empty string, contains only white space or contains an undersore\n\tpublic isNotValidID(id: string): boolean {\n\t\tlet isNotValid: boolean = true;\n\t\tfor (let letter of id) {\n\t\t\tif (letter === \"_\") {\n\t\t\t\treturn true;\n\t\t\t} else if (letter !== \" \") {\n\t\t\t\tisNotValid = false;\n\t\t\t}\n\t\t}\n\t\treturn isNotValid;\n\t}\n\n\tprivate async addSectionDataset(id: string, content: string): Promise<string[]> {\n\t\ttry {\n\t\t\tlet dataset = new Sections(id);\n\t\t\tconst stringBuffer = Buffer.from(content, \"base64\");\n\t\t\tconst zip = new JSZip();\n\t\t\tawait zip.loadAsync(stringBuffer);\n\t\t\tconst files = zip.files;\n\n\t\t\tconst promises = [];\n\n\t\t\tfor (let fileName of Object.keys(files)) {\n\t\t\t\ttry {\n\t\t\t\t\tlet newPromise;\n\t\t\t\t\tif (fileName.length > 8 && fileName.substring(0, 8) === \"courses/\") {\n\t\t\t\t\t\tlet file = zip.files[fileName];\n\t\t\t\t\t\tif (!file.dir) {\n\t\t\t\t\t\t\tnewPromise = file\n\t\t\t\t\t\t\t\t.async(\"text\")\n\t\t\t\t\t\t\t\t.then((fileContent) => {\n\t\t\t\t\t\t\t\t\tlet object = JSON.parse(fileContent);\n\t\t\t\t\t\t\t\t\tlet result = object[\"result\"];\n\t\t\t\t\t\t\t\t\tdataset.addSections(result);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t\t\t\t}); // Catch any error\n\t\t\t\t\t\t\tpromises.push(newPromise);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch {\n\t\t\t\t\t// It's ok to catch a single itteration\n\t\t\t\t}\n\t\t\t}\n\t\t\tawait Promise.all(promises);\n\n\t\t\tif (dataset.getSize() < 1) {\n\t\t\t\tthrow new InsightError(\"No valid sections\");\n\t\t\t}\n\t\t\tawait this.writeDatasetToFile(dataset, InsightDatasetKind.Sections);\n\t\t\treturn this.updateDatasets(dataset, InsightDatasetKind.Sections);\n\t\t} catch (e) {\n\t\t\tthrow new InsightError(\"Error extracting data: \" + e);\n\t\t}\n\t}\n\n\tprivate async addRoomsDataset(id: string, content: string): Promise<string[]> {\n\t\ttry {\n\t\t\tconst stringBuffer = Buffer.from(content, \"base64\");\n\t\t\tconst zip = new JSZip();\n\t\t\tawait zip.loadAsync(stringBuffer);\n\t\t\tlet index = zip.files[\"index.htm\"];\n\t\t\tif (!index) {\n\t\t\t\tthrow new InsightError(\"No index.htm file\");\n\t\t\t}\n\t\t\tlet indexContent = await index.async(\"text\");\n\t\t\tlet htmlContent = parse(indexContent);\n\t\t\tlet rooms = new Rooms(id);\n\t\t\tlet buildings = rooms.addBuildings(htmlContent);\n\t\t\tlet firstPromise = rooms.getGeolocations(buildings);\n\t\t\tlet promises = [firstPromise];\n\t\t\tfor (let building of buildings) {\n\t\t\t\tlet newPromise;\n\t\t\t\tlet link = building.get(\"href\");\n\t\t\t\tif (link && typeof link === \"string\") {\n\t\t\t\t\tlet buildingFile = zip.files[link];\n\t\t\t\t\tif (buildingFile) {\n\t\t\t\t\t\tnewPromise = buildingFile\n\t\t\t\t\t\t\t.async(\"text\")\n\t\t\t\t\t\t\t.then((buildingContent) => {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tlet parsed = parse(buildingContent);\n\t\t\t\t\t\t\t\t\trooms.addRooms(parsed, building);\n\t\t\t\t\t\t\t\t} catch {\n\t\t\t\t\t\t\t\t\t// Do nothing\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(); // Do nothing\n\t\t\t\t\t\tpromises.push(newPromise);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tawait Promise.all(promises);\n\t\t\trooms.update(buildings);\n\n\t\t\tif (rooms.getSize() < 1) {\n\t\t\t\tthrow new InsightError(\"No valid rooms\");\n\t\t\t}\n\t\t\tawait this.writeDatasetToFile(rooms, InsightDatasetKind.Rooms);\n\t\t\treturn this.updateDatasets(rooms, InsightDatasetKind.Rooms);\n\t\t} catch (e) {\n\t\t\tthrow new InsightError(\"Error extracting data: \" + e);\n\t\t}\n\t}\n\n\tprivate writeDatasetToFile(dataset: Sections | Rooms, kind: InsightDatasetKind): Promise<void> {\n\t\tlet data = {\n\t\t\tid: dataset.getId(),\n\t\t\tkind: kind,\n\t\t\tnumRows: dataset.getSize(),\n\t\t\tsections: dataset.getData(),\n\t\t};\n\t\treturn fs.writeFile(persistDir + \"/\" + dataset.getId() + \".json\", JSON.stringify(data));\n\t}\n\n\tprivate updateDatasets(dataset: Sections | Rooms, kind: InsightDatasetKind): Promise<string[]> {\n\t\tlet results: string[] = [];\n\t\tlet data: InsightDataset = {\n\t\t\tid: dataset.getId(),\n\t\t\tkind: kind,\n\t\t\tnumRows: dataset.getSize(),\n\t\t};\n\t\tInsightFacade.datasets.set(dataset.getId(), data);\n\t\tfor (let potentialDataset of InsightFacade.datasets.keys()) {\n\t\t\tif (InsightFacade.datasets.get(potentialDataset)) {\n\t\t\t\tresults.push(potentialDataset);\n\t\t\t}\n\t\t}\n\t\treturn Promise.resolve(results);\n\t}\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8c2106965a2e88eb12ab256dbc392d4bc96b0624","contentHash":"44f3f51dbcaf7750726e34fa85b7c05664953d21448566340c7732d91a7c106a"},"/Users/han/code/cpsc310/c1/project_team123/src/models/Sections.ts":{"path":"/Users/han/code/cpsc310/c1/project_team123/src/models/Sections.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":25},"end":{"line":3,"column":64}},"2":{"start":{"line":4,"column":18},"end":{"line":4,"column":38}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":64}},"4":{"start":{"line":10,"column":8},"end":{"line":18,"column":9}},"5":{"start":{"line":11,"column":12},"end":{"line":17,"column":13}},"6":{"start":{"line":12,"column":41},"end":{"line":12,"column":65}},"7":{"start":{"line":13,"column":16},"end":{"line":13,"column":49}},"8":{"start":{"line":14,"column":16},"end":{"line":14,"column":28}},"9":{"start":{"line":21,"column":8},"end":{"line":23,"column":9}},"10":{"start":{"line":22,"column":12},"end":{"line":22,"column":73}},"11":{"start":{"line":24,"column":8},"end":{"line":26,"column":9}},"12":{"start":{"line":25,"column":12},"end":{"line":25,"column":37}},"13":{"start":{"line":29,"column":25},"end":{"line":40,"column":9}},"14":{"start":{"line":41,"column":8},"end":{"line":41,"column":26}},"15":{"start":{"line":44,"column":20},"end":{"line":44,"column":32}},"16":{"start":{"line":45,"column":8},"end":{"line":47,"column":9}},"17":{"start":{"line":46,"column":12},"end":{"line":46,"column":75}},"18":{"start":{"line":48,"column":8},"end":{"line":50,"column":9}},"19":{"start":{"line":49,"column":12},"end":{"line":49,"column":23}},"20":{"start":{"line":51,"column":8},"end":{"line":65,"column":9}},"21":{"start":{"line":52,"column":12},"end":{"line":61,"column":13}},"22":{"start":{"line":53,"column":16},"end":{"line":53,"column":38}},"23":{"start":{"line":56,"column":29},"end":{"line":56,"column":46}},"24":{"start":{"line":57,"column":16},"end":{"line":59,"column":17}},"25":{"start":{"line":58,"column":20},"end":{"line":58,"column":62}},"26":{"start":{"line":60,"column":16},"end":{"line":60,"column":30}},"27":{"start":{"line":64,"column":12},"end":{"line":64,"column":93}},"28":{"start":{"line":68,"column":8},"end":{"line":68,"column":54}},"29":{"start":{"line":71,"column":8},"end":{"line":71,"column":54}},"30":{"start":{"line":74,"column":8},"end":{"line":79,"column":9}},"31":{"start":{"line":75,"column":12},"end":{"line":75,"column":24}},"32":{"start":{"line":78,"column":12},"end":{"line":78,"column":53}},"33":{"start":{"line":82,"column":0},"end":{"line":82,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":20},"end":{"line":8,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":24},"end":{"line":19,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":26},"end":{"line":27,"column":5}},"line":20},"3":{"name":"(anonymous_3)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":24},"end":{"line":42,"column":5}},"line":28},"4":{"name":"(anonymous_4)","decl":{"start":{"line":43,"column":4},"end":{"line":43,"column":5}},"loc":{"start":{"line":43,"column":34},"end":{"line":66,"column":5}},"line":43},"5":{"name":"(anonymous_5)","decl":{"start":{"line":67,"column":4},"end":{"line":67,"column":5}},"loc":{"start":{"line":67,"column":30},"end":{"line":69,"column":5}},"line":67},"6":{"name":"(anonymous_6)","decl":{"start":{"line":70,"column":4},"end":{"line":70,"column":5}},"loc":{"start":{"line":70,"column":30},"end":{"line":72,"column":5}},"line":70},"7":{"name":"(anonymous_7)","decl":{"start":{"line":73,"column":4},"end":{"line":73,"column":5}},"loc":{"start":{"line":73,"column":21},"end":{"line":80,"column":5}},"line":73}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":8},"end":{"line":18,"column":9}},"type":"if","locations":[{"start":{"line":10,"column":8},"end":{"line":18,"column":9}},{"start":{"line":10,"column":8},"end":{"line":18,"column":9}}],"line":10},"1":{"loc":{"start":{"line":21,"column":8},"end":{"line":23,"column":9}},"type":"if","locations":[{"start":{"line":21,"column":8},"end":{"line":23,"column":9}},{"start":{"line":21,"column":8},"end":{"line":23,"column":9}}],"line":21},"2":{"loc":{"start":{"line":45,"column":8},"end":{"line":47,"column":9}},"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":47,"column":9}},{"start":{"line":45,"column":8},"end":{"line":47,"column":9}}],"line":45},"3":{"loc":{"start":{"line":48,"column":8},"end":{"line":50,"column":9}},"type":"if","locations":[{"start":{"line":48,"column":8},"end":{"line":50,"column":9}},{"start":{"line":48,"column":8},"end":{"line":50,"column":9}}],"line":48},"4":{"loc":{"start":{"line":52,"column":12},"end":{"line":61,"column":13}},"type":"if","locations":[{"start":{"line":52,"column":12},"end":{"line":61,"column":13}},{"start":{"line":52,"column":12},"end":{"line":61,"column":13}}],"line":52},"5":{"loc":{"start":{"line":57,"column":16},"end":{"line":59,"column":17}},"type":"if","locations":[{"start":{"line":57,"column":16},"end":{"line":59,"column":17}},{"start":{"line":57,"column":16},"end":{"line":59,"column":17}}],"line":57},"6":{"loc":{"start":{"line":57,"column":20},"end":{"line":57,"column":43}},"type":"binary-expr","locations":[{"start":{"line":57,"column":20},"end":{"line":57,"column":27}},{"start":{"line":57,"column":31},"end":{"line":57,"column":43}}],"line":57},"7":{"loc":{"start":{"line":74,"column":8},"end":{"line":79,"column":9}},"type":"if","locations":[{"start":{"line":74,"column":8},"end":{"line":79,"column":9}},{"start":{"line":74,"column":8},"end":{"line":79,"column":9}}],"line":74}},"s":{"0":1,"1":1,"2":1,"3":138,"4":403154,"5":403153,"6":403153,"7":403128,"8":403128,"9":35878,"10":3,"11":35875,"12":403145,"13":403153,"14":403128,"15":3882801,"16":3882801,"17":23,"18":3882778,"19":3225103,"20":657675,"21":657675,"22":403140,"23":254535,"24":254535,"25":2,"26":254533,"27":2,"28":2015727,"29":1867074,"30":403141,"31":148604,"32":254537,"33":1},"f":{"0":138,"1":403154,"2":35878,"3":403153,"4":3882801,"5":2015727,"6":1867074,"7":403141},"b":{"0":[403153,1],"1":[3,35875],"2":[23,3882778],"3":[3225103,657675],"4":[403140,254535],"5":[2,254533],"6":[254535,4],"7":[148604,254537]},"inputSourceMap":{"version":3,"file":"/Users/han/code/cpsc310/c1/project_team123/src/models/Sections.ts","sources":["/Users/han/code/cpsc310/c1/project_team123/src/models/Sections.ts"],"names":[],"mappings":"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","sourcesContent":["import {InsightDatasetKind, InsightError} from \"../controller/IInsightFacade\";\nimport {Dataset} from \"./Dataset\";\n\nexport interface Section {\n\tuuid: string;\n\tid: string;\n\ttitle: string;\n\tinstructor: string;\n\tdept: string;\n\tyear: number;\n\tavg: number;\n\tpass: number;\n\tfail: number;\n\taudit: number;\n}\n\nexport default class Sections extends Dataset {\n\tconstructor(id: string) {\n\t\tsuper(id, InsightDatasetKind.Sections);\n\t}\n\n\t// Adds section to this.section and increases size by 1\n\t// If section is missing required keys then it does not add\n\tpublic addSection(section: any): void {\n\t\tif (section !== undefined) {\n\t\t\ttry {\n\t\t\t\tconst formattedSection: Section = this.newSection(section);\n\t\t\t\tthis.data.push(formattedSection);\n\t\t\t\t// console.log(this.data)\n\t\t\t\tthis.size++;\n\t\t\t} catch {\n\t\t\t\t// do nothing\n\t\t\t}\n\t\t}\n\t}\n\n\t// Adds sections to a dataset\n\t// Throws InsightError if input list is empty\n\tpublic addSections(sections: any[]): void {\n\t\t// console.log(this.getSize())\n\t\tif (sections === undefined) {\n\t\t\tthrow new InsightError(\"No valid sections\");\n\t\t}\n\t\tfor (let section of sections) {\n\t\t\tthis.addSection(section);\n\t\t}\n\t\t// console.log(this.getSize())\n\t}\n\n\tprivate newSection(section: any): Section {\n\t\tlet newSection: Section = {\n\t\t\tuuid: this.keyToString(section, \"id\"),\n\t\t\tid: this.keyToString(section, \"Course\"),\n\t\t\ttitle: this.keyToString(section, \"Title\"),\n\t\t\tinstructor: this.keyToString(section, \"Professor\"),\n\t\t\tdept: this.keyToString(section, \"Subject\"),\n\t\t\tyear: this.getYear(section),\n\t\t\tavg: this.keyToNumber(section, \"Avg\"),\n\t\t\tpass: this.keyToNumber(section, \"Pass\"),\n\t\t\tfail: this.keyToNumber(section, \"Fail\"),\n\t\t\taudit: this.keyToNumber(section, \"Audit\"),\n\t\t};\n\t\treturn newSection;\n\t}\n\n\t// Checks the type of the key and tries to conver to type, otherwise throws InsightError\n\tprivate keyToType(section: any, key: string, type: \"string\" | \"number\"): string | number {\n\t\tconst obj = section[key];\n\t\tif (obj === undefined) {\n\t\t\tthrow new InsightError(key + \" is undefined\");\n\t\t}\n\t\tif (typeof obj === type) {\n\t\t\treturn obj;\n\t\t}\n\n\t\ttry {\n\t\t\tif (type === \"string\") {\n\t\t\t\t// console.log(\"returning: \" + key)\n\t\t\t\treturn obj.toString();\n\t\t\t} else {\n\t\t\t\tlet result = parseInt(obj, 10);\n\t\t\t\tif (!result && result !== 0) {\n\t\t\t\t\tthrow new InsightError();\n\t\t\t\t}\n\t\t\t\t// console.log(\"returning: \" + key);\n\t\t\t\treturn result;\n\t\t\t}\n\t\t} catch {\n\t\t\tthrow new InsightError(key + \" cannot be converted to \" + type);\n\t\t}\n\t}\n\n\tprivate keyToString(section: any, key: string): string {\n\t\treturn this.keyToType(section, key, \"string\") as string;\n\t}\n\n\tprivate keyToNumber(section: any, key: string): number {\n\t\treturn this.keyToType(section, key, \"number\") as number;\n\t}\n\n\tprivate getYear(section: any): number {\n\t\tif (section[\"Section\"] === \"overall\") {\n\t\t\treturn 1900;\n\t\t} else {\n\t\t\treturn this.keyToNumber(section, \"Year\");\n\t\t}\n\t}\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"953642cde33462425239b2a2bdba8bbf0a653760","contentHash":"c03ffbd8b4fe71321dadedd02dd69a0349c33b4156d2194fca4042cfb1e24400"},"/Users/han/code/cpsc310/c1/project_team123/src/models/Dataset.ts":{"path":"/Users/han/code/cpsc310/c1/project_team123/src/models/Dataset.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":25}},"2":{"start":{"line":4,"column":25},"end":{"line":4,"column":64}},"3":{"start":{"line":11,"column":8},"end":{"line":11,"column":22}},"4":{"start":{"line":12,"column":8},"end":{"line":12,"column":21}},"5":{"start":{"line":13,"column":8},"end":{"line":13,"column":25}},"6":{"start":{"line":14,"column":8},"end":{"line":14,"column":23}},"7":{"start":{"line":17,"column":8},"end":{"line":17,"column":23}},"8":{"start":{"line":20,"column":8},"end":{"line":20,"column":25}},"9":{"start":{"line":23,"column":8},"end":{"line":23,"column":25}},"10":{"start":{"line":26,"column":8},"end":{"line":26,"column":25}},"11":{"start":{"line":29,"column":20},"end":{"line":29,"column":29}},"12":{"start":{"line":30,"column":8},"end":{"line":32,"column":11}},"13":{"start":{"line":31,"column":12},"end":{"line":31,"column":113}},"14":{"start":{"line":33,"column":8},"end":{"line":33,"column":19}},"15":{"start":{"line":36,"column":8},"end":{"line":38,"column":9}},"16":{"start":{"line":37,"column":12},"end":{"line":37,"column":77}},"17":{"start":{"line":39,"column":8},"end":{"line":41,"column":9}},"18":{"start":{"line":40,"column":12},"end":{"line":40,"column":45}},"19":{"start":{"line":44,"column":8},"end":{"line":47,"column":9}},"20":{"start":{"line":45,"column":12},"end":{"line":45,"column":34}},"21":{"start":{"line":46,"column":12},"end":{"line":46,"column":24}},"22":{"start":{"line":50,"column":0},"end":{"line":50,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":26},"end":{"line":15,"column":5}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":12},"end":{"line":18,"column":5}},"line":16},"2":{"name":"(anonymous_2)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":14},"end":{"line":21,"column":5}},"line":19},"3":{"name":"(anonymous_3)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":14},"end":{"line":24,"column":5}},"line":22},"4":{"name":"(anonymous_4)","decl":{"start":{"line":25,"column":4},"end":{"line":25,"column":5}},"loc":{"start":{"line":25,"column":14},"end":{"line":27,"column":5}},"line":25},"5":{"name":"(anonymous_5)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":19},"end":{"line":34,"column":5}},"line":28},"6":{"name":"(anonymous_6)","decl":{"start":{"line":30,"column":26},"end":{"line":30,"column":27}},"loc":{"start":{"line":30,"column":37},"end":{"line":32,"column":9}},"line":30},"7":{"name":"(anonymous_7)","decl":{"start":{"line":35,"column":4},"end":{"line":35,"column":5}},"loc":{"start":{"line":35,"column":30},"end":{"line":42,"column":5}},"line":35},"8":{"name":"(anonymous_8)","decl":{"start":{"line":43,"column":4},"end":{"line":43,"column":5}},"loc":{"start":{"line":43,"column":32},"end":{"line":48,"column":5}},"line":43}},"branchMap":{"0":{"loc":{"start":{"line":31,"column":20},"end":{"line":31,"column":104}},"type":"cond-expr","locations":[{"start":{"line":31,"column":81},"end":{"line":31,"column":91}},{"start":{"line":31,"column":94},"end":{"line":31,"column":104}}],"line":31},"1":{"loc":{"start":{"line":36,"column":8},"end":{"line":38,"column":9}},"type":"if","locations":[{"start":{"line":36,"column":8},"end":{"line":38,"column":9}},{"start":{"line":36,"column":8},"end":{"line":38,"column":9}}],"line":36},"2":{"loc":{"start":{"line":44,"column":8},"end":{"line":47,"column":9}},"type":"if","locations":[{"start":{"line":44,"column":8},"end":{"line":47,"column":9}},{"start":{"line":44,"column":8},"end":{"line":47,"column":9}}],"line":44}},"s":{"0":1,"1":1,"2":1,"3":185,"4":185,"5":185,"6":185,"7":192,"8":179,"9":3651772,"10":219,"11":99,"12":99,"13":4533396,"14":99,"15":99,"16":0,"17":99,"18":4533396,"19":4533396,"20":4533396,"21":4533396,"22":1},"f":{"0":185,"1":192,"2":179,"3":3651772,"4":219,"5":99,"6":4533396,"7":99,"8":4533396},"b":{"0":[4522840,10556],"1":[0,99],"2":[4533396,0]},"inputSourceMap":{"version":3,"file":"/Users/han/code/cpsc310/c1/project_team123/src/models/Dataset.ts","sources":["/Users/han/code/cpsc310/c1/project_team123/src/models/Dataset.ts"],"names":[],"mappings":";;;AAAA,iEAA8E;AAE9E,MAAsB,OAAO;IACpB,EAAE,CAAS;IACT,IAAI,CAAS;IACf,IAAI,CAAqB;IACvB,IAAI,CAAQ;IAEtB,YAAY,EAAU,EAAE,IAAwB;QAC/C,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;QACd,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;IAChB,CAAC;IAEM,KAAK;QACX,OAAO,IAAI,CAAC,EAAE,CAAC;IAChB,CAAC;IAEM,OAAO;QACb,OAAO,IAAI,CAAC,IAAI,CAAC;IAClB,CAAC;IAEM,OAAO;QACb,OAAO,IAAI,CAAC,IAAI,CAAC;IAClB,CAAC;IAEM,OAAO;QACb,OAAO,IAAI,CAAC,IAAI,CAAC;IAClB,CAAC;IAEM,YAAY;QAClB,MAAM,GAAG,GAAG,IAAI,GAAG,EAAe,CAAC;QACnC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;YAC3B,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,KAAK,mCAAkB,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QACrF,CAAC,CAAC,CAAC;QACH,OAAO,GAAG,CAAC;IACZ,CAAC;IAEM,eAAe,CAAC,QAAe;QACrC,IAAI,QAAQ,KAAK,SAAS,EAAE;YAC3B,MAAM,IAAI,6BAAY,CAAC,YAAY,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;SAChD;QACD,KAAK,IAAI,KAAK,IAAI,QAAQ,EAAE;YAC3B,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;SACjC;IACF,CAAC;IAEO,oBAAoB,CAAC,KAAU;QACtC,IAAI,KAAK,KAAK,SAAS,EAAE;YACxB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACtB,IAAI,CAAC,IAAI,EAAE,CAAC;SACZ;IACF,CAAC;CACD;AApDD,0BAoDC","sourcesContent":["import {InsightDatasetKind, InsightError} from \"../controller/IInsightFacade\";\n\nexport abstract class Dataset {\n\tprivate id: string;\n\tprotected size: number;\n\tprivate kind: InsightDatasetKind;\n\tprotected data: any[];\n\n\tconstructor(id: string, kind: InsightDatasetKind) {\n\t\tthis.size = 0;\n\t\tthis.id = id;\n\t\tthis.kind = kind;\n\t\tthis.data = [];\n\t}\n\n\tpublic getId(): string {\n\t\treturn this.id;\n\t}\n\n\tpublic getSize(): number {\n\t\treturn this.size;\n\t}\n\n\tpublic getKind(): InsightDatasetKind {\n\t\treturn this.kind;\n\t}\n\n\tpublic getData(): any[] {\n\t\treturn this.data;\n\t}\n\n\tpublic getDataAsMap(): Map<string, any> {\n\t\tconst map = new Map<string, any>();\n\t\tthis.data.forEach((entry) => {\n\t\t\tmap.set(this.kind === InsightDatasetKind.Sections ? entry.uuid : entry.href, entry);\n\t\t});\n\t\treturn map;\n\t}\n\n\tpublic addDataFromJSON(fileData: any[]): void {\n\t\tif (fileData === undefined) {\n\t\t\tthrow new InsightError(`No valid ${this.kind}`);\n\t\t}\n\t\tfor (let entry of fileData) {\n\t\t\tthis.addAlreadyValidEntry(entry);\n\t\t}\n\t}\n\n\tprivate addAlreadyValidEntry(entry: any) {\n\t\tif (entry !== undefined) {\n\t\t\tthis.data.push(entry);\n\t\t\tthis.size++;\n\t\t}\n\t}\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f9ae1f479cd8c806e4db9ec5081e5f45d624a756","contentHash":"20dfe138611a0923623811dad29080c5b566fb13c5e95a5c23513803823b2ada"},"/Users/han/code/cpsc310/c1/project_team123/src/models/Rooms.ts":{"path":"/Users/han/code/cpsc310/c1/project_team123/src/models/Rooms.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":25},"end":{"line":6,"column":64}},"4":{"start":{"line":7,"column":20},"end":{"line":7,"column":57}},"5":{"start":{"line":8,"column":18},"end":{"line":8,"column":38}},"6":{"start":{"line":10,"column":16},"end":{"line":10,"column":79}},"7":{"start":{"line":12,"column":8},"end":{"line":12,"column":61}},"8":{"start":{"line":15,"column":24},"end":{"line":15,"column":26}},"9":{"start":{"line":16,"column":21},"end":{"line":16,"column":50}},"10":{"start":{"line":17,"column":8},"end":{"line":26,"column":9}},"11":{"start":{"line":18,"column":23},"end":{"line":18,"column":52}},"12":{"start":{"line":19,"column":23},"end":{"line":19,"column":51}},"13":{"start":{"line":20,"column":12},"end":{"line":25,"column":13}},"14":{"start":{"line":21,"column":31},"end":{"line":21,"column":52}},"15":{"start":{"line":22,"column":16},"end":{"line":24,"column":17}},"16":{"start":{"line":23,"column":20},"end":{"line":23,"column":45}},"17":{"start":{"line":27,"column":8},"end":{"line":27,"column":25}},"18":{"start":{"line":30,"column":29},"end":{"line":30,"column":65}},"19":{"start":{"line":31,"column":8},"end":{"line":35,"column":9}},"20":{"start":{"line":32,"column":12},"end":{"line":34,"column":13}},"21":{"start":{"line":33,"column":16},"end":{"line":33,"column":29}},"22":{"start":{"line":36,"column":8},"end":{"line":36,"column":20}},"23":{"start":{"line":39,"column":23},"end":{"line":39,"column":32}},"24":{"start":{"line":40,"column":8},"end":{"line":40,"column":116}},"25":{"start":{"line":41,"column":8},"end":{"line":41,"column":115}},"26":{"start":{"line":42,"column":8},"end":{"line":42,"column":100}},"27":{"start":{"line":43,"column":8},"end":{"line":43,"column":76}},"28":{"start":{"line":44,"column":8},"end":{"line":44,"column":24}},"29":{"start":{"line":47,"column":20},"end":{"line":47,"column":22}},"30":{"start":{"line":48,"column":21},"end":{"line":48,"column":60}},"31":{"start":{"line":49,"column":8},"end":{"line":64,"column":9}},"32":{"start":{"line":50,"column":23},"end":{"line":50,"column":52}},"33":{"start":{"line":51,"column":23},"end":{"line":51,"column":51}},"34":{"start":{"line":52,"column":12},"end":{"line":63,"column":13}},"35":{"start":{"line":53,"column":27},"end":{"line":53,"column":44}},"36":{"start":{"line":54,"column":32},"end":{"line":54,"column":57}},"37":{"start":{"line":55,"column":29},"end":{"line":55,"column":47}},"38":{"start":{"line":56,"column":16},"end":{"line":59,"column":17}},"39":{"start":{"line":57,"column":31},"end":{"line":57,"column":55}},"40":{"start":{"line":58,"column":20},"end":{"line":58,"column":43}},"41":{"start":{"line":60,"column":16},"end":{"line":62,"column":17}},"42":{"start":{"line":61,"column":20},"end":{"line":61,"column":37}},"43":{"start":{"line":65,"column":8},"end":{"line":65,"column":37}},"44":{"start":{"line":68,"column":8},"end":{"line":92,"column":9}},"45":{"start":{"line":69,"column":24},"end":{"line":69,"column":45}},"46":{"start":{"line":70,"column":12},"end":{"line":72,"column":13}},"47":{"start":{"line":71,"column":16},"end":{"line":71,"column":25}},"48":{"start":{"line":73,"column":12},"end":{"line":91,"column":13}},"49":{"start":{"line":74,"column":16},"end":{"line":90,"column":17}},"50":{"start":{"line":75,"column":35},"end":{"line":87,"column":21}},"51":{"start":{"line":88,"column":20},"end":{"line":88,"column":45}},"52":{"start":{"line":89,"column":20},"end":{"line":89,"column":32}},"53":{"start":{"line":95,"column":27},"end":{"line":95,"column":83}},"54":{"start":{"line":96,"column":8},"end":{"line":100,"column":9}},"55":{"start":{"line":97,"column":12},"end":{"line":99,"column":13}},"56":{"start":{"line":98,"column":16},"end":{"line":98,"column":29}},"57":{"start":{"line":101,"column":8},"end":{"line":103,"column":9}},"58":{"start":{"line":102,"column":12},"end":{"line":102,"column":25}},"59":{"start":{"line":104,"column":8},"end":{"line":104,"column":20}},"60":{"start":{"line":107,"column":19},"end":{"line":107,"column":28}},"61":{"start":{"line":108,"column":8},"end":{"line":108,"column":107}},"62":{"start":{"line":109,"column":8},"end":{"line":109,"column":104}},"63":{"start":{"line":110,"column":8},"end":{"line":110,"column":98}},"64":{"start":{"line":111,"column":8},"end":{"line":111,"column":94}},"65":{"start":{"line":112,"column":8},"end":{"line":112,"column":45}},"66":{"start":{"line":113,"column":8},"end":{"line":113,"column":20}},"67":{"start":{"line":116,"column":21},"end":{"line":116,"column":23}},"68":{"start":{"line":117,"column":19},"end":{"line":117,"column":25}},"69":{"start":{"line":118,"column":8},"end":{"line":128,"column":9}},"70":{"start":{"line":119,"column":23},"end":{"line":119,"column":33}},"71":{"start":{"line":120,"column":12},"end":{"line":124,"column":13}},"72":{"start":{"line":121,"column":16},"end":{"line":123,"column":17}},"73":{"start":{"line":122,"column":20},"end":{"line":122,"column":37}},"74":{"start":{"line":125,"column":12},"end":{"line":127,"column":13}},"75":{"start":{"line":126,"column":16},"end":{"line":126,"column":34}},"76":{"start":{"line":129,"column":8},"end":{"line":129,"column":22}},"77":{"start":{"line":132,"column":19},"end":{"line":132,"column":23}},"78":{"start":{"line":133,"column":8},"end":{"line":140,"column":9}},"79":{"start":{"line":134,"column":12},"end":{"line":139,"column":13}},"80":{"start":{"line":135,"column":16},"end":{"line":135,"column":42}},"81":{"start":{"line":138,"column":16},"end":{"line":138,"column":42}},"82":{"start":{"line":141,"column":8},"end":{"line":141,"column":20}},"83":{"start":{"line":144,"column":20},"end":{"line":144,"column":45}},"84":{"start":{"line":145,"column":8},"end":{"line":161,"column":9}},"85":{"start":{"line":146,"column":29},"end":{"line":146,"column":39}},"86":{"start":{"line":147,"column":12},"end":{"line":160,"column":13}},"87":{"start":{"line":148,"column":16},"end":{"line":159,"column":17}},"88":{"start":{"line":149,"column":20},"end":{"line":158,"column":21}},"89":{"start":{"line":153,"column":36},"end":{"line":153,"column":66}},"90":{"start":{"line":154,"column":24},"end":{"line":156,"column":25}},"91":{"start":{"line":155,"column":28},"end":{"line":155,"column":38}},"92":{"start":{"line":157,"column":24},"end":{"line":157,"column":87}},"93":{"start":{"line":162,"column":8},"end":{"line":162,"column":25}},"94":{"start":{"line":165,"column":29},"end":{"line":165,"column":53}},"95":{"start":{"line":166,"column":8},"end":{"line":175,"column":9}},"96":{"start":{"line":167,"column":29},"end":{"line":167,"column":39}},"97":{"start":{"line":168,"column":12},"end":{"line":174,"column":13}},"98":{"start":{"line":169,"column":16},"end":{"line":173,"column":17}},"99":{"start":{"line":170,"column":20},"end":{"line":172,"column":21}},"100":{"start":{"line":171,"column":24},"end":{"line":171,"column":47}},"101":{"start":{"line":176,"column":8},"end":{"line":176,"column":25}},"102":{"start":{"line":179,"column":23},"end":{"line":179,"column":25}},"103":{"start":{"line":180,"column":8},"end":{"line":206,"column":9}},"104":{"start":{"line":181,"column":26},"end":{"line":181,"column":49}},"105":{"start":{"line":182,"column":12},"end":{"line":205,"column":13}},"106":{"start":{"line":183,"column":16},"end":{"line":204,"column":17}},"107":{"start":{"line":184,"column":20},"end":{"line":184,"column":58}},"108":{"start":{"line":185,"column":34},"end":{"line":200,"column":22}},"109":{"start":{"line":186,"column":24},"end":{"line":199,"column":27}},"110":{"start":{"line":187,"column":39},"end":{"line":187,"column":41}},"111":{"start":{"line":188,"column":28},"end":{"line":190,"column":31}},"112":{"start":{"line":189,"column":32},"end":{"line":189,"column":46}},"113":{"start":{"line":191,"column":28},"end":{"line":196,"column":31}},"114":{"start":{"line":192,"column":45},"end":{"line":192,"column":61}},"115":{"start":{"line":193,"column":32},"end":{"line":193,"column":67}},"116":{"start":{"line":194,"column":32},"end":{"line":194,"column":67}},"117":{"start":{"line":195,"column":32},"end":{"line":195,"column":46}},"118":{"start":{"line":198,"column":28},"end":{"line":198,"column":47}},"119":{"start":{"line":201,"column":20},"end":{"line":201,"column":43}},"120":{"start":{"line":207,"column":8},"end":{"line":207,"column":44}},"121":{"start":{"line":210,"column":0},"end":{"line":210,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":20},"end":{"line":13,"column":5}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":24},"end":{"line":28,"column":5}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":29,"column":4},"end":{"line":29,"column":5}},"loc":{"start":{"line":29,"column":30},"end":{"line":37,"column":5}},"line":29},"4":{"name":"(anonymous_4)","decl":{"start":{"line":38,"column":4},"end":{"line":38,"column":5}},"loc":{"start":{"line":38,"column":21},"end":{"line":45,"column":5}},"line":38},"5":{"name":"(anonymous_5)","decl":{"start":{"line":46,"column":4},"end":{"line":46,"column":5}},"loc":{"start":{"line":46,"column":40},"end":{"line":66,"column":5}},"line":46},"6":{"name":"(anonymous_6)","decl":{"start":{"line":67,"column":4},"end":{"line":67,"column":5}},"loc":{"start":{"line":67,"column":22},"end":{"line":93,"column":5}},"line":67},"7":{"name":"(anonymous_7)","decl":{"start":{"line":94,"column":4},"end":{"line":94,"column":5}},"loc":{"start":{"line":94,"column":22},"end":{"line":105,"column":5}},"line":94},"8":{"name":"(anonymous_8)","decl":{"start":{"line":106,"column":4},"end":{"line":106,"column":5}},"loc":{"start":{"line":106,"column":17},"end":{"line":114,"column":5}},"line":106},"9":{"name":"(anonymous_9)","decl":{"start":{"line":115,"column":4},"end":{"line":115,"column":5}},"loc":{"start":{"line":115,"column":24},"end":{"line":130,"column":5}},"line":115},"10":{"name":"(anonymous_10)","decl":{"start":{"line":131,"column":4},"end":{"line":131,"column":5}},"loc":{"start":{"line":131,"column":24},"end":{"line":142,"column":5}},"line":131},"11":{"name":"(anonymous_11)","decl":{"start":{"line":143,"column":4},"end":{"line":143,"column":5}},"loc":{"start":{"line":143,"column":36},"end":{"line":163,"column":5}},"line":143},"12":{"name":"(anonymous_12)","decl":{"start":{"line":164,"column":4},"end":{"line":164,"column":5}},"loc":{"start":{"line":164,"column":19},"end":{"line":177,"column":5}},"line":164},"13":{"name":"(anonymous_13)","decl":{"start":{"line":178,"column":4},"end":{"line":178,"column":5}},"loc":{"start":{"line":178,"column":37},"end":{"line":208,"column":5}},"line":178},"14":{"name":"(anonymous_14)","decl":{"start":{"line":185,"column":46},"end":{"line":185,"column":47}},"loc":{"start":{"line":185,"column":67},"end":{"line":200,"column":21}},"line":185},"15":{"name":"(anonymous_15)","decl":{"start":{"line":186,"column":74},"end":{"line":186,"column":75}},"loc":{"start":{"line":186,"column":88},"end":{"line":197,"column":25}},"line":186},"16":{"name":"(anonymous_16)","decl":{"start":{"line":188,"column":48},"end":{"line":188,"column":49}},"loc":{"start":{"line":188,"column":59},"end":{"line":190,"column":29}},"line":188},"17":{"name":"(anonymous_17)","decl":{"start":{"line":191,"column":47},"end":{"line":191,"column":48}},"loc":{"start":{"line":191,"column":53},"end":{"line":196,"column":29}},"line":191},"18":{"name":"(anonymous_18)","decl":{"start":{"line":197,"column":39},"end":{"line":197,"column":40}},"loc":{"start":{"line":197,"column":52},"end":{"line":199,"column":25}},"line":197}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":22,"column":16},"end":{"line":24,"column":17}},"type":"if","locations":[{"start":{"line":22,"column":16},"end":{"line":24,"column":17}},{"start":{"line":22,"column":16},"end":{"line":24,"column":17}}],"line":22},"4":{"loc":{"start":{"line":32,"column":12},"end":{"line":34,"column":13}},"type":"if","locations":[{"start":{"line":32,"column":12},"end":{"line":34,"column":13}},{"start":{"line":32,"column":12},"end":{"line":34,"column":13}}],"line":32},"5":{"loc":{"start":{"line":56,"column":16},"end":{"line":59,"column":17}},"type":"if","locations":[{"start":{"line":56,"column":16},"end":{"line":59,"column":17}},{"start":{"line":56,"column":16},"end":{"line":59,"column":17}}],"line":56},"6":{"loc":{"start":{"line":56,"column":20},"end":{"line":56,"column":67}},"type":"binary-expr","locations":[{"start":{"line":56,"column":20},"end":{"line":56,"column":43}},{"start":{"line":56,"column":47},"end":{"line":56,"column":67}}],"line":56},"7":{"loc":{"start":{"line":60,"column":16},"end":{"line":62,"column":17}},"type":"if","locations":[{"start":{"line":60,"column":16},"end":{"line":62,"column":17}},{"start":{"line":60,"column":16},"end":{"line":62,"column":17}}],"line":60},"8":{"loc":{"start":{"line":70,"column":12},"end":{"line":72,"column":13}},"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":72,"column":13}},{"start":{"line":70,"column":12},"end":{"line":72,"column":13}}],"line":70},"9":{"loc":{"start":{"line":73,"column":12},"end":{"line":91,"column":13}},"type":"if","locations":[{"start":{"line":73,"column":12},"end":{"line":91,"column":13}},{"start":{"line":73,"column":12},"end":{"line":91,"column":13}}],"line":73},"10":{"loc":{"start":{"line":73,"column":16},"end":{"line":73,"column":55}},"type":"binary-expr","locations":[{"start":{"line":73,"column":16},"end":{"line":73,"column":35}},{"start":{"line":73,"column":39},"end":{"line":73,"column":55}}],"line":73},"11":{"loc":{"start":{"line":97,"column":12},"end":{"line":99,"column":13}},"type":"if","locations":[{"start":{"line":97,"column":12},"end":{"line":99,"column":13}},{"start":{"line":97,"column":12},"end":{"line":99,"column":13}}],"line":97},"12":{"loc":{"start":{"line":101,"column":8},"end":{"line":103,"column":9}},"type":"if","locations":[{"start":{"line":101,"column":8},"end":{"line":103,"column":9}},{"start":{"line":101,"column":8},"end":{"line":103,"column":9}}],"line":101},"13":{"loc":{"start":{"line":120,"column":12},"end":{"line":124,"column":13}},"type":"if","locations":[{"start":{"line":120,"column":12},"end":{"line":124,"column":13}},{"start":{"line":120,"column":12},"end":{"line":124,"column":13}}],"line":120},"14":{"loc":{"start":{"line":125,"column":12},"end":{"line":127,"column":13}},"type":"if","locations":[{"start":{"line":125,"column":12},"end":{"line":127,"column":13}},{"start":{"line":125,"column":12},"end":{"line":127,"column":13}}],"line":125},"15":{"loc":{"start":{"line":133,"column":15},"end":{"line":133,"column":60}},"type":"binary-expr","locations":[{"start":{"line":133,"column":15},"end":{"line":133,"column":30}},{"start":{"line":133,"column":34},"end":{"line":133,"column":60}}],"line":133},"16":{"loc":{"start":{"line":134,"column":12},"end":{"line":139,"column":13}},"type":"if","locations":[{"start":{"line":134,"column":12},"end":{"line":139,"column":13}},{"start":{"line":134,"column":12},"end":{"line":139,"column":13}}],"line":134},"17":{"loc":{"start":{"line":147,"column":12},"end":{"line":160,"column":13}},"type":"if","locations":[{"start":{"line":147,"column":12},"end":{"line":160,"column":13}},{"start":{"line":147,"column":12},"end":{"line":160,"column":13}}],"line":147},"18":{"loc":{"start":{"line":149,"column":20},"end":{"line":158,"column":21}},"type":"if","locations":[{"start":{"line":149,"column":20},"end":{"line":158,"column":21}},{"start":{"line":149,"column":20},"end":{"line":158,"column":21}}],"line":149},"19":{"loc":{"start":{"line":149,"column":24},"end":{"line":152,"column":53}},"type":"binary-expr","locations":[{"start":{"line":149,"column":24},"end":{"line":149,"column":38}},{"start":{"line":150,"column":24},"end":{"line":150,"column":50}},{"start":{"line":151,"column":24},"end":{"line":151,"column":39}},{"start":{"line":152,"column":24},"end":{"line":152,"column":53}}],"line":149},"20":{"loc":{"start":{"line":154,"column":24},"end":{"line":156,"column":25}},"type":"if","locations":[{"start":{"line":154,"column":24},"end":{"line":156,"column":25}},{"start":{"line":154,"column":24},"end":{"line":156,"column":25}}],"line":154},"21":{"loc":{"start":{"line":168,"column":12},"end":{"line":174,"column":13}},"type":"if","locations":[{"start":{"line":168,"column":12},"end":{"line":174,"column":13}},{"start":{"line":168,"column":12},"end":{"line":174,"column":13}}],"line":168},"22":{"loc":{"start":{"line":170,"column":20},"end":{"line":172,"column":21}},"type":"if","locations":[{"start":{"line":170,"column":20},"end":{"line":172,"column":21}},{"start":{"line":170,"column":20},"end":{"line":172,"column":21}}],"line":170},"23":{"loc":{"start":{"line":170,"column":24},"end":{"line":170,"column":67}},"type":"binary-expr","locations":[{"start":{"line":170,"column":24},"end":{"line":170,"column":38}},{"start":{"line":170,"column":42},"end":{"line":170,"column":67}}],"line":170},"24":{"loc":{"start":{"line":182,"column":12},"end":{"line":205,"column":13}},"type":"if","locations":[{"start":{"line":182,"column":12},"end":{"line":205,"column":13}},{"start":{"line":182,"column":12},"end":{"line":205,"column":13}}],"line":182}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":47,"7":47,"8":18,"9":18,"10":18,"11":19,"12":19,"13":19,"14":311,"15":311,"16":311,"17":18,"18":311,"19":311,"20":933,"21":0,"22":311,"23":311,"24":311,"25":311,"26":311,"27":311,"28":311,"29":163,"30":163,"31":163,"32":99,"33":99,"34":99,"35":751,"36":751,"37":751,"38":751,"39":750,"40":750,"41":751,"42":745,"43":163,"44":18,"45":311,"46":311,"47":2,"48":309,"49":92,"50":741,"51":741,"52":741,"53":751,"54":751,"55":4498,"56":4,"57":747,"58":2,"59":745,"60":751,"61":751,"62":751,"63":751,"64":751,"65":751,"66":751,"67":5416,"68":5416,"69":5416,"70":487312,"71":487312,"72":218940,"73":481896,"74":487312,"75":23397,"76":5416,"77":7849,"78":7849,"79":9956,"80":7844,"81":2112,"82":7849,"83":3937,"84":3937,"85":13331,"86":13331,"87":13331,"88":13331,"89":3927,"90":3927,"91":5,"92":3922,"93":10,"94":1062,"95":1062,"96":1060,"97":1060,"98":1060,"99":1060,"100":1060,"101":2,"102":18,"103":18,"104":311,"105":311,"106":311,"107":311,"108":311,"109":311,"110":311,"111":311,"112":311,"113":311,"114":311,"115":311,"116":311,"117":311,"118":0,"119":311,"120":18,"121":1},"f":{"0":1,"1":47,"2":18,"3":311,"4":311,"5":163,"6":18,"7":751,"8":751,"9":5416,"10":7849,"11":3937,"12":1062,"13":18,"14":311,"15":311,"16":311,"17":311,"18":0},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1],"3":[311,0],"4":[0,933],"5":[750,1],"6":[751,751],"7":[745,6],"8":[2,309],"9":[92,217],"10":[309,161],"11":[4,4494],"12":[2,745],"13":[218940,268372],"14":[23397,463915],"15":[17805,9961],"16":[7844,2112],"17":[13331,0],"18":[3927,9404],"19":[13331,13331,13331,13331],"20":[5,3922],"21":[1060,0],"22":[1060,0],"23":[1060,1060],"24":[311,0]},"inputSourceMap":{"version":3,"file":"/Users/han/code/cpsc310/c1/project_team123/src/models/Rooms.ts","sources":["/Users/han/code/cpsc310/c1/project_team123/src/models/Rooms.ts"],"names":[],"mappings":"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","sourcesContent":["import {InsightDatasetKind, InsightError} from \"../controller/IInsightFacade\";\nimport {Document} from \"parse5/dist/tree-adapters/default\";\nimport Http from \"node:http\";\nimport {Dataset} from \"./Dataset\";\n\nexport interface Room {\n\tnumber: string;\n\tname: string;\n\tseats: number;\n\ttype: string;\n\tfurniture: string;\n\thref: string;\n\tfullname: string;\n\tshortname: string;\n\taddress: string;\n\tlat: number;\n\tlon: number;\n}\n\nexport interface Building {\n\tfullname: string;\n\tshortname: string;\n\taddress: string;\n\tlat: number;\n\tlon: number;\n\trooms: Room[];\n}\n\nexport default class Rooms extends Dataset {\n\tprivate urlPrefix: string = \"http://cs310.students.cs.ubc.ca:11316/api/v1/project_team123/\";\n\n\tconstructor(id: string) {\n\t\tsuper(id, InsightDatasetKind.Rooms);\n\t}\n\n\t// Searches nodes for links to building files\n\tpublic addBuildings(index: any): Array<Map<string, string | undefined>> {\n\t\tlet buildings = [];\n\t\tlet tables = this.findTags(index, \"table\");\n\t\tfor (const table of tables) {\n\t\t\tlet body = this.findTags(table, \"tbody\");\n\t\t\tlet rows = this.findTags(body[0], \"tr\");\n\t\t\tfor (let row of rows) {\n\t\t\t\tlet building = this.addBuilding(row);\n\t\t\t\tif (this.buildingIsValid(building)) {\n\t\t\t\t\tbuildings.push(building);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn buildings;\n\t}\n\n\tprivate buildingIsValid(building: Map<string, string | undefined>): boolean {\n\t\tconst requiredKeys = [\"shortname\", \"fullname\", \"address\"];\n\t\tfor (let key of requiredKeys) {\n\t\t\tif (building.get(key) === undefined) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\tprivate addBuilding(row: any): Map<string, string | undefined> {\n\t\tlet building: Map<string, string | undefined> = new Map();\n\t\tbuilding.set(\"address\", String(this.findClassValue(row, \"views-field views-field-field-building-address\")));\n\t\tbuilding.set(\"shortname\", String(this.findClassValue(row, \"views-field views-field-field-building-code\")));\n\t\tbuilding.set(\"fullname\", String(this.findClassValue(row, \"views-field views-field-title\")));\n\t\tbuilding.set(\"href\", String(this.findHref(row)?.replace(\"./\", \"\")));\n\t\treturn building;\n\t}\n\n\tpublic addRooms(buildingContent: any, building: Map<string, string | any[] | undefined>) {\n\t\tlet rooms = [];\n\t\tlet tables = this.findTags(buildingContent, \"table\");\n\t\tfor (const table of tables) {\n\t\t\tlet body = this.findTags(table, \"tbody\");\n\t\t\tlet rows = this.findTags(body[0], \"tr\");\n\t\t\tfor (let row of rows) {\n\t\t\t\tlet room = this.addRoom(row);\n\t\t\t\tlet shortname = building.get(\"shortname\");\n\t\t\t\tlet number = room.get(\"number\");\n\t\t\t\tif (shortname !== undefined && number !== undefined) {\n\t\t\t\t\tlet name = shortname + \"_\" + number;\n\t\t\t\t\troom.set(\"name\", name);\n\t\t\t\t}\n\t\t\t\tif (this.isValidRoom(room)) {\n\t\t\t\t\t// console.log(room)\n\t\t\t\t\trooms.push(room);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tbuilding.set(\"rooms\", rooms);\n\t}\n\n\tpublic update(buildings: any[]): void {\n\t\tfor (let building of buildings) {\n\t\t\tlet rooms = building.get(\"rooms\");\n\t\t\tif (building.get(\"lat\") === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (rooms !== undefined && rooms.length > 0) {\n\t\t\t\tfor (let room of rooms) {\n\t\t\t\t\tlet roomData: Room = {\n\t\t\t\t\t\tnumber: room.get(\"number\"),\n\t\t\t\t\t\tname: room.get(\"name\"),\n\t\t\t\t\t\tseats: room.get(\"seats\"),\n\t\t\t\t\t\ttype: room.get(\"type\"),\n\t\t\t\t\t\tfurniture: room.get(\"furniture\"),\n\t\t\t\t\t\thref: room.get(\"href\"),\n\t\t\t\t\t\tfullname: building.get(\"fullname\"),\n\t\t\t\t\t\tshortname: building.get(\"shortname\"),\n\t\t\t\t\t\taddress: building.get(\"address\"),\n\t\t\t\t\t\tlat: building.get(\"lat\"),\n\t\t\t\t\t\tlon: building.get(\"lon\"),\n\t\t\t\t\t};\n\t\t\t\t\tthis.data.push(roomData);\n\t\t\t\t\tthis.size++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate isValidRoom(room: Map<string, string | number | undefined>): boolean {\n\t\tlet requiredKeys = [\"number\", \"name\", \"seats\", \"type\", \"furniture\", \"href\"];\n\t\tfor (let key of requiredKeys) {\n\t\t\t// console.log(key)\n\t\t\t// console.log(key)\n\t\t\t// console.log(room.get(key))\n\t\t\tif (room.get(key) === undefined) {\n\t\t\t\t// console.log(key)\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tif (isNaN(Number(room.get(\"seats\")))) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tprivate addRoom(row: any): Map<string, string | number | undefined> {\n\t\tlet room: Map<string, string | number | undefined> = new Map();\n\n\t\troom.set(\"seats\", Number(this.findClassValue(row, \"views-field views-field-field-room-capacity\")));\n\t\troom.set(\"furniture\", this.findClassValue(row, \"views-field views-field-field-room-furniture\"));\n\t\troom.set(\"number\", this.findClassValue(row, \"views-field views-field-field-room-number\"));\n\t\troom.set(\"type\", this.findClassValue(row, \"views-field views-field-field-room-type\"));\n\t\troom.set(\"href\", this.findHref(row));\n\t\t// console.log(room)\n\t\treturn room;\n\t}\n\n\tprivate findTags(node: any, tag: string): any[] {\n\t\tlet result = [];\n\t\tlet todo = [node];\n\t\twhile (todo.length > 0) {\n\t\t\tlet curr = todo.pop();\n\t\t\tif (curr.childNodes) {\n\t\t\t\tfor (let child of curr.childNodes) {\n\t\t\t\t\ttodo.push(child);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (curr.nodeName === tag) {\n\t\t\t\tresult.push(curr);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate findFirstLeaf(node: any): any {\n\t\tlet curr = node;\n\t\twhile (curr.childNodes && curr.childNodes.length > 0) {\n\t\t\tif (curr.childNodes.length === 1) {\n\t\t\t\tcurr = curr.childNodes[0];\n\t\t\t} else {\n\t\t\t\tcurr = curr.childNodes[1];\n\t\t\t}\n\t\t}\n\t\treturn curr;\n\t}\n\n\tprivate findClassValue(node: any, className: string): string | undefined {\n\t\tlet cells = this.findTags(node, \"td\");\n\t\tfor (let cell of cells) {\n\t\t\tlet attributes = cell.attrs;\n\t\t\tif (attributes) {\n\t\t\t\tfor (let attribute of attributes) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tattribute.name &&\n\t\t\t\t\t\tattribute.name === \"class\" &&\n\t\t\t\t\t\tattribute.value &&\n\t\t\t\t\t\tattribute.value === className\n\t\t\t\t\t) {\n\t\t\t\t\t\tlet value = this.findFirstLeaf(cell).value;\n\t\t\t\t\t\t// console.log(value)\n\t\t\t\t\t\tif (value === undefined) {\n\t\t\t\t\t\t\treturn \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn this.findFirstLeaf(cell).value.replace(\"\\n\", \"\").trim();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tprivate findHref(node: any): string | undefined {\n\t\tlet potentialLinks = this.findTags(node, \"a\");\n\t\tfor (let link of potentialLinks) {\n\t\t\tlet attributes = link.attrs;\n\t\t\tif (attributes) {\n\t\t\t\tfor (let attribute of attributes) {\n\t\t\t\t\tif (attribute.name && attribute.name === \"href\") {\n\t\t\t\t\t\treturn attribute.value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tpublic async getGeolocations(buildings: Array<Map<string, string | undefined>>): Promise<void> {\n\t\tlet promises = [];\n\t\tfor (let building of buildings) {\n\t\t\tlet address = building.get(\"address\");\n\t\t\tif (address !== undefined) {\n\t\t\t\ttry {\n\t\t\t\t\taddress = address.replace(\" \", \"%20\");\n\t\t\t\t\tlet promise = new Promise((resolve, reject) => {\n\t\t\t\t\t\tHttp.get(this.urlPrefix + address, (response: any) => {\n\t\t\t\t\t\t\tlet body = \"\";\n\t\t\t\t\t\t\tresponse.on(\"data\", (chunk: any) => {\n\t\t\t\t\t\t\t\tbody += chunk;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tresponse.on(\"end\", () => {\n\t\t\t\t\t\t\t\tlet result = JSON.parse(body);\n\t\t\t\t\t\t\t\tbuilding.set(\"lat\", result[\"lat\"]);\n\t\t\t\t\t\t\t\tbuilding.set(\"lon\", result[\"lon\"]);\n\t\t\t\t\t\t\t\tresolve(body);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}).on(\"error\", function (e) {\n\t\t\t\t\t\t\tresolve(undefined);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tpromises.push(promise);\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// Do nothing\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn Promise.all(promises).then();\n\t}\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4cb7ce0f39755afde6afe2968af2dd074f1593fa","contentHash":"53ec5f04ba5c42635c34580ff804e803df142574007385c456ddd9e236f0426a"},"/Users/han/code/cpsc310/c1/project_team123/src/models/QueryValidator.ts":{"path":"/Users/han/code/cpsc310/c1/project_team123/src/models/QueryValidator.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":25},"end":{"line":6,"column":64}},"4":{"start":{"line":7,"column":23},"end":{"line":7,"column":72}},"5":{"start":{"line":9,"column":9},"end":{"line":9,"column":37}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":41}},"7":{"start":{"line":12,"column":23},"end":{"line":12,"column":28}},"8":{"start":{"line":13,"column":8},"end":{"line":15,"column":9}},"9":{"start":{"line":14,"column":12},"end":{"line":14,"column":65}},"10":{"start":{"line":16,"column":8},"end":{"line":18,"column":9}},"11":{"start":{"line":17,"column":12},"end":{"line":17,"column":45}},"12":{"start":{"line":19,"column":8},"end":{"line":19,"column":45}},"13":{"start":{"line":20,"column":8},"end":{"line":20,"column":40}},"14":{"start":{"line":23,"column":21},"end":{"line":23,"column":39}},"15":{"start":{"line":24,"column":8},"end":{"line":26,"column":9}},"16":{"start":{"line":25,"column":12},"end":{"line":25,"column":76}},"17":{"start":{"line":27,"column":8},"end":{"line":29,"column":9}},"18":{"start":{"line":28,"column":12},"end":{"line":28,"column":69}},"19":{"start":{"line":30,"column":8},"end":{"line":32,"column":9}},"20":{"start":{"line":31,"column":12},"end":{"line":31,"column":71}},"21":{"start":{"line":33,"column":8},"end":{"line":36,"column":9}},"22":{"start":{"line":35,"column":12},"end":{"line":35,"column":86}},"23":{"start":{"line":37,"column":8},"end":{"line":39,"column":9}},"24":{"start":{"line":38,"column":12},"end":{"line":38,"column":76}},"25":{"start":{"line":40,"column":8},"end":{"line":42,"column":9}},"26":{"start":{"line":41,"column":12},"end":{"line":41,"column":78}},"27":{"start":{"line":45,"column":21},"end":{"line":45,"column":39}},"28":{"start":{"line":46,"column":8},"end":{"line":48,"column":9}},"29":{"start":{"line":47,"column":12},"end":{"line":47,"column":88}},"30":{"start":{"line":49,"column":20},"end":{"line":49,"column":27}},"31":{"start":{"line":50,"column":8},"end":{"line":64,"column":9}},"32":{"start":{"line":51,"column":12},"end":{"line":51,"column":48}},"33":{"start":{"line":53,"column":13},"end":{"line":64,"column":9}},"34":{"start":{"line":54,"column":12},"end":{"line":54,"column":44}},"35":{"start":{"line":56,"column":13},"end":{"line":64,"column":9}},"36":{"start":{"line":57,"column":12},"end":{"line":57,"column":44}},"37":{"start":{"line":59,"column":13},"end":{"line":64,"column":9}},"38":{"start":{"line":60,"column":12},"end":{"line":60,"column":36}},"39":{"start":{"line":63,"column":12},"end":{"line":63,"column":76}},"40":{"start":{"line":67,"column":21},"end":{"line":67,"column":41}},"41":{"start":{"line":68,"column":8},"end":{"line":70,"column":9}},"42":{"start":{"line":69,"column":12},"end":{"line":69,"column":78}},"43":{"start":{"line":71,"column":8},"end":{"line":73,"column":9}},"44":{"start":{"line":72,"column":12},"end":{"line":72,"column":79}},"45":{"start":{"line":74,"column":8},"end":{"line":78,"column":9}},"46":{"start":{"line":75,"column":12},"end":{"line":77,"column":13}},"47":{"start":{"line":76,"column":16},"end":{"line":76,"column":89}},"48":{"start":{"line":79,"column":8},"end":{"line":81,"column":9}},"49":{"start":{"line":80,"column":12},"end":{"line":80,"column":87}},"50":{"start":{"line":82,"column":8},"end":{"line":84,"column":9}},"51":{"start":{"line":82,"column":44},"end":{"line":82,"column":67}},"52":{"start":{"line":83,"column":12},"end":{"line":83,"column":95}},"53":{"start":{"line":85,"column":30},"end":{"line":85,"column":32}},"54":{"start":{"line":86,"column":8},"end":{"line":89,"column":11}},"55":{"start":{"line":87,"column":12},"end":{"line":87,"column":49}},"56":{"start":{"line":88,"column":12},"end":{"line":88,"column":42}},"57":{"start":{"line":90,"column":8},"end":{"line":92,"column":9}},"58":{"start":{"line":91,"column":12},"end":{"line":91,"column":61}},"59":{"start":{"line":95,"column":8},"end":{"line":114,"column":9}},"60":{"start":{"line":96,"column":12},"end":{"line":96,"column":56}},"61":{"start":{"line":98,"column":13},"end":{"line":114,"column":9}},"62":{"start":{"line":99,"column":12},"end":{"line":101,"column":13}},"63":{"start":{"line":100,"column":16},"end":{"line":100,"column":83}},"64":{"start":{"line":102,"column":12},"end":{"line":104,"column":13}},"65":{"start":{"line":103,"column":16},"end":{"line":103,"column":84}},"66":{"start":{"line":105,"column":12},"end":{"line":107,"column":13}},"67":{"start":{"line":106,"column":16},"end":{"line":106,"column":96}},"68":{"start":{"line":108,"column":12},"end":{"line":110,"column":13}},"69":{"start":{"line":109,"column":16},"end":{"line":109,"column":58}},"70":{"start":{"line":113,"column":12},"end":{"line":113,"column":101}},"71":{"start":{"line":117,"column":8},"end":{"line":119,"column":9}},"72":{"start":{"line":118,"column":12},"end":{"line":118,"column":85}},"73":{"start":{"line":120,"column":8},"end":{"line":122,"column":9}},"74":{"start":{"line":121,"column":12},"end":{"line":121,"column":85}},"75":{"start":{"line":123,"column":8},"end":{"line":125,"column":9}},"76":{"start":{"line":124,"column":12},"end":{"line":124,"column":87}},"77":{"start":{"line":126,"column":8},"end":{"line":128,"column":9}},"78":{"start":{"line":127,"column":12},"end":{"line":127,"column":87}},"79":{"start":{"line":129,"column":8},"end":{"line":131,"column":9}},"80":{"start":{"line":129,"column":50},"end":{"line":129,"column":73}},"81":{"start":{"line":130,"column":12},"end":{"line":130,"column":93}},"82":{"start":{"line":132,"column":8},"end":{"line":136,"column":9}},"83":{"start":{"line":133,"column":12},"end":{"line":135,"column":13}},"84":{"start":{"line":134,"column":16},"end":{"line":134,"column":88}},"85":{"start":{"line":137,"column":8},"end":{"line":139,"column":9}},"86":{"start":{"line":138,"column":12},"end":{"line":138,"column":41}},"87":{"start":{"line":142,"column":8},"end":{"line":144,"column":9}},"88":{"start":{"line":143,"column":12},"end":{"line":143,"column":122}},"89":{"start":{"line":145,"column":25},"end":{"line":145,"column":45}},"90":{"start":{"line":146,"column":8},"end":{"line":146,"column":43}},"91":{"start":{"line":147,"column":27},"end":{"line":147,"column":41}},"92":{"start":{"line":148,"column":8},"end":{"line":150,"column":9}},"93":{"start":{"line":149,"column":12},"end":{"line":149,"column":81}},"94":{"start":{"line":151,"column":8},"end":{"line":153,"column":9}},"95":{"start":{"line":152,"column":12},"end":{"line":152,"column":128}},"96":{"start":{"line":154,"column":22},"end":{"line":154,"column":48}},"97":{"start":{"line":155,"column":28},"end":{"line":155,"column":65}},"98":{"start":{"line":156,"column":8},"end":{"line":158,"column":9}},"99":{"start":{"line":157,"column":12},"end":{"line":157,"column":87}},"100":{"start":{"line":159,"column":8},"end":{"line":161,"column":9}},"101":{"start":{"line":160,"column":12},"end":{"line":160,"column":85}},"102":{"start":{"line":162,"column":8},"end":{"line":164,"column":9}},"103":{"start":{"line":163,"column":12},"end":{"line":163,"column":101}},"104":{"start":{"line":167,"column":32},"end":{"line":167,"column":38}},"105":{"start":{"line":168,"column":36},"end":{"line":168,"column":64}},"106":{"start":{"line":169,"column":27},"end":{"line":169,"column":49}},"107":{"start":{"line":170,"column":28},"end":{"line":170,"column":55}},"108":{"start":{"line":171,"column":8},"end":{"line":173,"column":9}},"109":{"start":{"line":172,"column":12},"end":{"line":172,"column":95}},"110":{"start":{"line":174,"column":8},"end":{"line":176,"column":9}},"111":{"start":{"line":175,"column":12},"end":{"line":175,"column":39}},"112":{"start":{"line":179,"column":26},"end":{"line":179,"column":32}},"113":{"start":{"line":180,"column":8},"end":{"line":182,"column":9}},"114":{"start":{"line":181,"column":12},"end":{"line":181,"column":80}},"115":{"start":{"line":183,"column":8},"end":{"line":183,"column":42}},"116":{"start":{"line":186,"column":28},"end":{"line":186,"column":34}},"117":{"start":{"line":187,"column":32},"end":{"line":187,"column":56}},"118":{"start":{"line":188,"column":27},"end":{"line":188,"column":45}},"119":{"start":{"line":189,"column":28},"end":{"line":189,"column":51}},"120":{"start":{"line":190,"column":8},"end":{"line":192,"column":9}},"121":{"start":{"line":191,"column":12},"end":{"line":191,"column":92}},"122":{"start":{"line":193,"column":26},"end":{"line":193,"column":50}},"123":{"start":{"line":194,"column":8},"end":{"line":196,"column":9}},"124":{"start":{"line":195,"column":12},"end":{"line":195,"column":95}},"125":{"start":{"line":197,"column":8},"end":{"line":199,"column":9}},"126":{"start":{"line":198,"column":12},"end":{"line":198,"column":101}},"127":{"start":{"line":200,"column":27},"end":{"line":200,"column":52}},"128":{"start":{"line":201,"column":8},"end":{"line":203,"column":9}},"129":{"start":{"line":202,"column":12},"end":{"line":202,"column":123}},"130":{"start":{"line":206,"column":28},"end":{"line":206,"column":34}},"131":{"start":{"line":207,"column":27},"end":{"line":207,"column":54}},"132":{"start":{"line":208,"column":28},"end":{"line":208,"column":51}},"133":{"start":{"line":209,"column":8},"end":{"line":211,"column":9}},"134":{"start":{"line":210,"column":12},"end":{"line":210,"column":102}},"135":{"start":{"line":212,"column":26},"end":{"line":212,"column":50}},"136":{"start":{"line":213,"column":8},"end":{"line":215,"column":9}},"137":{"start":{"line":214,"column":12},"end":{"line":214,"column":95}},"138":{"start":{"line":216,"column":8},"end":{"line":218,"column":9}},"139":{"start":{"line":217,"column":12},"end":{"line":217,"column":90}},"140":{"start":{"line":219,"column":27},"end":{"line":219,"column":52}},"141":{"start":{"line":220,"column":8},"end":{"line":222,"column":9}},"142":{"start":{"line":221,"column":12},"end":{"line":221,"column":119}},"143":{"start":{"line":223,"column":8},"end":{"line":223,"column":47}},"144":{"start":{"line":226,"column":35},"end":{"line":226,"column":56}},"145":{"start":{"line":227,"column":33},"end":{"line":227,"column":52}},"146":{"start":{"line":228,"column":30},"end":{"line":228,"column":63}},"147":{"start":{"line":229,"column":8},"end":{"line":234,"column":9}},"148":{"start":{"line":232,"column":12},"end":{"line":233,"column":74}},"149":{"start":{"line":237,"column":0},"end":{"line":237,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":25},"end":{"line":21,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":32},"end":{"line":43,"column":5}},"line":22},"3":{"name":"(anonymous_3)","decl":{"start":{"line":44,"column":4},"end":{"line":44,"column":5}},"loc":{"start":{"line":44,"column":25},"end":{"line":65,"column":5}},"line":44},"4":{"name":"(anonymous_4)","decl":{"start":{"line":66,"column":4},"end":{"line":66,"column":5}},"loc":{"start":{"line":66,"column":29},"end":{"line":93,"column":5}},"line":66},"5":{"name":"(anonymous_5)","decl":{"start":{"line":82,"column":35},"end":{"line":82,"column":36}},"loc":{"start":{"line":82,"column":44},"end":{"line":82,"column":67}},"line":82},"6":{"name":"(anonymous_6)","decl":{"start":{"line":86,"column":32},"end":{"line":86,"column":33}},"loc":{"start":{"line":86,"column":47},"end":{"line":89,"column":9}},"line":86},"7":{"name":"(anonymous_7)","decl":{"start":{"line":94,"column":4},"end":{"line":94,"column":5}},"loc":{"start":{"line":94,"column":37},"end":{"line":115,"column":5}},"line":94},"8":{"name":"(anonymous_8)","decl":{"start":{"line":116,"column":4},"end":{"line":116,"column":5}},"loc":{"start":{"line":116,"column":45},"end":{"line":140,"column":5}},"line":116},"9":{"name":"(anonymous_9)","decl":{"start":{"line":129,"column":41},"end":{"line":129,"column":42}},"loc":{"start":{"line":129,"column":50},"end":{"line":129,"column":73}},"line":129},"10":{"name":"(anonymous_10)","decl":{"start":{"line":141,"column":4},"end":{"line":141,"column":5}},"loc":{"start":{"line":141,"column":28},"end":{"line":165,"column":5}},"line":141},"11":{"name":"(anonymous_11)","decl":{"start":{"line":166,"column":4},"end":{"line":166,"column":5}},"loc":{"start":{"line":166,"column":36},"end":{"line":177,"column":5}},"line":166},"12":{"name":"(anonymous_12)","decl":{"start":{"line":178,"column":4},"end":{"line":178,"column":5}},"loc":{"start":{"line":178,"column":24},"end":{"line":184,"column":5}},"line":178},"13":{"name":"(anonymous_13)","decl":{"start":{"line":185,"column":4},"end":{"line":185,"column":5}},"loc":{"start":{"line":185,"column":32},"end":{"line":204,"column":5}},"line":185},"14":{"name":"(anonymous_14)","decl":{"start":{"line":205,"column":4},"end":{"line":205,"column":5}},"loc":{"start":{"line":205,"column":32},"end":{"line":224,"column":5}},"line":205},"15":{"name":"(anonymous_15)","decl":{"start":{"line":225,"column":4},"end":{"line":225,"column":5}},"loc":{"start":{"line":225,"column":33},"end":{"line":235,"column":5}},"line":225}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":13,"column":8},"end":{"line":15,"column":9}},"type":"if","locations":[{"start":{"line":13,"column":8},"end":{"line":15,"column":9}},{"start":{"line":13,"column":8},"end":{"line":15,"column":9}}],"line":13},"4":{"loc":{"start":{"line":16,"column":8},"end":{"line":18,"column":9}},"type":"if","locations":[{"start":{"line":16,"column":8},"end":{"line":18,"column":9}},{"start":{"line":16,"column":8},"end":{"line":18,"column":9}}],"line":16},"5":{"loc":{"start":{"line":24,"column":8},"end":{"line":26,"column":9}},"type":"if","locations":[{"start":{"line":24,"column":8},"end":{"line":26,"column":9}},{"start":{"line":24,"column":8},"end":{"line":26,"column":9}}],"line":24},"6":{"loc":{"start":{"line":24,"column":12},"end":{"line":24,"column":60}},"type":"binary-expr","locations":[{"start":{"line":24,"column":12},"end":{"line":24,"column":27}},{"start":{"line":24,"column":31},"end":{"line":24,"column":60}}],"line":24},"7":{"loc":{"start":{"line":27,"column":8},"end":{"line":29,"column":9}},"type":"if","locations":[{"start":{"line":27,"column":8},"end":{"line":29,"column":9}},{"start":{"line":27,"column":8},"end":{"line":29,"column":9}}],"line":27},"8":{"loc":{"start":{"line":30,"column":8},"end":{"line":32,"column":9}},"type":"if","locations":[{"start":{"line":30,"column":8},"end":{"line":32,"column":9}},{"start":{"line":30,"column":8},"end":{"line":32,"column":9}}],"line":30},"9":{"loc":{"start":{"line":33,"column":8},"end":{"line":36,"column":9}},"type":"if","locations":[{"start":{"line":33,"column":8},"end":{"line":36,"column":9}},{"start":{"line":33,"column":8},"end":{"line":36,"column":9}}],"line":33},"10":{"loc":{"start":{"line":33,"column":13},"end":{"line":34,"column":48}},"type":"binary-expr","locations":[{"start":{"line":33,"column":13},"end":{"line":33,"column":39}},{"start":{"line":33,"column":44},"end":{"line":33,"column":66}},{"start":{"line":33,"column":70},"end":{"line":33,"column":111}},{"start":{"line":34,"column":12},"end":{"line":34,"column":48}}],"line":33},"11":{"loc":{"start":{"line":37,"column":8},"end":{"line":39,"column":9}},"type":"if","locations":[{"start":{"line":37,"column":8},"end":{"line":39,"column":9}},{"start":{"line":37,"column":8},"end":{"line":39,"column":9}}],"line":37},"12":{"loc":{"start":{"line":37,"column":12},"end":{"line":37,"column":89}},"type":"binary-expr","locations":[{"start":{"line":37,"column":12},"end":{"line":37,"column":24}},{"start":{"line":37,"column":28},"end":{"line":37,"column":59}},{"start":{"line":37,"column":63},"end":{"line":37,"column":89}}],"line":37},"13":{"loc":{"start":{"line":40,"column":8},"end":{"line":42,"column":9}},"type":"if","locations":[{"start":{"line":40,"column":8},"end":{"line":42,"column":9}},{"start":{"line":40,"column":8},"end":{"line":42,"column":9}}],"line":40},"14":{"loc":{"start":{"line":40,"column":12},"end":{"line":40,"column":95}},"type":"binary-expr","locations":[{"start":{"line":40,"column":12},"end":{"line":40,"column":26}},{"start":{"line":40,"column":30},"end":{"line":40,"column":63}},{"start":{"line":40,"column":67},"end":{"line":40,"column":95}}],"line":40},"15":{"loc":{"start":{"line":46,"column":8},"end":{"line":48,"column":9}},"type":"if","locations":[{"start":{"line":46,"column":8},"end":{"line":48,"column":9}},{"start":{"line":46,"column":8},"end":{"line":48,"column":9}}],"line":46},"16":{"loc":{"start":{"line":50,"column":8},"end":{"line":64,"column":9}},"type":"if","locations":[{"start":{"line":50,"column":8},"end":{"line":64,"column":9}},{"start":{"line":50,"column":8},"end":{"line":64,"column":9}}],"line":50},"17":{"loc":{"start":{"line":50,"column":12},"end":{"line":50,"column":41}},"type":"binary-expr","locations":[{"start":{"line":50,"column":12},"end":{"line":50,"column":25}},{"start":{"line":50,"column":29},"end":{"line":50,"column":41}}],"line":50},"18":{"loc":{"start":{"line":53,"column":13},"end":{"line":64,"column":9}},"type":"if","locations":[{"start":{"line":53,"column":13},"end":{"line":64,"column":9}},{"start":{"line":53,"column":13},"end":{"line":64,"column":9}}],"line":53},"19":{"loc":{"start":{"line":56,"column":13},"end":{"line":64,"column":9}},"type":"if","locations":[{"start":{"line":56,"column":13},"end":{"line":64,"column":9}},{"start":{"line":56,"column":13},"end":{"line":64,"column":9}}],"line":56},"20":{"loc":{"start":{"line":59,"column":13},"end":{"line":64,"column":9}},"type":"if","locations":[{"start":{"line":59,"column":13},"end":{"line":64,"column":9}},{"start":{"line":59,"column":13},"end":{"line":64,"column":9}}],"line":59},"21":{"loc":{"start":{"line":68,"column":8},"end":{"line":70,"column":9}},"type":"if","locations":[{"start":{"line":68,"column":8},"end":{"line":70,"column":9}},{"start":{"line":68,"column":8},"end":{"line":70,"column":9}}],"line":68},"22":{"loc":{"start":{"line":71,"column":8},"end":{"line":73,"column":9}},"type":"if","locations":[{"start":{"line":71,"column":8},"end":{"line":73,"column":9}},{"start":{"line":71,"column":8},"end":{"line":73,"column":9}}],"line":71},"23":{"loc":{"start":{"line":75,"column":12},"end":{"line":77,"column":13}},"type":"if","locations":[{"start":{"line":75,"column":12},"end":{"line":77,"column":13}},{"start":{"line":75,"column":12},"end":{"line":77,"column":13}}],"line":75},"24":{"loc":{"start":{"line":75,"column":16},"end":{"line":75,"column":52}},"type":"binary-expr","locations":[{"start":{"line":75,"column":16},"end":{"line":75,"column":33}},{"start":{"line":75,"column":37},"end":{"line":75,"column":52}}],"line":75},"25":{"loc":{"start":{"line":79,"column":8},"end":{"line":81,"column":9}},"type":"if","locations":[{"start":{"line":79,"column":8},"end":{"line":81,"column":9}},{"start":{"line":79,"column":8},"end":{"line":81,"column":9}}],"line":79},"26":{"loc":{"start":{"line":79,"column":12},"end":{"line":79,"column":75}},"type":"binary-expr","locations":[{"start":{"line":79,"column":12},"end":{"line":79,"column":43}},{"start":{"line":79,"column":47},"end":{"line":79,"column":75}}],"line":79},"27":{"loc":{"start":{"line":82,"column":8},"end":{"line":84,"column":9}},"type":"if","locations":[{"start":{"line":82,"column":8},"end":{"line":84,"column":9}},{"start":{"line":82,"column":8},"end":{"line":84,"column":9}}],"line":82},"28":{"loc":{"start":{"line":90,"column":8},"end":{"line":92,"column":9}},"type":"if","locations":[{"start":{"line":90,"column":8},"end":{"line":92,"column":9}},{"start":{"line":90,"column":8},"end":{"line":92,"column":9}}],"line":90},"29":{"loc":{"start":{"line":95,"column":8},"end":{"line":114,"column":9}},"type":"if","locations":[{"start":{"line":95,"column":8},"end":{"line":114,"column":9}},{"start":{"line":95,"column":8},"end":{"line":114,"column":9}}],"line":95},"30":{"loc":{"start":{"line":98,"column":13},"end":{"line":114,"column":9}},"type":"if","locations":[{"start":{"line":98,"column":13},"end":{"line":114,"column":9}},{"start":{"line":98,"column":13},"end":{"line":114,"column":9}}],"line":98},"31":{"loc":{"start":{"line":99,"column":12},"end":{"line":101,"column":13}},"type":"if","locations":[{"start":{"line":99,"column":12},"end":{"line":101,"column":13}},{"start":{"line":99,"column":12},"end":{"line":101,"column":13}}],"line":99},"32":{"loc":{"start":{"line":99,"column":16},"end":{"line":99,"column":65}},"type":"binary-expr","locations":[{"start":{"line":99,"column":16},"end":{"line":99,"column":22}},{"start":{"line":99,"column":26},"end":{"line":99,"column":43}},{"start":{"line":99,"column":47},"end":{"line":99,"column":65}}],"line":99},"33":{"loc":{"start":{"line":102,"column":12},"end":{"line":104,"column":13}},"type":"if","locations":[{"start":{"line":102,"column":12},"end":{"line":104,"column":13}},{"start":{"line":102,"column":12},"end":{"line":104,"column":13}}],"line":102},"34":{"loc":{"start":{"line":102,"column":16},"end":{"line":102,"column":84}},"type":"binary-expr","locations":[{"start":{"line":102,"column":16},"end":{"line":102,"column":45}},{"start":{"line":102,"column":49},"end":{"line":102,"column":84}}],"line":102},"35":{"loc":{"start":{"line":105,"column":12},"end":{"line":107,"column":13}},"type":"if","locations":[{"start":{"line":105,"column":12},"end":{"line":107,"column":13}},{"start":{"line":105,"column":12},"end":{"line":107,"column":13}}],"line":105},"36":{"loc":{"start":{"line":105,"column":16},"end":{"line":105,"column":69}},"type":"binary-expr","locations":[{"start":{"line":105,"column":16},"end":{"line":105,"column":42}},{"start":{"line":105,"column":46},"end":{"line":105,"column":69}}],"line":105},"37":{"loc":{"start":{"line":117,"column":8},"end":{"line":119,"column":9}},"type":"if","locations":[{"start":{"line":117,"column":8},"end":{"line":119,"column":9}},{"start":{"line":117,"column":8},"end":{"line":119,"column":9}}],"line":117},"38":{"loc":{"start":{"line":120,"column":8},"end":{"line":122,"column":9}},"type":"if","locations":[{"start":{"line":120,"column":8},"end":{"line":122,"column":9}},{"start":{"line":120,"column":8},"end":{"line":122,"column":9}}],"line":120},"39":{"loc":{"start":{"line":123,"column":8},"end":{"line":125,"column":9}},"type":"if","locations":[{"start":{"line":123,"column":8},"end":{"line":125,"column":9}},{"start":{"line":123,"column":8},"end":{"line":125,"column":9}}],"line":123},"40":{"loc":{"start":{"line":126,"column":8},"end":{"line":128,"column":9}},"type":"if","locations":[{"start":{"line":126,"column":8},"end":{"line":128,"column":9}},{"start":{"line":126,"column":8},"end":{"line":128,"column":9}}],"line":126},"41":{"loc":{"start":{"line":129,"column":8},"end":{"line":131,"column":9}},"type":"if","locations":[{"start":{"line":129,"column":8},"end":{"line":131,"column":9}},{"start":{"line":129,"column":8},"end":{"line":131,"column":9}}],"line":129},"42":{"loc":{"start":{"line":133,"column":12},"end":{"line":135,"column":13}},"type":"if","locations":[{"start":{"line":133,"column":12},"end":{"line":135,"column":13}},{"start":{"line":133,"column":12},"end":{"line":135,"column":13}}],"line":133},"43":{"loc":{"start":{"line":142,"column":8},"end":{"line":144,"column":9}},"type":"if","locations":[{"start":{"line":142,"column":8},"end":{"line":144,"column":9}},{"start":{"line":142,"column":8},"end":{"line":144,"column":9}}],"line":142},"44":{"loc":{"start":{"line":148,"column":8},"end":{"line":150,"column":9}},"type":"if","locations":[{"start":{"line":148,"column":8},"end":{"line":150,"column":9}},{"start":{"line":148,"column":8},"end":{"line":150,"column":9}}],"line":148},"45":{"loc":{"start":{"line":151,"column":8},"end":{"line":153,"column":9}},"type":"if","locations":[{"start":{"line":151,"column":8},"end":{"line":153,"column":9}},{"start":{"line":151,"column":8},"end":{"line":153,"column":9}}],"line":151},"46":{"loc":{"start":{"line":156,"column":8},"end":{"line":158,"column":9}},"type":"if","locations":[{"start":{"line":156,"column":8},"end":{"line":158,"column":9}},{"start":{"line":156,"column":8},"end":{"line":158,"column":9}}],"line":156},"47":{"loc":{"start":{"line":159,"column":8},"end":{"line":161,"column":9}},"type":"if","locations":[{"start":{"line":159,"column":8},"end":{"line":161,"column":9}},{"start":{"line":159,"column":8},"end":{"line":161,"column":9}}],"line":159},"48":{"loc":{"start":{"line":162,"column":8},"end":{"line":164,"column":9}},"type":"if","locations":[{"start":{"line":162,"column":8},"end":{"line":164,"column":9}},{"start":{"line":162,"column":8},"end":{"line":164,"column":9}}],"line":162},"49":{"loc":{"start":{"line":171,"column":8},"end":{"line":173,"column":9}},"type":"if","locations":[{"start":{"line":171,"column":8},"end":{"line":173,"column":9}},{"start":{"line":171,"column":8},"end":{"line":173,"column":9}}],"line":171},"50":{"loc":{"start":{"line":171,"column":12},"end":{"line":171,"column":67}},"type":"binary-expr","locations":[{"start":{"line":171,"column":12},"end":{"line":171,"column":39}},{"start":{"line":171,"column":43},"end":{"line":171,"column":67}}],"line":171},"51":{"loc":{"start":{"line":180,"column":8},"end":{"line":182,"column":9}},"type":"if","locations":[{"start":{"line":180,"column":8},"end":{"line":182,"column":9}},{"start":{"line":180,"column":8},"end":{"line":182,"column":9}}],"line":180},"52":{"loc":{"start":{"line":180,"column":12},"end":{"line":180,"column":77}},"type":"binary-expr","locations":[{"start":{"line":180,"column":12},"end":{"line":180,"column":45}},{"start":{"line":180,"column":49},"end":{"line":180,"column":77}}],"line":180},"53":{"loc":{"start":{"line":190,"column":8},"end":{"line":192,"column":9}},"type":"if","locations":[{"start":{"line":190,"column":8},"end":{"line":192,"column":9}},{"start":{"line":190,"column":8},"end":{"line":192,"column":9}}],"line":190},"54":{"loc":{"start":{"line":190,"column":12},"end":{"line":190,"column":73}},"type":"binary-expr","locations":[{"start":{"line":190,"column":12},"end":{"line":190,"column":43}},{"start":{"line":190,"column":47},"end":{"line":190,"column":73}}],"line":190},"55":{"loc":{"start":{"line":194,"column":8},"end":{"line":196,"column":9}},"type":"if","locations":[{"start":{"line":194,"column":8},"end":{"line":196,"column":9}},{"start":{"line":194,"column":8},"end":{"line":196,"column":9}}],"line":194},"56":{"loc":{"start":{"line":197,"column":8},"end":{"line":199,"column":9}},"type":"if","locations":[{"start":{"line":197,"column":8},"end":{"line":199,"column":9}},{"start":{"line":197,"column":8},"end":{"line":199,"column":9}}],"line":197},"57":{"loc":{"start":{"line":201,"column":8},"end":{"line":203,"column":9}},"type":"if","locations":[{"start":{"line":201,"column":8},"end":{"line":203,"column":9}},{"start":{"line":201,"column":8},"end":{"line":203,"column":9}}],"line":201},"58":{"loc":{"start":{"line":209,"column":8},"end":{"line":211,"column":9}},"type":"if","locations":[{"start":{"line":209,"column":8},"end":{"line":211,"column":9}},{"start":{"line":209,"column":8},"end":{"line":211,"column":9}}],"line":209},"59":{"loc":{"start":{"line":209,"column":12},"end":{"line":209,"column":73}},"type":"binary-expr","locations":[{"start":{"line":209,"column":12},"end":{"line":209,"column":43}},{"start":{"line":209,"column":47},"end":{"line":209,"column":73}}],"line":209},"60":{"loc":{"start":{"line":213,"column":8},"end":{"line":215,"column":9}},"type":"if","locations":[{"start":{"line":213,"column":8},"end":{"line":215,"column":9}},{"start":{"line":213,"column":8},"end":{"line":215,"column":9}}],"line":213},"61":{"loc":{"start":{"line":216,"column":8},"end":{"line":218,"column":9}},"type":"if","locations":[{"start":{"line":216,"column":8},"end":{"line":218,"column":9}},{"start":{"line":216,"column":8},"end":{"line":218,"column":9}}],"line":216},"62":{"loc":{"start":{"line":220,"column":8},"end":{"line":222,"column":9}},"type":"if","locations":[{"start":{"line":220,"column":8},"end":{"line":222,"column":9}},{"start":{"line":220,"column":8},"end":{"line":222,"column":9}}],"line":220},"63":{"loc":{"start":{"line":228,"column":31},"end":{"line":228,"column":55}},"type":"binary-expr","locations":[{"start":{"line":228,"column":31},"end":{"line":228,"column":49}},{"start":{"line":228,"column":53},"end":{"line":228,"column":55}}],"line":228},"64":{"loc":{"start":{"line":229,"column":8},"end":{"line":234,"column":9}},"type":"if","locations":[{"start":{"line":229,"column":8},"end":{"line":234,"column":9}},{"start":{"line":229,"column":8},"end":{"line":234,"column":9}}],"line":229},"65":{"loc":{"start":{"line":229,"column":12},"end":{"line":231,"column":79}},"type":"binary-expr","locations":[{"start":{"line":229,"column":12},"end":{"line":229,"column":29}},{"start":{"line":230,"column":13},"end":{"line":230,"column":32}},{"start":{"line":230,"column":36},"end":{"line":230,"column":55}},{"start":{"line":230,"column":59},"end":{"line":230,"column":76}},{"start":{"line":231,"column":13},"end":{"line":231,"column":32}},{"start":{"line":231,"column":37},"end":{"line":231,"column":56}},{"start":{"line":231,"column":60},"end":{"line":231,"column":77}}],"line":229}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":381,"6":294,"7":281,"8":281,"9":66,"10":274,"11":239,"12":229,"13":206,"14":308,"15":308,"16":3,"17":305,"18":7,"19":298,"20":3,"21":295,"22":3,"23":292,"24":6,"25":286,"26":3,"27":478,"28":478,"29":6,"30":472,"31":472,"32":96,"33":376,"34":112,"35":264,"36":243,"37":21,"38":15,"39":6,"40":238,"41":238,"42":2,"43":236,"44":3,"45":233,"46":388,"47":2,"48":231,"49":4,"50":227,"51":631,"52":1,"53":226,"54":226,"55":626,"56":617,"57":217,"58":140,"59":149,"60":109,"61":40,"62":37,"63":4,"64":33,"65":2,"66":31,"67":1,"68":30,"69":38,"70":3,"71":74,"72":1,"73":73,"74":1,"75":72,"76":1,"77":71,"78":1,"79":70,"80":85,"81":1,"82":69,"83":83,"84":4,"85":65,"86":84,"87":92,"88":2,"89":90,"90":90,"91":88,"92":88,"93":1,"94":87,"95":2,"96":85,"97":85,"98":85,"99":2,"100":83,"101":1,"102":82,"103":2,"104":102,"105":102,"106":102,"107":102,"108":102,"109":4,"110":98,"111":213,"112":20,"113":20,"114":1,"115":19,"116":251,"117":251,"118":251,"119":251,"120":251,"121":1,"122":250,"123":250,"124":2,"125":248,"126":8,"127":239,"128":239,"129":12,"130":120,"131":120,"132":120,"133":120,"134":1,"135":119,"136":119,"137":2,"138":117,"139":10,"140":106,"141":106,"142":9,"143":97,"144":97,"145":97,"146":97,"147":97,"148":6,"149":1},"f":{"0":1,"1":294,"2":308,"3":478,"4":238,"5":631,"6":626,"7":149,"8":74,"9":85,"10":92,"11":102,"12":20,"13":251,"14":120,"15":97},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[66,215],"4":[239,35],"5":[3,305],"6":[308,72],"7":[7,298],"8":[3,295],"9":[3,292],"10":[295,69,68,293],"11":[6,286],"12":[292,290,288],"13":[3,283],"14":[286,285,284],"15":[6,472],"16":[96,376],"17":[472,402],"18":[112,264],"19":[243,21],"20":[15,6],"21":[2,236],"22":[3,233],"23":[2,386],"24":[388,155],"25":[4,227],"26":[231,230],"27":[1,226],"28":[140,77],"29":[109,40],"30":[37,3],"31":[4,33],"32":[37,37,34],"33":[2,31],"34":[33,33],"35":[1,30],"36":[31,30],"37":[1,73],"38":[1,72],"39":[1,71],"40":[1,70],"41":[1,69],"42":[4,79],"43":[2,90],"44":[1,87],"45":[2,85],"46":[2,83],"47":[1,82],"48":[2,80],"49":[4,98],"50":[102,101],"51":[1,19],"52":[20,19],"53":[1,250],"54":[251,250],"55":[2,248],"56":[8,239],"57":[12,227],"58":[1,119],"59":[120,119],"60":[2,117],"61":[10,106],"62":[9,97],"63":[97,53],"64":[6,91],"65":[97,96,27,15,94,16,14]},"inputSourceMap":{"version":3,"file":"/Users/han/code/cpsc310/c1/project_team123/src/models/QueryValidator.ts","sources":["/Users/han/code/cpsc310/c1/project_team123/src/models/QueryValidator.ts"],"names":[],"mappings":"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","sourcesContent":["import {InsightError} from \"../controller/IInsightFacade\";\nimport KeyValidator from \"../utils/KeyValidator\";\nimport {\n\tLogic,\n\tLogicComparison,\n\tSComparison,\n\tMComparison,\n\tMComparator,\n\tSComparator,\n\tNegation,\n\tJSONQuery,\n} from \"./IQuery\";\n\nexport default class QueryValidator {\n\tprivate KV = new KeyValidator();\n\n\tpublic validateQuery(query: object): string {\n\t\tthis.validateQueryOutside(query);\n\t\tconst vQuery = query as JSONQuery;\n\n\t\tif (\"TRANSFORMATIONS\" in vQuery) {\n\t\t\tthis.validateTransformations(vQuery.TRANSFORMATIONS as object);\n\t\t}\n\t\tif (Object.keys(vQuery.WHERE as object).length !== 0) {\n\t\t\tthis.validateWhere(vQuery.WHERE as object);\n\t\t}\n\t\tthis.validateOptions(vQuery.OPTIONS);\n\t\treturn this.KV.getDatasetName();\n\t}\n\n\tpublic validateQueryOutside(query: any) {\n\t\tconst keys = Object.keys(query);\n\t\tif (keys.length > 2 && !(\"TRANSFORMATIONS\" in query)) {\n\t\t\tthrow new InsightError(\"Excess Keys in Query\");\n\t\t}\n\n\t\tif (!(\"WHERE\" in query)) {\n\t\t\tthrow new InsightError(\"Missing WHERE\");\n\t\t}\n\n\t\tif (!(\"OPTIONS\" in query)) {\n\t\t\tthrow new InsightError(\"Missing OPTIONS\");\n\t\t}\n\n\t\tif (\n\t\t\t(\"TRANSFORMATIONS\" in query && (!query.TRANSFORMATIONS || typeof query.TRANSFORMATIONS !== \"object\") ||\n\t\t\tArray.isArray(query.TRANSFORMATIONS))\n\t\t) {\n\t\t\tthrow new InsightError(\"TRANSFORMATIONS must be object\");\n\t\t}\n\n\t\tif (!query.WHERE || typeof query.WHERE !== \"object\" || Array.isArray(query.WHERE)) {\n\t\t\tthrow new InsightError(\"WHERE must be object\");\n\t\t}\n\n\t\tif (!query.OPTIONS || typeof query.OPTIONS !== \"object\" || Array.isArray(query.OPTIONS)) {\n\t\t\tthrow new InsightError(\"OPTIONS must be object\");\n\t\t}\n\t}\n\n\tpublic validateWhere(where: object): void {\n\t\tconst keys = Object.keys(where);\n\t\tif (keys.length !== 1) {\n\t\t\tthrow new InsightError(\"Nested Filter must contain 1 key\");\n\t\t}\n\n\t\t// Check that key is one of the valid keys\n\t\tconst key = keys[0];\n\t\tif (key === \"AND\" || key === \"OR\") {\n\t\t\tthis.validateLogicComparison(where);\n\t\t} else if (key === \"IS\") {\n\t\t\tthis.validateSComparison(where);\n\t\t} else if ([\"LT\", \"GT\", \"EQ\"].includes(key)) {\n\t\t\tthis.validateMComparison(where);\n\t\t} else if (key === \"NOT\") {\n\t\t\tthis.validateNot(where);\n\t\t} else {\n\t\t\tthrow new InsightError(\"Invalid key in WHERE\");\n\t\t}\n\t}\n\n\tpublic validateOptions(options: object): void {\n\t\tconst keys = Object.keys(options);\n\t\tif (keys.length > 2) {\n\t\t\tthrow new InsightError(\"Excess Keys in Options\");\n\t\t}\n\n\t\t// Check that options has COLUMNS\n\t\tif (!(\"COLUMNS\" in options)) {\n\t\t\tthrow new InsightError(\"Options missing COLUMNS\");\n\t\t}\n\n\t\t// Check for invalid keys\n\t\tfor (const key of keys) {\n\t\t\tif (key !== \"COLUMNS\" && key !== \"ORDER\") {\n\t\t\t\tthrow new InsightError(\"Options contains invalid keys\");\n\t\t\t}\n\t\t}\n\n\t\t// Check columns is nonempty array\n\t\tif (!Array.isArray(options.COLUMNS) || options.COLUMNS.length === 0) {\n\t\t\tthrow new InsightError(\"COLUMNS must be non-empty array\");\n\t\t}\n\t\tif (!options.COLUMNS.every((key) => typeof key === \"string\")) {\n\t\t\tthrow new InsightError(\"All elements in COLUMNS must be strings\");\n\t\t}\n\n\t\t// Validate keys in columns\n\t\tconst allColumnKeys: string[] = [];\n\t\toptions.COLUMNS.forEach((columnKey: string) => {\n\t\t\tthis.KV.validateColumnKey(columnKey);\n\t\t\tallColumnKeys.push(columnKey);\n\t\t});\n\n\t\tif (\"ORDER\" in options) {\n\t\t\tthis.validateOrder(options.ORDER, allColumnKeys);\n\t\t}\n\t}\n\n\tpublic validateOrder(order: unknown, columnKeys: string[]) {\n\t\tif (typeof order === \"string\") {\n\t\t\tthis.KV.validateOrderKey(order, columnKeys);\n\t\t} else if (typeof order === \"object\") {\n\t\t\tif (!order || !(\"dir\" in order) || !(\"keys\" in order)) {\n\t\t\t\tthrow new InsightError(\"Invalid Order structure\");\n\t\t\t}\n\t\t\tif (typeof order.dir !== \"string\" || ![\"DOWN\", \"UP\"].includes(order.dir)) {\n\t\t\t\tthrow new InsightError(\"Invalid ORDER direction.\");\n\t\t\t}\n\t\t\t// Check if order.keys is an array\n\t\t\tif (!Array.isArray(order.keys) || order.keys.length === 0) {\n\t\t\t\tthrow new InsightError(\"ORDER keys must be a non-empty array\");\n\t\t\t}\n\t\t\t// Check if each element of order.keys is a string and is present in columnKeys\n\t\t\tfor (const key of order.keys) {\n\t\t\t\tthis.KV.validateOrderKey(key, columnKeys);\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new InsightError(\"Invalid Order type. Must be string or object.\");\n\t\t}\n\t}\n\n\tpublic validateTransformations(transformations: object): void {\n\t\tif (!(\"GROUP\" in transformations)) {\n\t\t\tthrow new InsightError(\"TRANSFORMATIONS missing GROUP\");\n\t\t}\n\t\tif (!(\"APPLY\" in transformations)) {\n\t\t\tthrow new InsightError(\"TRANSFORMATIONS missing APPLY\");\n\t\t}\n\t\tif (!Array.isArray(transformations.GROUP)) {\n\t\t\tthrow new InsightError(\"GROUP must be a non-empty array\");\n\t\t}\n\t\tif (!Array.isArray(transformations.APPLY)) {\n\t\t\tthrow new InsightError(\"APPLY must be a non-empty array\");\n\t\t}\n\t\tif (!transformations.GROUP.every((key: any) => typeof key === \"string\")) {\n\t\t\tthrow new InsightError(\"All elements in GROUP must be strings\");\n\t\t}\n\t\tfor (let key of transformations.GROUP) {\n\t\t\tif (!this.KV.validateGroupKey(key)) {\n\t\t\t\tthrow new InsightError(\"Invalid key in GROUP: \" + key);\n\t\t\t}\n\t\t}\n\n\t\tfor (let rule of transformations.APPLY) {\n\t\t\tthis.validateApplyRule(rule);\n\t\t}\n\t}\n\n\tpublic validateApplyRule(rule: any): void {\n\t\tif (Object.keys(rule).length > 1) {\n\t\t\tthrow new InsightError(`Apply rule should only have 1 key, has ${Object.keys(rule).length}`);\n\t\t}\n\n\t\tconst applyKey = Object.keys(rule)[0];\n\t\tthis.KV.validateApplyKey(applyKey);\n\t\tconst applyValue = rule[applyKey];\n\n\t\tif (typeof applyValue !== \"object\") {\n\t\t\tthrow new InsightError(\"Apply body must be object\");\n\t\t}\n\t\tif (Object.keys(applyValue).length !== 1) {\n\t\t\tthrow new InsightError(`Apply body should only have 1 key, has ${Object.keys(applyValue).length}`);\n\t\t}\n\n\t\t// Check for valid transformation operators\n\t\tconst token = Object.keys(applyValue)[0];\n\t\tconst validTokens = [\"MAX\", \"MIN\", \"AVG\", \"COUNT\", \"SUM\"];\n\t\tif (!validTokens.includes(token)) {\n\t\t\tthrow new InsightError(\"Invalid transformation operator\");\n\t\t}\n\t\tif (typeof applyValue[token] !== \"string\") {\n\t\t\tthrow new InsightError(\"Invalid apply rule target key\");\n\t\t}\n\t\tif (!this.KV.validateApplyRuleTargetKey(applyValue[token])) {\n\t\t\tthrow new InsightError(`Invalid key in ${token}: ${applyValue[token]}`);\n\t\t}\n\t}\n\n\tpublic validateLogicComparison(object: object): void {\n\t\tconst logicComparison = object as LogicComparison;\n\t\tconst logicComparatorKeys = Object.keys(logicComparison);\n\t\tconst comparator = logicComparatorKeys[0] as Logic;\n\n\t\tconst fieldObject = logicComparison[comparator];\n\t\tif (!Array.isArray(fieldObject) || fieldObject.length === 0) {\n\t\t\tthrow new InsightError(`${comparator} should be non-empty array`);\n\t\t}\n\n\t\tfor (const filter of fieldObject) {\n\t\t\tthis.validateWhere(filter as object); // recursively validate each filter in the array\n\t\t}\n\t}\n\n\tpublic validateNot(object: object): void {\n\t\tconst notObject = object as Negation;\n\t\tif (typeof notObject.NOT !== \"object\" || Array.isArray(notObject.NOT)) {\n\t\t\tthrow new InsightError(\"NOT value must be object\");\n\t\t}\n\t\tthis.validateWhere(notObject.NOT as object);\n\t}\n\n\tpublic validateMComparison(object: object): void {\n\t\tconst mComparison = object as MComparison;\n\t\tconst mComparatorKeys = Object.keys(mComparison);\n\t\tconst comparator = mComparatorKeys[0] as MComparator;\n\n\t\tconst fieldObject = mComparison[comparator];\n\t\tif (typeof fieldObject !== \"object\" || Array.isArray(fieldObject)) {\n\t\t\tthrow new InsightError(`${comparator} value has invalid type`);\n\t\t}\n\n\t\tconst fieldKeys = Object.keys(fieldObject);\n\t\tif (fieldKeys.length !== 1) {\n\t\t\tthrow new InsightError(`${comparator} must have exactly one key`);\n\t\t}\n\n\t\tif (!this.KV.validateMKey(fieldKeys[0])) {\n\t\t\tthrow new InsightError(`Invalid key in ${comparator}: ${fieldKeys[0]}`);\n\t\t}\n\n\t\tconst fieldValue = fieldObject[fieldKeys[0]];\n\t\tif (typeof fieldValue !== \"number\") {\n\t\t\tthrow new InsightError(`Invalid value for ${fieldKeys[0]} in MComparison. Expected a number`);\n\t\t}\n\t}\n\n\tpublic validateSComparison(object: object): void {\n\t\tconst sComparison = object as SComparison;\n\t\tconst comparator = Object.keys(sComparison)[0] as SComparator;\n\n\t\tconst fieldObject = sComparison[comparator];\n\t\tif (typeof fieldObject !== \"object\" || Array.isArray(fieldObject)) {\n\t\t\tthrow new InsightError(`SComparison for ${comparator} has invalid type`);\n\t\t}\n\n\t\tconst fieldKeys = Object.keys(fieldObject);\n\t\tif (fieldKeys.length !== 1) {\n\t\t\tthrow new InsightError(`${comparator} must have exactly one key`);\n\t\t}\n\n\t\tif (!this.KV.validateSKey(fieldKeys[0])) {\n\t\t\tthrow new InsightError(`Invalid key in IS: ${fieldKeys[0]}`);\n\t\t}\n\n\t\tconst fieldValue = fieldObject[fieldKeys[0]];\n\t\tif (typeof fieldValue !== \"string\") {\n\t\t\tthrow new InsightError(`Invalid value type for ${fieldKeys[0]} in IS. Expected a string`);\n\t\t}\n\n\t\tthis.validateWildcardUsage(fieldValue);\n\t}\n\n\tprivate validateWildcardUsage(value: string): void {\n\t\tconst startsWithAsterisk = value.startsWith(\"*\");\n\t\tconst endsWithAsterisk = value.endsWith(\"*\");\n\t\tconst asteriskCount = (value.match(/\\*/g) || []).length;\n\n\t\tif (\n\t\t\tasteriskCount > 2 ||\n\t\t\t(asteriskCount === 1 && !startsWithAsterisk && !endsWithAsterisk) ||\n\t\t\t(asteriskCount === 2 && (!startsWithAsterisk || !endsWithAsterisk))\n\t\t) {\n\t\t\tthrow new InsightError(\n\t\t\t\t\"Invalid usage of wildcards in string. A valid string\" +\n\t\t\t\t\t\" can only start with or end with an asterisk, or both.\"\n\t\t\t);\n\t\t}\n\t}\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c43770d3c950cc5552d59bc16fcec046afc7e63c","contentHash":"2a1cd8f6b10e628bec2347de87d37870fcffb2f75700ed8c57e7fbf1123f4524"},"/Users/han/code/cpsc310/c1/project_team123/src/utils/KeyValidator.ts":{"path":"/Users/han/code/cpsc310/c1/project_team123/src/utils/KeyValidator.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":25},"end":{"line":3,"column":64}},"2":{"start":{"line":8,"column":8},"end":{"line":8,"column":26}},"3":{"start":{"line":9,"column":8},"end":{"line":9,"column":44}},"4":{"start":{"line":12,"column":8},"end":{"line":12,"column":28}},"5":{"start":{"line":15,"column":8},"end":{"line":15,"column":43}},"6":{"start":{"line":18,"column":28},"end":{"line":18,"column":78}},"7":{"start":{"line":19,"column":8},"end":{"line":21,"column":9}},"8":{"start":{"line":20,"column":12},"end":{"line":20,"column":25}},"9":{"start":{"line":22,"column":8},"end":{"line":22,"column":44}},"10":{"start":{"line":23,"column":8},"end":{"line":23,"column":20}},"11":{"start":{"line":26,"column":28},"end":{"line":26,"column":128}},"12":{"start":{"line":27,"column":8},"end":{"line":29,"column":9}},"13":{"start":{"line":28,"column":12},"end":{"line":28,"column":25}},"14":{"start":{"line":30,"column":8},"end":{"line":30,"column":44}},"15":{"start":{"line":31,"column":8},"end":{"line":31,"column":20}},"16":{"start":{"line":34,"column":30},"end":{"line":34,"column":46}},"17":{"start":{"line":35,"column":8},"end":{"line":40,"column":9}},"18":{"start":{"line":36,"column":12},"end":{"line":36,"column":39}},"19":{"start":{"line":38,"column":13},"end":{"line":40,"column":9}},"20":{"start":{"line":39,"column":12},"end":{"line":39,"column":91}},"21":{"start":{"line":43,"column":8},"end":{"line":45,"column":9}},"22":{"start":{"line":44,"column":12},"end":{"line":44,"column":25}},"23":{"start":{"line":46,"column":8},"end":{"line":48,"column":9}},"24":{"start":{"line":47,"column":12},"end":{"line":47,"column":25}},"25":{"start":{"line":49,"column":8},"end":{"line":49,"column":43}},"26":{"start":{"line":50,"column":8},"end":{"line":50,"column":20}},"27":{"start":{"line":53,"column":8},"end":{"line":61,"column":9}},"28":{"start":{"line":54,"column":12},"end":{"line":56,"column":13}},"29":{"start":{"line":55,"column":16},"end":{"line":55,"column":133}},"30":{"start":{"line":57,"column":12},"end":{"line":57,"column":19}},"31":{"start":{"line":59,"column":13},"end":{"line":61,"column":9}},"32":{"start":{"line":60,"column":12},"end":{"line":60,"column":92}},"33":{"start":{"line":64,"column":8},"end":{"line":64,"column":68}},"34":{"start":{"line":67,"column":8},"end":{"line":69,"column":9}},"35":{"start":{"line":68,"column":12},"end":{"line":68,"column":89}},"36":{"start":{"line":72,"column":24},"end":{"line":72,"column":33}},"37":{"start":{"line":73,"column":8},"end":{"line":75,"column":9}},"38":{"start":{"line":74,"column":12},"end":{"line":74,"column":90}},"39":{"start":{"line":76,"column":8},"end":{"line":78,"column":9}},"40":{"start":{"line":77,"column":12},"end":{"line":77,"column":87}},"41":{"start":{"line":79,"column":8},"end":{"line":79,"column":46}},"42":{"start":{"line":82,"column":0},"end":{"line":82,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":18},"end":{"line":10,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":21},"end":{"line":13,"column":5}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":35},"end":{"line":16,"column":5}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":24},"end":{"line":24,"column":5}},"line":17},"4":{"name":"(anonymous_4)","decl":{"start":{"line":25,"column":4},"end":{"line":25,"column":5}},"loc":{"start":{"line":25,"column":24},"end":{"line":32,"column":5}},"line":25},"5":{"name":"(anonymous_5)","decl":{"start":{"line":33,"column":4},"end":{"line":33,"column":5}},"loc":{"start":{"line":33,"column":35},"end":{"line":41,"column":5}},"line":33},"6":{"name":"(anonymous_6)","decl":{"start":{"line":42,"column":4},"end":{"line":42,"column":5}},"loc":{"start":{"line":42,"column":28},"end":{"line":51,"column":5}},"line":42},"7":{"name":"(anonymous_7)","decl":{"start":{"line":52,"column":4},"end":{"line":52,"column":5}},"loc":{"start":{"line":52,"column":33},"end":{"line":62,"column":5}},"line":52},"8":{"name":"(anonymous_8)","decl":{"start":{"line":63,"column":4},"end":{"line":63,"column":5}},"loc":{"start":{"line":63,"column":38},"end":{"line":65,"column":5}},"line":63},"9":{"name":"(anonymous_9)","decl":{"start":{"line":66,"column":4},"end":{"line":66,"column":5}},"loc":{"start":{"line":66,"column":38},"end":{"line":70,"column":5}},"line":66},"10":{"name":"(anonymous_10)","decl":{"start":{"line":71,"column":4},"end":{"line":71,"column":5}},"loc":{"start":{"line":71,"column":31},"end":{"line":80,"column":5}},"line":71}},"branchMap":{"0":{"loc":{"start":{"line":19,"column":8},"end":{"line":21,"column":9}},"type":"if","locations":[{"start":{"line":19,"column":8},"end":{"line":21,"column":9}},{"start":{"line":19,"column":8},"end":{"line":21,"column":9}}],"line":19},"1":{"loc":{"start":{"line":27,"column":8},"end":{"line":29,"column":9}},"type":"if","locations":[{"start":{"line":27,"column":8},"end":{"line":29,"column":9}},{"start":{"line":27,"column":8},"end":{"line":29,"column":9}}],"line":27},"2":{"loc":{"start":{"line":35,"column":8},"end":{"line":40,"column":9}},"type":"if","locations":[{"start":{"line":35,"column":8},"end":{"line":40,"column":9}},{"start":{"line":35,"column":8},"end":{"line":40,"column":9}}],"line":35},"3":{"loc":{"start":{"line":38,"column":13},"end":{"line":40,"column":9}},"type":"if","locations":[{"start":{"line":38,"column":13},"end":{"line":40,"column":9}},{"start":{"line":38,"column":13},"end":{"line":40,"column":9}}],"line":38},"4":{"loc":{"start":{"line":43,"column":8},"end":{"line":45,"column":9}},"type":"if","locations":[{"start":{"line":43,"column":8},"end":{"line":45,"column":9}},{"start":{"line":43,"column":8},"end":{"line":45,"column":9}}],"line":43},"5":{"loc":{"start":{"line":46,"column":8},"end":{"line":48,"column":9}},"type":"if","locations":[{"start":{"line":46,"column":8},"end":{"line":48,"column":9}},{"start":{"line":46,"column":8},"end":{"line":48,"column":9}}],"line":46},"6":{"loc":{"start":{"line":46,"column":12},"end":{"line":46,"column":66}},"type":"binary-expr","locations":[{"start":{"line":46,"column":12},"end":{"line":46,"column":37}},{"start":{"line":46,"column":41},"end":{"line":46,"column":66}}],"line":46},"7":{"loc":{"start":{"line":53,"column":8},"end":{"line":61,"column":9}},"type":"if","locations":[{"start":{"line":53,"column":8},"end":{"line":61,"column":9}},{"start":{"line":53,"column":8},"end":{"line":61,"column":9}}],"line":53},"8":{"loc":{"start":{"line":54,"column":12},"end":{"line":56,"column":13}},"type":"if","locations":[{"start":{"line":54,"column":12},"end":{"line":56,"column":13}},{"start":{"line":54,"column":12},"end":{"line":56,"column":13}}],"line":54},"9":{"loc":{"start":{"line":59,"column":13},"end":{"line":61,"column":9}},"type":"if","locations":[{"start":{"line":59,"column":13},"end":{"line":61,"column":9}},{"start":{"line":59,"column":13},"end":{"line":61,"column":9}}],"line":59},"10":{"loc":{"start":{"line":59,"column":17},"end":{"line":59,"column":79}},"type":"binary-expr","locations":[{"start":{"line":59,"column":17},"end":{"line":59,"column":46}},{"start":{"line":59,"column":50},"end":{"line":59,"column":79}}],"line":59},"11":{"loc":{"start":{"line":64,"column":15},"end":{"line":64,"column":67}},"type":"binary-expr","locations":[{"start":{"line":64,"column":15},"end":{"line":64,"column":39}},{"start":{"line":64,"column":43},"end":{"line":64,"column":67}}],"line":64},"12":{"loc":{"start":{"line":67,"column":8},"end":{"line":69,"column":9}},"type":"if","locations":[{"start":{"line":67,"column":8},"end":{"line":69,"column":9}},{"start":{"line":67,"column":8},"end":{"line":69,"column":9}}],"line":67},"13":{"loc":{"start":{"line":73,"column":8},"end":{"line":75,"column":9}},"type":"if","locations":[{"start":{"line":73,"column":8},"end":{"line":75,"column":9}},{"start":{"line":73,"column":8},"end":{"line":75,"column":9}}],"line":73},"14":{"loc":{"start":{"line":76,"column":8},"end":{"line":78,"column":9}},"type":"if","locations":[{"start":{"line":76,"column":8},"end":{"line":78,"column":9}},{"start":{"line":76,"column":8},"end":{"line":78,"column":9}}],"line":76}},"s":{"0":1,"1":1,"2":399,"3":399,"4":206,"5":1,"6":915,"7":915,"8":352,"9":563,"10":562,"11":462,"12":462,"13":25,"14":437,"15":432,"16":1000,"17":1000,"18":286,"19":714,"20":6,"21":89,"22":1,"23":88,"24":7,"25":81,"26":81,"27":626,"28":136,"29":3,"30":133,"31":490,"32":2,"33":85,"34":147,"35":7,"36":91,"37":91,"38":1,"39":90,"40":2,"41":88,"42":1},"f":{"0":399,"1":206,"2":1,"3":915,"4":462,"5":1000,"6":89,"7":626,"8":85,"9":147,"10":91},"b":{"0":[352,563],"1":[25,437],"2":[286,714],"3":[6,708],"4":[1,88],"5":[7,81],"6":[88,37],"7":[136,490],"8":[3,133],"9":[2,484],"10":[490,296],"11":[85,8],"12":[7,140],"13":[1,90],"14":[2,88]},"inputSourceMap":{"version":3,"file":"/Users/han/code/cpsc310/c1/project_team123/src/utils/KeyValidator.ts","sources":["/Users/han/code/cpsc310/c1/project_team123/src/utils/KeyValidator.ts"],"names":[],"mappings":"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","sourcesContent":["import {InsightDatasetKind, InsightError} from \"../controller/IInsightFacade\";\n\n/**\n * KeyValidator class to handle key validation and dataset name management.\n */\nexport default class KeyValidator {\n\tprivate dataset: string;\n\tprivate transformationKeys: Set<string>;\n\n\t/**\n\t * Initializes the dataset name as an empty string\n\t * and the transformation keys as an empty set.\n\t */\n\tconstructor() {\n\t\tthis.dataset = \"\";\n\t\tthis.transformationKeys = new Set();\n\t}\n\n\t/**\n\t * @return {string} The current dataset name.\n\t */\n\tpublic getDatasetName(): string {\n\t\treturn this.dataset;\n\t}\n\n\t/**\n\t * Adds a key to the transformationKeys set.\n\t * Used for testing purposes.\n\t * @param {string} input - Key to add to the transformation keys.\n\t */\n\tpublic addToTransformationKeys(input: string) {\n\t\tthis.transformationKeys.add(input);\n\t}\n\n\t/**\n\t * Validates a MKey (metric key).\n\t * @param {string} input - The MKey to validate.\n\t * @return {boolean} True if the key is valid, false otherwise.\n\t */\n\tpublic validateMKey(input: string): boolean {\n\t\tconst mKeyPattern = /^[^_]+_(avg|pass|fail|audit|year|lat|lon|seats)$/;\n\t\tif (!mKeyPattern.test(input)) {\n\t\t\treturn false;\n\t\t}\n\t\tthis.checkForMultipleDataset(input);\n\t\treturn true;\n\t}\n\n\t/**\n\t * Validates a SKey (string key).\n\t * @param {string} input - The SKey to validate.\n\t * @return {boolean} True if the key is valid, false otherwise.\n\t */\n\tpublic validateSKey(input: string): boolean {\n\t\tconst sKeyPattern =\n\t\t\t/^[^_]+_(dept|id|instructor|title|uuid|fullname|shortname|number|name|address|type|furniture|href)$/;\n\t\tif (!sKeyPattern.test(input)) {\n\t\t\treturn false;\n\t\t}\n\t\tthis.checkForMultipleDataset(input);\n\t\treturn true;\n\t}\n\n\t/**\n\t * Checks if the input key is from a different dataset.\n\t * @param {string} input - The key to check.\n\t * @throws {InsightError} If the key is from a different dataset.\n\t */\n\tpublic checkForMultipleDataset(input: string): void {\n\t\tconst [contentName] = input.split(\"_\");\n\t\tif (this.dataset === \"\") {\n\t\t\tthis.dataset = contentName;\n\t\t} else if (this.dataset !== contentName) {\n\t\t\tthrow new InsightError(\"Cannot query from multiple datasets\");\n\t\t}\n\t}\n\n\t/**\n\t * Validates a key used in the GROUP of a TRANSFORMATION.\n\t * @param {string | undefined} input - The key to validate.\n\t * @return {boolean} True if valid, false otherwise.\n\t */\n\tpublic validateGroupKey(input: string | undefined): boolean {\n\t\tif (typeof input === \"undefined\") {\n\t\t\treturn false;\n\t\t}\n\t\tif (!this.validateMKey(input) && !this.validateSKey(input)) {\n\t\t\treturn false;\n\t\t}\n\t\tthis.transformationKeys.add(input);\n\t\treturn true;\n\t}\n\n\t/**\n\t * Validates a key used in the COLUMNS of a query.\n\t * @param {string} columnKey - The column key to validate.\n\t * @throws {InsightError} If the key is invalid.\n\t */\n\tpublic validateColumnKey(columnKey: string) {\n\t\tif (this.transformationKeys.size !== 0) {\n\t\t\tif (!this.transformationKeys.has(columnKey)) {\n\t\t\t\tthrow new InsightError(\"Keys in COLUMNS must be in GROUP or APPLY when TRANSFORMATIONS is present\");\n\t\t\t}\n\t\t\treturn;\n\t\t} else if (!this.validateMKey(columnKey) && !this.validateSKey(columnKey)) {\n\t\t\tthrow new InsightError(`Invalid key in COLUMNS: ${columnKey}`);\n\t\t}\n\t}\n\n\t/**\n\t * Validates a target key used in an APPLY rule.\n\t * @param {string} input - The target key to validate.\n\t * @return {boolean} True if the key is valid, false otherwise.\n\t */\n\tpublic validateApplyRuleTargetKey(input: string) {\n\t\treturn this.validateMKey(input) || this.validateSKey(input);\n\t}\n\n\t/**\n\t * Validates that a key used in ORDER is present in the COLUMNS of a query.\n\t * @param {any} key - The key to validate.\n\t * @param {string[]} columnKeys - List of keys from the COLUMNS of a query.\n\t * @throws {InsightError} If the key is not present in the columnKeys.\n\t */\n\tpublic validateOrderKey(key: any, columnKeys: string[]) {\n\t\tif (!columnKeys.includes(key)) {\n\t\t\tthrow new InsightError(\"All ORDER keys must be in COLUMNS\");\n\t\t}\n\t}\n\n\t/**\n\t * Validates a key used in APPLY.\n\t * @param {string} applyKey - The apply key to validate.\n\t * @throws {InsightError} If the key is invalid or not unique.\n\t */\n\tpublic validateApplyKey(applyKey: string): void {\n\t\tconst pattern = /^[^_]+$/;\n\t\tif (!pattern.test(applyKey)) {\n\t\t\tthrow new InsightError(\"Cannot have underscore in applyKey\");\n\t\t}\n\t\tif (this.transformationKeys.has(applyKey)) {\n\t\t\tthrow new InsightError(`Duplicate APPLY key ${applyKey}`);\n\t\t}\n\t\tthis.transformationKeys.add(applyKey);\n\t}\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a2ddb771008d88ceda9e7566fc766bed73b3c36f","contentHash":"8c696d3e86835390878fcf8ff243a68da479d80be874f1373a717dea71995ed2"},"/Users/han/code/cpsc310/c1/project_team123/src/models/Query.ts":{"path":"/Users/han/code/cpsc310/c1/project_team123/src/models/Query.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":22},"end":{"line":27,"column":1}},"25":{"start":{"line":26,"column":4},"end":{"line":26,"column":62}},"26":{"start":{"line":28,"column":0},"end":{"line":28,"column":62}},"27":{"start":{"line":29,"column":0},"end":{"line":29,"column":23}},"28":{"start":{"line":30,"column":25},"end":{"line":30,"column":64}},"29":{"start":{"line":31,"column":11},"end":{"line":31,"column":44}},"30":{"start":{"line":32,"column":25},"end":{"line":32,"column":69}},"31":{"start":{"line":33,"column":19},"end":{"line":33,"column":57}},"32":{"start":{"line":34,"column":21},"end":{"line":34,"column":51}},"33":{"start":{"line":35,"column":16},"end":{"line":35,"column":51}},"34":{"start":{"line":41,"column":16},"end":{"line":41,"column":24}},"35":{"start":{"line":44,"column":17},"end":{"line":44,"column":47}},"36":{"start":{"line":45,"column":8},"end":{"line":45,"column":55}},"37":{"start":{"line":46,"column":8},"end":{"line":46,"column":37}},"38":{"start":{"line":47,"column":8},"end":{"line":47,"column":41}},"39":{"start":{"line":48,"column":8},"end":{"line":48,"column":57}},"40":{"start":{"line":49,"column":8},"end":{"line":49,"column":30}},"41":{"start":{"line":52,"column":8},"end":{"line":54,"column":9}},"42":{"start":{"line":53,"column":12},"end":{"line":53,"column":121}},"43":{"start":{"line":55,"column":8},"end":{"line":55,"column":24}},"44":{"start":{"line":56,"column":27},"end":{"line":56,"column":55}},"45":{"start":{"line":57,"column":32},"end":{"line":57,"column":34}},"46":{"start":{"line":58,"column":27},"end":{"line":58,"column":52}},"47":{"start":{"line":59,"column":8},"end":{"line":62,"column":11}},"48":{"start":{"line":60,"column":26},"end":{"line":60,"column":51}},"49":{"start":{"line":61,"column":12},"end":{"line":61,"column":40}},"50":{"start":{"line":63,"column":31},"end":{"line":63,"column":74}},"51":{"start":{"line":64,"column":8},"end":{"line":64,"column":50}},"52":{"start":{"line":67,"column":23},"end":{"line":67,"column":89}},"53":{"start":{"line":68,"column":8},"end":{"line":73,"column":9}},"54":{"start":{"line":69,"column":12},"end":{"line":69,"column":58}},"55":{"start":{"line":72,"column":12},"end":{"line":72,"column":55}},"56":{"start":{"line":74,"column":8},"end":{"line":74,"column":52}},"57":{"start":{"line":77,"column":8},"end":{"line":95,"column":9}},"58":{"start":{"line":78,"column":12},"end":{"line":78,"column":53}},"59":{"start":{"line":80,"column":13},"end":{"line":95,"column":9}},"60":{"start":{"line":81,"column":12},"end":{"line":81,"column":49}},"61":{"start":{"line":83,"column":13},"end":{"line":95,"column":9}},"62":{"start":{"line":84,"column":12},"end":{"line":84,"column":49}},"63":{"start":{"line":86,"column":13},"end":{"line":95,"column":9}},"64":{"start":{"line":87,"column":12},"end":{"line":87,"column":46}},"65":{"start":{"line":90,"column":24},"end":{"line":90,"column":33}},"66":{"start":{"line":91,"column":12},"end":{"line":93,"column":15}},"67":{"start":{"line":92,"column":16},"end":{"line":92,"column":121}},"68":{"start":{"line":94,"column":12},"end":{"line":94,"column":23}},"69":{"start":{"line":98,"column":8},"end":{"line":101,"column":9}},"70":{"start":{"line":99,"column":30},"end":{"line":99,"column":56}},"71":{"start":{"line":100,"column":12},"end":{"line":100,"column":47}},"72":{"start":{"line":102,"column":8},"end":{"line":102,"column":21}},"73":{"start":{"line":105,"column":26},"end":{"line":105,"column":35}},"74":{"start":{"line":106,"column":8},"end":{"line":115,"column":11}},"75":{"start":{"line":107,"column":26},"end":{"line":110,"column":25}},"76":{"start":{"line":108,"column":16},"end":{"line":108,"column":84}},"77":{"start":{"line":109,"column":16},"end":{"line":109,"column":61}},"78":{"start":{"line":111,"column":12},"end":{"line":113,"column":13}},"79":{"start":{"line":112,"column":16},"end":{"line":112,"column":41}},"80":{"start":{"line":114,"column":12},"end":{"line":114,"column":46}},"81":{"start":{"line":116,"column":8},"end":{"line":116,"column":25}},"82":{"start":{"line":119,"column":24},"end":{"line":119,"column":26}},"83":{"start":{"line":120,"column":8},"end":{"line":130,"column":9}},"84":{"start":{"line":121,"column":27},"end":{"line":121,"column":29}},"85":{"start":{"line":122,"column":12},"end":{"line":122,"column":110}},"86":{"start":{"line":123,"column":34},"end":{"line":123,"column":58}},"87":{"start":{"line":124,"column":12},"end":{"line":128,"column":15}},"88":{"start":{"line":125,"column":28},"end":{"line":125,"column":45}},"89":{"start":{"line":126,"column":16},"end":{"line":126,"column":40}},"90":{"start":{"line":127,"column":16},"end":{"line":127,"column":47}},"91":{"start":{"line":129,"column":12},"end":{"line":129,"column":33}},"92":{"start":{"line":131,"column":8},"end":{"line":131,"column":23}},"93":{"start":{"line":134,"column":28},"end":{"line":134,"column":55}},"94":{"start":{"line":135,"column":31},"end":{"line":135,"column":40}},"95":{"start":{"line":136,"column":8},"end":{"line":140,"column":11}},"96":{"start":{"line":137,"column":12},"end":{"line":139,"column":13}},"97":{"start":{"line":138,"column":16},"end":{"line":138,"column":132}},"98":{"start":{"line":141,"column":8},"end":{"line":141,"column":30}},"99":{"start":{"line":144,"column":32},"end":{"line":144,"column":41}},"100":{"start":{"line":145,"column":20},"end":{"line":145,"column":44}},"101":{"start":{"line":146,"column":8},"end":{"line":146,"column":76}},"102":{"start":{"line":147,"column":23},"end":{"line":147,"column":40}},"103":{"start":{"line":148,"column":23},"end":{"line":148,"column":36}},"104":{"start":{"line":149,"column":8},"end":{"line":173,"column":11}},"105":{"start":{"line":150,"column":12},"end":{"line":172,"column":13}},"106":{"start":{"line":151,"column":16},"end":{"line":151,"column":133}},"107":{"start":{"line":153,"column":17},"end":{"line":172,"column":13}},"108":{"start":{"line":154,"column":16},"end":{"line":156,"column":17}},"109":{"start":{"line":155,"column":20},"end":{"line":155,"column":137}},"110":{"start":{"line":158,"column":17},"end":{"line":172,"column":13}},"111":{"start":{"line":159,"column":16},"end":{"line":161,"column":17}},"112":{"start":{"line":160,"column":20},"end":{"line":160,"column":137}},"113":{"start":{"line":163,"column":17},"end":{"line":172,"column":13}},"114":{"start":{"line":164,"column":16},"end":{"line":166,"column":17}},"115":{"start":{"line":165,"column":20},"end":{"line":165,"column":137}},"116":{"start":{"line":169,"column":16},"end":{"line":171,"column":17}},"117":{"start":{"line":170,"column":20},"end":{"line":170,"column":137}},"118":{"start":{"line":174,"column":8},"end":{"line":174,"column":31}},"119":{"start":{"line":177,"column":32},"end":{"line":177,"column":41}},"120":{"start":{"line":178,"column":27},"end":{"line":178,"column":48}},"121":{"start":{"line":179,"column":30},"end":{"line":179,"column":47}},"122":{"start":{"line":180,"column":20},"end":{"line":180,"column":49}},"123":{"start":{"line":181,"column":8},"end":{"line":181,"column":76}},"124":{"start":{"line":182,"column":23},"end":{"line":182,"column":40}},"125":{"start":{"line":183,"column":23},"end":{"line":183,"column":54}},"126":{"start":{"line":184,"column":8},"end":{"line":194,"column":11}},"127":{"start":{"line":185,"column":12},"end":{"line":193,"column":13}},"128":{"start":{"line":186,"column":16},"end":{"line":186,"column":133}},"129":{"start":{"line":188,"column":17},"end":{"line":193,"column":13}},"130":{"start":{"line":189,"column":16},"end":{"line":189,"column":133}},"131":{"start":{"line":191,"column":17},"end":{"line":193,"column":13}},"132":{"start":{"line":192,"column":16},"end":{"line":192,"column":133}},"133":{"start":{"line":195,"column":8},"end":{"line":195,"column":31}},"134":{"start":{"line":198,"column":28},"end":{"line":198,"column":30}},"135":{"start":{"line":199,"column":25},"end":{"line":199,"column":46}},"136":{"start":{"line":200,"column":8},"end":{"line":202,"column":11}},"137":{"start":{"line":201,"column":12},"end":{"line":201,"column":59}},"138":{"start":{"line":203,"column":23},"end":{"line":203,"column":32}},"139":{"start":{"line":204,"column":8},"end":{"line":221,"column":9}},"140":{"start":{"line":205,"column":12},"end":{"line":205,"column":88}},"141":{"start":{"line":205,"column":58},"end":{"line":205,"column":86}},"142":{"start":{"line":206,"column":12},"end":{"line":213,"column":13}},"143":{"start":{"line":206,"column":25},"end":{"line":206,"column":26}},"144":{"start":{"line":207,"column":35},"end":{"line":207,"column":49}},"145":{"start":{"line":208,"column":16},"end":{"line":212,"column":17}},"146":{"start":{"line":209,"column":20},"end":{"line":211,"column":21}},"147":{"start":{"line":210,"column":24},"end":{"line":210,"column":56}},"148":{"start":{"line":216,"column":12},"end":{"line":220,"column":15}},"149":{"start":{"line":217,"column":16},"end":{"line":219,"column":19}},"150":{"start":{"line":218,"column":20},"end":{"line":218,"column":49}},"151":{"start":{"line":222,"column":8},"end":{"line":222,"column":22}},"152":{"start":{"line":225,"column":8},"end":{"line":227,"column":9}},"153":{"start":{"line":226,"column":12},"end":{"line":226,"column":88}},"154":{"start":{"line":228,"column":8},"end":{"line":235,"column":9}},"155":{"start":{"line":229,"column":12},"end":{"line":234,"column":13}},"156":{"start":{"line":230,"column":16},"end":{"line":230,"column":114}},"157":{"start":{"line":233,"column":16},"end":{"line":233,"column":118}},"158":{"start":{"line":236,"column":23},"end":{"line":247,"column":10}},"159":{"start":{"line":237,"column":28},"end":{"line":237,"column":30}},"160":{"start":{"line":238,"column":12},"end":{"line":245,"column":15}},"161":{"start":{"line":239,"column":26},"end":{"line":239,"column":32}},"162":{"start":{"line":240,"column":16},"end":{"line":243,"column":17}},"163":{"start":{"line":241,"column":20},"end":{"line":241,"column":88}},"164":{"start":{"line":242,"column":20},"end":{"line":242,"column":47}},"165":{"start":{"line":244,"column":16},"end":{"line":244,"column":45}},"166":{"start":{"line":246,"column":12},"end":{"line":246,"column":27}},"167":{"start":{"line":248,"column":8},"end":{"line":248,"column":22}},"168":{"start":{"line":251,"column":0},"end":{"line":251,"column":22}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":25,"column":56},"end":{"line":25,"column":57}},"loc":{"start":{"line":25,"column":71},"end":{"line":27,"column":1}},"line":25},"7":{"name":"(anonymous_7)","decl":{"start":{"line":43,"column":4},"end":{"line":43,"column":5}},"loc":{"start":{"line":43,"column":27},"end":{"line":50,"column":5}},"line":43},"8":{"name":"(anonymous_8)","decl":{"start":{"line":51,"column":4},"end":{"line":51,"column":5}},"loc":{"start":{"line":51,"column":14},"end":{"line":65,"column":5}},"line":51},"9":{"name":"(anonymous_9)","decl":{"start":{"line":59,"column":27},"end":{"line":59,"column":28}},"loc":{"start":{"line":59,"column":41},"end":{"line":62,"column":9}},"line":59},"10":{"name":"(anonymous_10)","decl":{"start":{"line":66,"column":4},"end":{"line":66,"column":5}},"loc":{"start":{"line":66,"column":15},"end":{"line":75,"column":5}},"line":66},"11":{"name":"(anonymous_11)","decl":{"start":{"line":76,"column":4},"end":{"line":76,"column":5}},"loc":{"start":{"line":76,"column":23},"end":{"line":96,"column":5}},"line":76},"12":{"name":"(anonymous_12)","decl":{"start":{"line":91,"column":41},"end":{"line":91,"column":42}},"loc":{"start":{"line":91,"column":52},"end":{"line":93,"column":13}},"line":91},"13":{"name":"(anonymous_13)","decl":{"start":{"line":97,"column":4},"end":{"line":97,"column":5}},"loc":{"start":{"line":97,"column":33},"end":{"line":103,"column":5}},"line":97},"14":{"name":"(anonymous_14)","decl":{"start":{"line":104,"column":4},"end":{"line":104,"column":5}},"loc":{"start":{"line":104,"column":36},"end":{"line":117,"column":5}},"line":104},"15":{"name":"(anonymous_15)","decl":{"start":{"line":106,"column":32},"end":{"line":106,"column":33}},"loc":{"start":{"line":106,"column":43},"end":{"line":115,"column":9}},"line":106},"16":{"name":"(anonymous_16)","decl":{"start":{"line":107,"column":58},"end":{"line":107,"column":59}},"loc":{"start":{"line":107,"column":67},"end":{"line":110,"column":13}},"line":107},"17":{"name":"(anonymous_17)","decl":{"start":{"line":118,"column":4},"end":{"line":118,"column":5}},"loc":{"start":{"line":118,"column":23},"end":{"line":132,"column":5}},"line":118},"18":{"name":"(anonymous_18)","decl":{"start":{"line":124,"column":30},"end":{"line":124,"column":31}},"loc":{"start":{"line":124,"column":41},"end":{"line":128,"column":13}},"line":124},"19":{"name":"(anonymous_19)","decl":{"start":{"line":133,"column":4},"end":{"line":133,"column":5}},"loc":{"start":{"line":133,"column":26},"end":{"line":142,"column":5}},"line":133},"20":{"name":"(anonymous_20)","decl":{"start":{"line":136,"column":37},"end":{"line":136,"column":38}},"loc":{"start":{"line":136,"column":48},"end":{"line":140,"column":9}},"line":136},"21":{"name":"(anonymous_21)","decl":{"start":{"line":143,"column":4},"end":{"line":143,"column":5}},"loc":{"start":{"line":143,"column":29},"end":{"line":175,"column":5}},"line":143},"22":{"name":"(anonymous_22)","decl":{"start":{"line":149,"column":37},"end":{"line":149,"column":38}},"loc":{"start":{"line":149,"column":48},"end":{"line":173,"column":9}},"line":149},"23":{"name":"(anonymous_23)","decl":{"start":{"line":176,"column":4},"end":{"line":176,"column":5}},"loc":{"start":{"line":176,"column":29},"end":{"line":196,"column":5}},"line":176},"24":{"name":"(anonymous_24)","decl":{"start":{"line":184,"column":37},"end":{"line":184,"column":38}},"loc":{"start":{"line":184,"column":48},"end":{"line":194,"column":9}},"line":184},"25":{"name":"(anonymous_25)","decl":{"start":{"line":197,"column":4},"end":{"line":197,"column":5}},"loc":{"start":{"line":197,"column":33},"end":{"line":223,"column":5}},"line":197},"26":{"name":"(anonymous_26)","decl":{"start":{"line":200,"column":33},"end":{"line":200,"column":34}},"loc":{"start":{"line":200,"column":49},"end":{"line":202,"column":9}},"line":200},"27":{"name":"(anonymous_27)","decl":{"start":{"line":205,"column":36},"end":{"line":205,"column":37}},"loc":{"start":{"line":205,"column":58},"end":{"line":205,"column":86}},"line":205},"28":{"name":"(anonymous_28)","decl":{"start":{"line":216,"column":32},"end":{"line":216,"column":33}},"loc":{"start":{"line":216,"column":45},"end":{"line":220,"column":13}},"line":216},"29":{"name":"(anonymous_29)","decl":{"start":{"line":217,"column":32},"end":{"line":217,"column":33}},"loc":{"start":{"line":217,"column":54},"end":{"line":219,"column":17}},"line":217},"30":{"name":"(anonymous_30)","decl":{"start":{"line":224,"column":4},"end":{"line":224,"column":5}},"loc":{"start":{"line":224,"column":35},"end":{"line":249,"column":5}},"line":224},"31":{"name":"(anonymous_31)","decl":{"start":{"line":236,"column":43},"end":{"line":236,"column":44}},"loc":{"start":{"line":236,"column":54},"end":{"line":247,"column":9}},"line":236},"32":{"name":"(anonymous_32)","decl":{"start":{"line":238,"column":41},"end":{"line":238,"column":42}},"loc":{"start":{"line":238,"column":53},"end":{"line":245,"column":13}},"line":238}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21},"16":{"loc":{"start":{"line":25,"column":22},"end":{"line":27,"column":1}},"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":27}},{"start":{"line":25,"column":31},"end":{"line":25,"column":51}},{"start":{"line":25,"column":56},"end":{"line":27,"column":1}}],"line":25},"17":{"loc":{"start":{"line":26,"column":11},"end":{"line":26,"column":61}},"type":"cond-expr","locations":[{"start":{"line":26,"column":37},"end":{"line":26,"column":40}},{"start":{"line":26,"column":43},"end":{"line":26,"column":61}}],"line":26},"18":{"loc":{"start":{"line":26,"column":12},"end":{"line":26,"column":33}},"type":"binary-expr","locations":[{"start":{"line":26,"column":12},"end":{"line":26,"column":15}},{"start":{"line":26,"column":19},"end":{"line":26,"column":33}}],"line":26},"19":{"loc":{"start":{"line":52,"column":8},"end":{"line":54,"column":9}},"type":"if","locations":[{"start":{"line":52,"column":8},"end":{"line":54,"column":9}},{"start":{"line":52,"column":8},"end":{"line":54,"column":9}}],"line":52},"20":{"loc":{"start":{"line":68,"column":8},"end":{"line":73,"column":9}},"type":"if","locations":[{"start":{"line":68,"column":8},"end":{"line":73,"column":9}},{"start":{"line":68,"column":8},"end":{"line":73,"column":9}}],"line":68},"21":{"loc":{"start":{"line":77,"column":8},"end":{"line":95,"column":9}},"type":"if","locations":[{"start":{"line":77,"column":8},"end":{"line":95,"column":9}},{"start":{"line":77,"column":8},"end":{"line":95,"column":9}}],"line":77},"22":{"loc":{"start":{"line":77,"column":12},"end":{"line":77,"column":43}},"type":"binary-expr","locations":[{"start":{"line":77,"column":12},"end":{"line":77,"column":26}},{"start":{"line":77,"column":30},"end":{"line":77,"column":43}}],"line":77},"23":{"loc":{"start":{"line":80,"column":13},"end":{"line":95,"column":9}},"type":"if","locations":[{"start":{"line":80,"column":13},"end":{"line":95,"column":9}},{"start":{"line":80,"column":13},"end":{"line":95,"column":9}}],"line":80},"24":{"loc":{"start":{"line":80,"column":17},"end":{"line":80,"column":64}},"type":"binary-expr","locations":[{"start":{"line":80,"column":17},"end":{"line":80,"column":30}},{"start":{"line":80,"column":34},"end":{"line":80,"column":47}},{"start":{"line":80,"column":51},"end":{"line":80,"column":64}}],"line":80},"25":{"loc":{"start":{"line":83,"column":13},"end":{"line":95,"column":9}},"type":"if","locations":[{"start":{"line":83,"column":13},"end":{"line":95,"column":9}},{"start":{"line":83,"column":13},"end":{"line":95,"column":9}}],"line":83},"26":{"loc":{"start":{"line":86,"column":13},"end":{"line":95,"column":9}},"type":"if","locations":[{"start":{"line":86,"column":13},"end":{"line":95,"column":9}},{"start":{"line":86,"column":13},"end":{"line":95,"column":9}}],"line":86},"27":{"loc":{"start":{"line":92,"column":24},"end":{"line":92,"column":119}},"type":"cond-expr","locations":[{"start":{"line":92,"column":96},"end":{"line":92,"column":106}},{"start":{"line":92,"column":109},"end":{"line":92,"column":119}}],"line":92},"28":{"loc":{"start":{"line":98,"column":8},"end":{"line":101,"column":9}},"type":"if","locations":[{"start":{"line":98,"column":8},"end":{"line":101,"column":9}},{"start":{"line":98,"column":8},"end":{"line":101,"column":9}}],"line":98},"29":{"loc":{"start":{"line":111,"column":12},"end":{"line":113,"column":13}},"type":"if","locations":[{"start":{"line":111,"column":12},"end":{"line":113,"column":13}},{"start":{"line":111,"column":12},"end":{"line":113,"column":13}}],"line":111},"30":{"loc":{"start":{"line":137,"column":12},"end":{"line":139,"column":13}},"type":"if","locations":[{"start":{"line":137,"column":12},"end":{"line":139,"column":13}},{"start":{"line":137,"column":12},"end":{"line":139,"column":13}}],"line":137},"31":{"loc":{"start":{"line":137,"column":33},"end":{"line":137,"column":128}},"type":"cond-expr","locations":[{"start":{"line":137,"column":105},"end":{"line":137,"column":115}},{"start":{"line":137,"column":118},"end":{"line":137,"column":128}}],"line":137},"32":{"loc":{"start":{"line":138,"column":35},"end":{"line":138,"column":130}},"type":"cond-expr","locations":[{"start":{"line":138,"column":107},"end":{"line":138,"column":117}},{"start":{"line":138,"column":120},"end":{"line":138,"column":130}}],"line":138},"33":{"loc":{"start":{"line":150,"column":12},"end":{"line":172,"column":13}},"type":"if","locations":[{"start":{"line":150,"column":12},"end":{"line":172,"column":13}},{"start":{"line":150,"column":12},"end":{"line":172,"column":13}}],"line":150},"34":{"loc":{"start":{"line":151,"column":36},"end":{"line":151,"column":131}},"type":"cond-expr","locations":[{"start":{"line":151,"column":108},"end":{"line":151,"column":118}},{"start":{"line":151,"column":121},"end":{"line":151,"column":131}}],"line":151},"35":{"loc":{"start":{"line":153,"column":17},"end":{"line":172,"column":13}},"type":"if","locations":[{"start":{"line":153,"column":17},"end":{"line":172,"column":13}},{"start":{"line":153,"column":17},"end":{"line":172,"column":13}}],"line":153},"36":{"loc":{"start":{"line":153,"column":21},"end":{"line":153,"column":67}},"type":"binary-expr","locations":[{"start":{"line":153,"column":21},"end":{"line":153,"column":43}},{"start":{"line":153,"column":47},"end":{"line":153,"column":67}}],"line":153},"37":{"loc":{"start":{"line":154,"column":16},"end":{"line":156,"column":17}},"type":"if","locations":[{"start":{"line":154,"column":16},"end":{"line":156,"column":17}},{"start":{"line":154,"column":16},"end":{"line":156,"column":17}}],"line":154},"38":{"loc":{"start":{"line":155,"column":40},"end":{"line":155,"column":135}},"type":"cond-expr","locations":[{"start":{"line":155,"column":112},"end":{"line":155,"column":122}},{"start":{"line":155,"column":125},"end":{"line":155,"column":135}}],"line":155},"39":{"loc":{"start":{"line":158,"column":17},"end":{"line":172,"column":13}},"type":"if","locations":[{"start":{"line":158,"column":17},"end":{"line":172,"column":13}},{"start":{"line":158,"column":17},"end":{"line":172,"column":13}}],"line":158},"40":{"loc":{"start":{"line":159,"column":16},"end":{"line":161,"column":17}},"type":"if","locations":[{"start":{"line":159,"column":16},"end":{"line":161,"column":17}},{"start":{"line":159,"column":16},"end":{"line":161,"column":17}}],"line":159},"41":{"loc":{"start":{"line":160,"column":40},"end":{"line":160,"column":135}},"type":"cond-expr","locations":[{"start":{"line":160,"column":112},"end":{"line":160,"column":122}},{"start":{"line":160,"column":125},"end":{"line":160,"column":135}}],"line":160},"42":{"loc":{"start":{"line":163,"column":17},"end":{"line":172,"column":13}},"type":"if","locations":[{"start":{"line":163,"column":17},"end":{"line":172,"column":13}},{"start":{"line":163,"column":17},"end":{"line":172,"column":13}}],"line":163},"43":{"loc":{"start":{"line":164,"column":16},"end":{"line":166,"column":17}},"type":"if","locations":[{"start":{"line":164,"column":16},"end":{"line":166,"column":17}},{"start":{"line":164,"column":16},"end":{"line":166,"column":17}}],"line":164},"44":{"loc":{"start":{"line":165,"column":40},"end":{"line":165,"column":135}},"type":"cond-expr","locations":[{"start":{"line":165,"column":112},"end":{"line":165,"column":122}},{"start":{"line":165,"column":125},"end":{"line":165,"column":135}}],"line":165},"45":{"loc":{"start":{"line":169,"column":16},"end":{"line":171,"column":17}},"type":"if","locations":[{"start":{"line":169,"column":16},"end":{"line":171,"column":17}},{"start":{"line":169,"column":16},"end":{"line":171,"column":17}}],"line":169},"46":{"loc":{"start":{"line":170,"column":40},"end":{"line":170,"column":135}},"type":"cond-expr","locations":[{"start":{"line":170,"column":112},"end":{"line":170,"column":122}},{"start":{"line":170,"column":125},"end":{"line":170,"column":135}}],"line":170},"47":{"loc":{"start":{"line":185,"column":12},"end":{"line":193,"column":13}},"type":"if","locations":[{"start":{"line":185,"column":12},"end":{"line":193,"column":13}},{"start":{"line":185,"column":12},"end":{"line":193,"column":13}}],"line":185},"48":{"loc":{"start":{"line":185,"column":16},"end":{"line":185,"column":61}},"type":"binary-expr","locations":[{"start":{"line":185,"column":16},"end":{"line":185,"column":35}},{"start":{"line":185,"column":39},"end":{"line":185,"column":61}}],"line":185},"49":{"loc":{"start":{"line":186,"column":36},"end":{"line":186,"column":131}},"type":"cond-expr","locations":[{"start":{"line":186,"column":108},"end":{"line":186,"column":118}},{"start":{"line":186,"column":121},"end":{"line":186,"column":131}}],"line":186},"50":{"loc":{"start":{"line":188,"column":17},"end":{"line":193,"column":13}},"type":"if","locations":[{"start":{"line":188,"column":17},"end":{"line":193,"column":13}},{"start":{"line":188,"column":17},"end":{"line":193,"column":13}}],"line":188},"51":{"loc":{"start":{"line":188,"column":21},"end":{"line":188,"column":66}},"type":"binary-expr","locations":[{"start":{"line":188,"column":21},"end":{"line":188,"column":40}},{"start":{"line":188,"column":44},"end":{"line":188,"column":66}}],"line":188},"52":{"loc":{"start":{"line":189,"column":36},"end":{"line":189,"column":131}},"type":"cond-expr","locations":[{"start":{"line":189,"column":108},"end":{"line":189,"column":118}},{"start":{"line":189,"column":121},"end":{"line":189,"column":131}}],"line":189},"53":{"loc":{"start":{"line":191,"column":17},"end":{"line":193,"column":13}},"type":"if","locations":[{"start":{"line":191,"column":17},"end":{"line":193,"column":13}},{"start":{"line":191,"column":17},"end":{"line":193,"column":13}}],"line":191},"54":{"loc":{"start":{"line":191,"column":21},"end":{"line":191,"column":68}},"type":"binary-expr","locations":[{"start":{"line":191,"column":21},"end":{"line":191,"column":40}},{"start":{"line":191,"column":44},"end":{"line":191,"column":68}}],"line":191},"55":{"loc":{"start":{"line":192,"column":36},"end":{"line":192,"column":131}},"type":"cond-expr","locations":[{"start":{"line":192,"column":108},"end":{"line":192,"column":118}},{"start":{"line":192,"column":121},"end":{"line":192,"column":131}}],"line":192},"56":{"loc":{"start":{"line":204,"column":8},"end":{"line":221,"column":9}},"type":"if","locations":[{"start":{"line":204,"column":8},"end":{"line":221,"column":9}},{"start":{"line":204,"column":8},"end":{"line":221,"column":9}}],"line":204},"57":{"loc":{"start":{"line":209,"column":20},"end":{"line":211,"column":21}},"type":"if","locations":[{"start":{"line":209,"column":20},"end":{"line":211,"column":21}},{"start":{"line":209,"column":20},"end":{"line":211,"column":21}}],"line":209},"58":{"loc":{"start":{"line":225,"column":8},"end":{"line":227,"column":9}},"type":"if","locations":[{"start":{"line":225,"column":8},"end":{"line":227,"column":9}},{"start":{"line":225,"column":8},"end":{"line":227,"column":9}}],"line":225},"59":{"loc":{"start":{"line":228,"column":8},"end":{"line":235,"column":9}},"type":"if","locations":[{"start":{"line":228,"column":8},"end":{"line":235,"column":9}},{"start":{"line":228,"column":8},"end":{"line":235,"column":9}}],"line":228},"60":{"loc":{"start":{"line":229,"column":12},"end":{"line":234,"column":13}},"type":"if","locations":[{"start":{"line":229,"column":12},"end":{"line":234,"column":13}},{"start":{"line":229,"column":12},"end":{"line":234,"column":13}}],"line":229},"61":{"loc":{"start":{"line":240,"column":16},"end":{"line":243,"column":17}},"type":"if","locations":[{"start":{"line":240,"column":16},"end":{"line":243,"column":17}},{"start":{"line":240,"column":16},"end":{"line":243,"column":17}}],"line":240}},"s":{"0":1,"1":148,"2":148,"3":148,"4":148,"5":148,"6":201,"7":148,"8":0,"9":0,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":0,"17":1,"18":1,"19":1,"20":148,"21":148,"22":1,"23":1,"24":1,"25":3,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":102,"35":102,"36":102,"37":102,"38":102,"39":102,"40":102,"41":102,"42":3,"43":99,"44":99,"45":99,"46":99,"47":99,"48":1202380,"49":1202380,"50":99,"51":99,"52":99,"53":99,"54":70,"55":29,"56":99,"57":199,"58":40,"59":159,"60":98,"61":61,"62":39,"63":22,"64":7,"65":15,"66":15,"67":904932,"68":15,"69":99,"70":25,"71":25,"72":74,"73":25,"74":25,"75":987051,"76":1103339,"77":1103339,"78":987051,"79":1009,"80":987051,"81":25,"82":25,"83":25,"84":1009,"85":1009,"86":1009,"87":1009,"88":1316,"89":1316,"90":1316,"91":1009,"92":25,"93":7,"94":7,"95":7,"96":131044,"97":1086,"98":7,"99":39,"100":39,"101":39,"102":39,"103":39,"104":39,"105":1620396,"106":64976,"107":1555420,"108":259176,"109":23462,"110":1296244,"111":194200,"112":4449,"113":1102044,"114":258812,"115":12091,"116":843232,"117":3613,"118":39,"119":98,"120":98,"121":98,"122":98,"123":98,"124":98,"125":98,"126":98,"127":4597280,"128":350456,"129":4246824,"130":958857,"131":3287967,"132":34924,"133":98,"134":40,"135":40,"136":40,"137":93,"138":40,"139":40,"140":28,"141":165062,"142":28,"143":28,"144":41,"145":41,"146":153979,"147":134581,"148":12,"149":24,"150":11648,"151":40,"152":99,"153":3,"154":96,"155":58,"156":45,"157":13,"158":96,"159":22557,"160":22557,"161":58454,"162":58454,"163":57339,"164":57339,"165":58454,"166":22557,"167":96,"168":1},"f":{"0":148,"1":201,"2":0,"3":1,"4":0,"5":1,"6":3,"7":102,"8":102,"9":1202380,"10":99,"11":199,"12":904932,"13":99,"14":25,"15":987051,"16":1103339,"17":25,"18":1316,"19":7,"20":131044,"21":39,"22":1620396,"23":98,"24":4597280,"25":40,"26":93,"27":165062,"28":24,"29":11648,"30":99,"31":22557,"32":58454},"b":{"0":[1,1,1],"1":[1,0],"2":[148,0],"3":[148,0],"4":[148,148],"5":[0,148],"6":[148,0],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[0,1],"12":[1,1],"13":[1,0],"14":[148,0],"15":[148,148],"16":[1,1,1],"17":[3,0],"18":[3,3],"19":[3,99],"20":[70,29],"21":[40,159],"22":[199,171],"23":[98,61],"24":[159,135,79],"25":[39,22],"26":[7,15],"27":[904568,364],"28":[25,74],"29":[1009,986042],"30":[1086,129958],"31":[129224,1820],"32":[59,1027],"33":[64976,1555420],"34":[64612,364],"35":[259176,1296244],"36":[1555420,453376],"37":[23462,235714],"38":[22823,639],"39":[194200,1102044],"40":[4449,189751],"41":[4441,8],"42":[258812,843232],"43":[12091,246721],"44":[11727,364],"45":[3613,839619],"46":[3591,22],"47":[350456,4246824],"48":[4597280,2269064],"49":[348578,1878],"50":[958857,3287967],"51":[4246824,1293696],"52":[957910,947],"53":[34924,3253043],"54":[3287967,1034520],"55":[34908,16],"56":[28,12],"57":[134581,19398],"58":[3,96],"59":[58,38],"60":[45,13],"61":[57339,1115]},"inputSourceMap":{"version":3,"file":"/Users/han/code/cpsc310/c1/project_team123/src/models/Query.ts","sources":["/Users/han/code/cpsc310/c1/project_team123/src/models/Query.ts"],"names":[],"mappings":"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","sourcesContent":["import {InsightDatasetKind, InsightError, InsightResult, ResultTooLargeError} from \"../controller/IInsightFacade\";\nimport {\n\tFilter,\n\tIQuery,\n\tJSONQuery,\n\tLogic,\n\tLogicComparison,\n\tMComparator,\n\tMComparison,\n\tNegation,\n\tOptions,\n\tSComparison,\n\tSField,\n\tTransformations,\n} from \"./IQuery\";\nimport * as fs from \"fs-extra\";\nimport QueryValidator from \"./QueryValidator\";\nimport Sections, {Section} from \"./Sections\";\nimport {\n\tapplyRules,\n\torderEntriesBySortObject,\n\torderEntriesByString,\n\tvalidateKeyMatchesKind,\n} from \"../utils/QueryUtils\";\nimport Rooms, {Room} from \"./Rooms\";\nimport {Dataset} from \"./Dataset\";\n\nexport class Query implements IQuery {\n\tpublic WHERE: Filter;\n\tpublic OPTIONS: Options;\n\tpublic TRANSFORMATIONS?: Transformations;\n\tpublic datasetName: string;\n\n\tprivate directory = \"./data\";\n\tprivate data: Dataset | undefined;\n\n\tconstructor(queryJSON: JSONQuery) {\n\t\tlet QV: QueryValidator = new QueryValidator();\n\t\tthis.datasetName = QV.validateQuery(queryJSON);\n\t\tthis.WHERE = queryJSON.WHERE;\n\t\tthis.OPTIONS = queryJSON.OPTIONS;\n\t\tthis.TRANSFORMATIONS = queryJSON.TRANSFORMATIONS;\n\t\tthis.data = undefined;\n\t}\n\n\tpublic execute(): InsightResult[] {\n\t\tif (!fs.pathExistsSync(this.directory + \"/\" + this.datasetName + \".json\")) {\n\t\t\tthrow new InsightError(`Cannot query from ${this.datasetName} due to not being added yet.`);\n\t\t}\n\t\tthis.loadData();\n\n\t\tconst afterWhere = this.handleWhere(this.WHERE);\n\n\t\t// Parse WHERE data into a map\n\t\tconst selectedEntries: Section[] | Room[] = [];\n\n\t\tconst allEntries = this.data?.getDataAsMap();\n\t\tafterWhere.forEach((uniqueID) => {\n\t\t\tconst entry = allEntries?.get(uniqueID);\n            selectedEntries.push(entry);\n\t\t});\n\n\t\tconst afterTransform = this.handleTransformations(selectedEntries);\n\t\treturn this.handleOptions(afterTransform);\n\t}\n\n\tprivate loadData() {\n\t\tconst object = fs.readJSONSync(this.directory + \"/\" + this.datasetName + \".json\");\n\t\tif (object.kind === InsightDatasetKind.Sections) {\n\t\t\tthis.data = new Sections(object.id);\n\t\t} else {\n\t\t\tthis.data = new Rooms(object.id);\n\t\t}\n\n\t\tthis.data?.addDataFromJSON(object.sections);\n\t}\n\n\tpublic handleWhere(input: Filter): Set<string> {\n        if (\"AND\" in input || \"OR\" in input) {\n\t\t\treturn this.handleLogicComparison(input as LogicComparison);\n\t\t} else if (\"LT\" in input || \"GT\" in input || \"EQ\" in input) {\n\t\t\treturn this.handleMComparison(input as MComparison);\n\t\t} else if (\"IS\" in input) {\n\t\t\treturn this.handleSComparison(input as SComparison);\n\t\t} else if (\"NOT\" in input) {\n\t\t\treturn this.handleNegation(input as Negation);\n\t\t} else {\n\t\t\tconst all = new Set<string>();\n\t\t\tthis.data?.getData().forEach((entry) => {\n\t\t\t\tall.add(this.data?.getKind() === InsightDatasetKind.Sections ? entry.uuid : entry.href);\n\t\t\t});\n\t\t\treturn all;\n\t\t}\n\t}\n\n\tprivate handleTransformations(input: any[]): any[] {\n\t\tif (this.TRANSFORMATIONS) {\n\t\t\tconst groupings = this.handleGrouping(input);\n\n\t\t\treturn this.handleApply(groupings);\n\t\t}\n\t\treturn input;\n\t}\n\n\tprivate handleGrouping(selectedEntries: any[]): Map<string, any[]> {\n\t\tconst groupings = new Map<string, any[]>();\n\n\t\tselectedEntries.forEach((entry) => {\n\t\t\tconst tuple = this.TRANSFORMATIONS?.GROUP.map((key) => {\n\t\t\t\tvalidateKeyMatchesKind(key, this.data?.getKind());\n\t\t\t\treturn `${key}__${entry[key.split(\"_\")[1]]}`;\n\t\t\t}).join(\"||\");\n\n\t\t\tif (!groupings.has(tuple as string)) {\n\t\t\t\tgroupings.set(tuple as string, []);\n\t\t\t}\n\n\t\t\tgroupings.get(tuple as string)?.push(entry);\n\t\t});\n\n\t\treturn groupings;\n\t}\n\n\tprivate handleApply(input: Map<string, any[]>): any[] {\n\t\tconst results: any[] = [];\n\n\t\tfor (const [encodedTuple, sections] of input.entries()) {\n\t\t\tconst result: any = {};\n\t\t\tapplyRules(sections, result, this.TRANSFORMATIONS?.APPLY, this.data?.getKind());\n\n\t\t\t// Add order keys back to object\n\t\t\tconst decodedTuples = encodedTuple.split(\"||\");\n\t\t\tdecodedTuples.map((tuple) => {\n\t\t\t\tlet [key] = tuple.split(\"__\");\n\t\t\t\tkey = key.split(\"_\")[1];\n\t\t\t\tresult[key] = sections[0][key];\n\t\t\t});\n\t\t\tresults.push(result);\n\t\t}\n\n\t\treturn results;\n\t}\n\n\tprivate handleNegation(input: Negation): Set<string> {\n\t\t// Handle the filter inside the NOT and get its result.\n\t\tconst innerResult = this.handleWhere(input.NOT);\n\n\t\t// Subtract innerResult from all to get the result of the NOT filter.\n\t\tconst negationResult = new Set<string>();\n\t\tthis.data?.getData().forEach((entry) => {\n\t\t\tif (!innerResult.has(this.data?.getKind() === InsightDatasetKind.Sections ? entry.uuid : entry.href)) {\n\t\t\t\tnegationResult.add(this.data?.getKind() === InsightDatasetKind.Sections ? entry.uuid : entry.href);\n\t\t\t}\n\t\t});\n\n\t\treturn negationResult;\n\t}\n\n\tpublic handleSComparison(input: SComparison): Set<string> {\n\t\tconst sectionMappings = new Set<string>();\n\t\tconst key = Object.keys(input.IS)[0]; // Dataset name + SField\n\t\tvalidateKeyMatchesKind(key, this.data?.getKind());\n\t\tconst sField = key.split(\"_\")[1] as SField; // SField\n\t\tconst sValue = input.IS[key];\n\n\t\tthis.data?.getData().forEach((entry: any) => {\n\t\t\tif (sValue === \"*\") {\n\t\t\t\tsectionMappings.add(this.data?.getKind() === InsightDatasetKind.Sections ? entry.uuid : entry.href);\n\t\t\t} else if (sValue.startsWith(\"*\") && sValue.endsWith(\"*\")) {\n\t\t\t\t// Contains inputstring\n\t\t\t\tif (entry[sField].includes(sValue.substring(1, sValue.length - 1))) {\n\t\t\t\t\tsectionMappings.add(this.data?.getKind() === InsightDatasetKind.Sections ? entry.uuid : entry.href);\n\t\t\t\t}\n\t\t\t} else if (sValue.startsWith(\"*\")) {\n\t\t\t\t// Ends with inputstring\n\t\t\t\tif (entry[sField].endsWith(sValue.substring(1))) {\n\t\t\t\t\tsectionMappings.add(this.data?.getKind() === InsightDatasetKind.Sections ? entry.uuid : entry.href);\n\t\t\t\t}\n\t\t\t} else if (sValue.endsWith(\"*\")) {\n\t\t\t\t// Starts with inputstring\n\t\t\t\tif (entry[sField].startsWith(sValue.substring(0, sValue.length - 1))) {\n\t\t\t\t\tsectionMappings.add(this.data?.getKind() === InsightDatasetKind.Sections ? entry.uuid : entry.href);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Matches inputstring exactly\n\t\t\t\tif (entry[sField] === sValue) {\n\t\t\t\t\tsectionMappings.add(this.data?.getKind() === InsightDatasetKind.Sections ? entry.uuid : entry.href);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn sectionMappings;\n\t}\n\n\tprivate handleMComparison(input: MComparison): Set<string> {\n\t\tconst sectionMappings = new Set<string>();\n\t\tconst compareKey: keyof MComparison = Object.keys(input)[0] as MComparator; // GT, LT, or EQ\n\t\tconst compareObject = input[compareKey] as object;\n\n\t\tconst key = Object.keys(compareObject)[0];\n\t\tvalidateKeyMatchesKind(key, this.data?.getKind());\n\n\t\tconst mField: string = key.split(\"_\")[1]; // MField\n\t\tconst mValue = Object.values(compareObject)[0];\n\n\t\tthis.data?.getData().forEach((entry: any) => {\n\t\t\tif (compareKey === \"GT\" && entry[mField] > mValue) {\n\t\t\t\tsectionMappings.add(this.data?.getKind() === InsightDatasetKind.Sections ? entry.uuid : entry.href);\n\t\t\t} else if (compareKey === \"LT\" && entry[mField] < mValue) {\n\t\t\t\tsectionMappings.add(this.data?.getKind() === InsightDatasetKind.Sections ? entry.uuid : entry.href);\n\t\t\t} else if (compareKey === \"EQ\" && entry[mField] === mValue) {\n\t\t\t\tsectionMappings.add(this.data?.getKind() === InsightDatasetKind.Sections ? entry.uuid : entry.href);\n\t\t\t}\n\t\t});\n\t\treturn sectionMappings;\n\t}\n\n\tprivate handleLogicComparison(input: LogicComparison): Set<string> {\n\t\tconst allMappings: Array<Set<string>> = [];\n\t\tconst logicKey = Object.keys(input)[0] as Logic;\n\n\t\tinput[logicKey]?.forEach((comparison) => {\n\t\t\tallMappings.push(this.handleWhere(comparison));\n\t\t});\n\n\t\tconst result = new Set<string>();\n\t\tif (logicKey === \"AND\") {\n\t\t\t// Initialize result with elements from the first set\n\t\t\tallMappings[0]?.forEach((uniqueIdentifier) => result.add(uniqueIdentifier));\n\n\t\t\t// Iterate over the remaining sets and filter out elements not common to all sets\n\t\t\tfor (let i = 1; i < allMappings.length; i++) {\n\t\t\t\tconst currentSet = allMappings[i];\n\t\t\t\tfor (const uniqueIdentifier of result) {\n\t\t\t\t\tif (!currentSet.has(uniqueIdentifier)) {\n\t\t\t\t\t\tresult.delete(uniqueIdentifier);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t// For OR logic, add all unique elements from all sets\n\t\t\tallMappings.forEach((mapping) => {\n\t\t\t\tmapping.forEach((uniqueIdentifier) => {\n\t\t\t\t\tresult.add(uniqueIdentifier);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate handleOptions(selectedEntries: any[]): InsightResult[] {\n\t\tif (selectedEntries.length > 5000) {\n\t\t\tthrow new ResultTooLargeError(\"Greater than 5000 results\");\n\t\t}\n\n\t\t// Handle order\n\t\tif (this.OPTIONS.ORDER) {\n\t\t\tif (typeof this.OPTIONS.ORDER === \"string\") {\n\t\t\t\torderEntriesByString(selectedEntries, this.OPTIONS.ORDER, this.data?.getKind());\n\t\t\t} else {\n\t\t\t\torderEntriesBySortObject(selectedEntries, this.OPTIONS.ORDER, this.data?.getKind());\n\t\t\t}\n\t\t}\n\n\t\t// Return insightResults\n\t\tconst result: InsightResult[] = selectedEntries.map((entry) => {\n\t\t\t// Only keep the fields listed in this.OPTIONS.COLUMNS\n\t\t\tconst insight: Partial<InsightResult> = {};\n\t\t\tthis.OPTIONS.COLUMNS.forEach((column) => {\n\t\t\t\tlet key: string = column;\n\t\t\t\tif (column.includes(\"_\")) {\n\t\t\t\t\tvalidateKeyMatchesKind(key, this.data?.getKind());\n\t\t\t\t\tkey = column.split(\"_\")[1]; // if the column is like 'sections_avg'\n\t\t\t\t}\n\t\t\t\tinsight[column] = entry[key];\n\t\t\t});\n\t\t\treturn insight as InsightResult; // forcibly cast the Partial<InsightResult> to InsightResult\n\t\t});\n\t\treturn result;\n\t}\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4719ce77b875f5e671f2c1d6ff7c4408d061b1a5","contentHash":"8085c5ec36994c649460110c0ded34643fe6af54af7587e0d1f8fcbf8faddd96"},"/Users/han/code/cpsc310/c1/project_team123/src/utils/QueryUtils.ts":{"path":"/Users/han/code/cpsc310/c1/project_team123/src/utils/QueryUtils.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":127}},"4":{"start":{"line":7,"column":21},"end":{"line":7,"column":59}},"5":{"start":{"line":8,"column":25},"end":{"line":8,"column":64}},"6":{"start":{"line":10,"column":26},"end":{"line":10,"column":111}},"7":{"start":{"line":11,"column":23},"end":{"line":23,"column":5}},"8":{"start":{"line":24,"column":4},"end":{"line":27,"column":5}},"9":{"start":{"line":25,"column":29},"end":{"line":25,"column":134}},"10":{"start":{"line":26,"column":8},"end":{"line":26,"column":80}},"11":{"start":{"line":28,"column":18},"end":{"line":28,"column":35}},"12":{"start":{"line":29,"column":4},"end":{"line":32,"column":5}},"13":{"start":{"line":31,"column":8},"end":{"line":31,"column":71}},"14":{"start":{"line":34,"column":0},"end":{"line":34,"column":56}},"15":{"start":{"line":36,"column":19},"end":{"line":36,"column":22}},"16":{"start":{"line":37,"column":4},"end":{"line":40,"column":5}},"17":{"start":{"line":38,"column":8},"end":{"line":38,"column":47}},"18":{"start":{"line":39,"column":8},"end":{"line":39,"column":42}},"19":{"start":{"line":41,"column":4},"end":{"line":41,"column":97}},"20":{"start":{"line":41,"column":28},"end":{"line":41,"column":94}},"21":{"start":{"line":43,"column":0},"end":{"line":43,"column":52}},"22":{"start":{"line":45,"column":4},"end":{"line":63,"column":7}},"23":{"start":{"line":46,"column":8},"end":{"line":61,"column":9}},"24":{"start":{"line":47,"column":27},"end":{"line":47,"column":30}},"25":{"start":{"line":48,"column":12},"end":{"line":51,"column":13}},"26":{"start":{"line":49,"column":16},"end":{"line":49,"column":55}},"27":{"start":{"line":50,"column":16},"end":{"line":50,"column":45}},"28":{"start":{"line":52,"column":12},"end":{"line":60,"column":13}},"29":{"start":{"line":53,"column":16},"end":{"line":59,"column":29}},"30":{"start":{"line":62,"column":8},"end":{"line":62,"column":17}},"31":{"start":{"line":65,"column":0},"end":{"line":65,"column":60}},"32":{"start":{"line":67,"column":4},"end":{"line":99,"column":5}},"33":{"start":{"line":68,"column":8},"end":{"line":98,"column":11}},"34":{"start":{"line":69,"column":29},"end":{"line":69,"column":54}},"35":{"start":{"line":70,"column":31},"end":{"line":70,"column":66}},"36":{"start":{"line":71,"column":12},"end":{"line":71,"column":74}},"37":{"start":{"line":72,"column":26},"end":{"line":72,"column":72}},"38":{"start":{"line":73,"column":12},"end":{"line":97,"column":13}},"39":{"start":{"line":75,"column":20},"end":{"line":75,"column":90}},"40":{"start":{"line":75,"column":75},"end":{"line":75,"column":87}},"41":{"start":{"line":76,"column":20},"end":{"line":76,"column":26}},"42":{"start":{"line":79,"column":20},"end":{"line":79,"column":90}},"43":{"start":{"line":79,"column":75},"end":{"line":79,"column":87}},"44":{"start":{"line":80,"column":20},"end":{"line":80,"column":26}},"45":{"start":{"line":83,"column":32},"end":{"line":83,"column":59}},"46":{"start":{"line":84,"column":20},"end":{"line":84,"column":109}},"47":{"start":{"line":84,"column":49},"end":{"line":84,"column":106}},"48":{"start":{"line":85,"column":20},"end":{"line":85,"column":95}},"49":{"start":{"line":86,"column":20},"end":{"line":86,"column":26}},"50":{"start":{"line":89,"column":32},"end":{"line":89,"column":152}},"51":{"start":{"line":89,"column":64},"end":{"line":89,"column":148}},"52":{"start":{"line":90,"column":20},"end":{"line":90,"column":62}},"53":{"start":{"line":91,"column":20},"end":{"line":91,"column":26}},"54":{"start":{"line":94,"column":20},"end":{"line":94,"column":91}},"55":{"start":{"line":94,"column":71},"end":{"line":94,"column":83}},"56":{"start":{"line":95,"column":20},"end":{"line":95,"column":26}},"57":{"start":{"line":101,"column":0},"end":{"line":101,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"validateKeyMatchesKind","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":31}},"loc":{"start":{"line":9,"column":43},"end":{"line":33,"column":1}},"line":9},"2":{"name":"orderEntriesByString","decl":{"start":{"line":35,"column":9},"end":{"line":35,"column":29}},"loc":{"start":{"line":35,"column":50},"end":{"line":42,"column":1}},"line":35},"3":{"name":"(anonymous_3)","decl":{"start":{"line":41,"column":17},"end":{"line":41,"column":18}},"loc":{"start":{"line":41,"column":28},"end":{"line":41,"column":94}},"line":41},"4":{"name":"orderEntriesBySortObject","decl":{"start":{"line":44,"column":9},"end":{"line":44,"column":33}},"loc":{"start":{"line":44,"column":62},"end":{"line":64,"column":1}},"line":44},"5":{"name":"(anonymous_5)","decl":{"start":{"line":45,"column":17},"end":{"line":45,"column":18}},"loc":{"start":{"line":45,"column":27},"end":{"line":63,"column":5}},"line":45},"6":{"name":"applyRules","decl":{"start":{"line":66,"column":9},"end":{"line":66,"column":19}},"loc":{"start":{"line":66,"column":51},"end":{"line":100,"column":1}},"line":66},"7":{"name":"(anonymous_7)","decl":{"start":{"line":68,"column":22},"end":{"line":68,"column":23}},"loc":{"start":{"line":68,"column":37},"end":{"line":98,"column":9}},"line":68},"8":{"name":"(anonymous_8)","decl":{"start":{"line":75,"column":64},"end":{"line":75,"column":65}},"loc":{"start":{"line":75,"column":75},"end":{"line":75,"column":87}},"line":75},"9":{"name":"(anonymous_9)","decl":{"start":{"line":79,"column":64},"end":{"line":79,"column":65}},"loc":{"start":{"line":79,"column":75},"end":{"line":79,"column":87}},"line":79},"10":{"name":"(anonymous_10)","decl":{"start":{"line":84,"column":37},"end":{"line":84,"column":38}},"loc":{"start":{"line":84,"column":49},"end":{"line":84,"column":106}},"line":84},"11":{"name":"(anonymous_11)","decl":{"start":{"line":89,"column":48},"end":{"line":89,"column":49}},"loc":{"start":{"line":89,"column":64},"end":{"line":89,"column":148}},"line":89},"12":{"name":"(anonymous_12)","decl":{"start":{"line":94,"column":60},"end":{"line":94,"column":61}},"loc":{"start":{"line":94,"column":71},"end":{"line":94,"column":83}},"line":94}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":24,"column":4},"end":{"line":27,"column":5}},"type":"if","locations":[{"start":{"line":24,"column":4},"end":{"line":27,"column":5}},{"start":{"line":24,"column":4},"end":{"line":27,"column":5}}],"line":24},"4":{"loc":{"start":{"line":24,"column":8},"end":{"line":24,"column":47}},"type":"binary-expr","locations":[{"start":{"line":24,"column":8},"end":{"line":24,"column":25}},{"start":{"line":24,"column":29},"end":{"line":24,"column":47}}],"line":24},"5":{"loc":{"start":{"line":25,"column":29},"end":{"line":25,"column":134}},"type":"cond-expr","locations":[{"start":{"line":25,"column":49},"end":{"line":25,"column":105}},{"start":{"line":25,"column":108},"end":{"line":25,"column":134}}],"line":25},"6":{"loc":{"start":{"line":29,"column":4},"end":{"line":32,"column":5}},"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":32,"column":5}},{"start":{"line":29,"column":4},"end":{"line":32,"column":5}}],"line":29},"7":{"loc":{"start":{"line":29,"column":8},"end":{"line":30,"column":91}},"type":"binary-expr","locations":[{"start":{"line":29,"column":9},"end":{"line":29,"column":62}},{"start":{"line":29,"column":66},"end":{"line":29,"column":96}},{"start":{"line":30,"column":9},"end":{"line":30,"column":59}},{"start":{"line":30,"column":63},"end":{"line":30,"column":90}}],"line":29},"8":{"loc":{"start":{"line":37,"column":4},"end":{"line":40,"column":5}},"type":"if","locations":[{"start":{"line":37,"column":4},"end":{"line":40,"column":5}},{"start":{"line":37,"column":4},"end":{"line":40,"column":5}}],"line":37},"9":{"loc":{"start":{"line":41,"column":28},"end":{"line":41,"column":94}},"type":"cond-expr","locations":[{"start":{"line":41,"column":56},"end":{"line":41,"column":58}},{"start":{"line":41,"column":61},"end":{"line":41,"column":94}}],"line":41},"10":{"loc":{"start":{"line":41,"column":61},"end":{"line":41,"column":94}},"type":"cond-expr","locations":[{"start":{"line":41,"column":89},"end":{"line":41,"column":90}},{"start":{"line":41,"column":93},"end":{"line":41,"column":94}}],"line":41},"11":{"loc":{"start":{"line":48,"column":12},"end":{"line":51,"column":13}},"type":"if","locations":[{"start":{"line":48,"column":12},"end":{"line":51,"column":13}},{"start":{"line":48,"column":12},"end":{"line":51,"column":13}}],"line":48},"12":{"loc":{"start":{"line":52,"column":12},"end":{"line":60,"column":13}},"type":"if","locations":[{"start":{"line":52,"column":12},"end":{"line":60,"column":13}},{"start":{"line":52,"column":12},"end":{"line":60,"column":13}}],"line":52},"13":{"loc":{"start":{"line":53,"column":23},"end":{"line":59,"column":28}},"type":"cond-expr","locations":[{"start":{"line":54,"column":22},"end":{"line":56,"column":27}},{"start":{"line":57,"column":22},"end":{"line":59,"column":28}}],"line":53},"14":{"loc":{"start":{"line":54,"column":22},"end":{"line":56,"column":27}},"type":"cond-expr","locations":[{"start":{"line":55,"column":26},"end":{"line":55,"column":28}},{"start":{"line":56,"column":26},"end":{"line":56,"column":27}}],"line":54},"15":{"loc":{"start":{"line":57,"column":22},"end":{"line":59,"column":28}},"type":"cond-expr","locations":[{"start":{"line":58,"column":26},"end":{"line":58,"column":27}},{"start":{"line":59,"column":26},"end":{"line":59,"column":28}}],"line":57},"16":{"loc":{"start":{"line":67,"column":4},"end":{"line":99,"column":5}},"type":"if","locations":[{"start":{"line":67,"column":4},"end":{"line":99,"column":5}},{"start":{"line":67,"column":4},"end":{"line":99,"column":5}}],"line":67},"17":{"loc":{"start":{"line":73,"column":12},"end":{"line":97,"column":13}},"type":"switch","locations":[{"start":{"line":74,"column":16},"end":{"line":77,"column":17}},{"start":{"line":78,"column":16},"end":{"line":81,"column":17}},{"start":{"line":82,"column":16},"end":{"line":87,"column":17}},{"start":{"line":88,"column":16},"end":{"line":92,"column":17}},{"start":{"line":93,"column":16},"end":{"line":96,"column":17}}],"line":73}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1163210,"7":1163210,"8":1163210,"9":2,"10":2,"11":1163208,"12":1163208,"13":4,"14":1,"15":47,"16":47,"17":44,"18":43,"19":46,"20":174724,"21":1,"22":17,"23":1964,"24":2027,"25":2027,"26":1124,"27":1123,"28":2026,"29":1691,"30":272,"31":1,"32":1016,"33":1015,"34":1221,"35":1221,"36":1221,"37":1221,"38":1221,"39":498,"40":534523,"41":498,"42":12,"43":64616,"44":12,"45":365,"46":365,"47":516900,"48":365,"49":365,"50":12,"51":64616,"52":12,"53":12,"54":334,"55":129982,"56":334,"57":1},"f":{"0":1,"1":1163210,"2":47,"3":174724,"4":17,"5":1964,"6":1016,"7":1221,"8":534523,"9":64616,"10":516900,"11":64616,"12":129982},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1],"3":[2,1163208],"4":[1163210,1163209],"5":[1,1],"6":[4,1163204],"7":[1163208,1151272,1163205,11936],"8":[44,3],"9":[90920,83804],"10":[61586,22218],"11":[1124,903],"12":[1691,335],"13":[691,1000],"14":[390,301],"15":[259,741],"16":[1015,1],"17":[498,12,365,12,334]},"inputSourceMap":{"version":3,"file":"/Users/han/code/cpsc310/c1/project_team123/src/utils/QueryUtils.ts","sources":["/Users/han/code/cpsc310/c1/project_team123/src/utils/QueryUtils.ts"],"names":[],"mappings":"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","sourcesContent":["import Decimal from \"decimal.js\";\nimport {ApplyRule, ApplyToken, Sort} from \"../models/IQuery\";\nimport {InsightDatasetKind, InsightError} from \"../controller/IInsightFacade\";\n\n/**\n * Validates if the given key matches the expected fields based on the dataset kind.\n * @param {string | undefined} key - The key to be validated.\n * @param {InsightDatasetKind | undefined} kind - The kind of dataset being considered.\n * @throws {InsightError} If key or kind is undefined, or if the key does not match the dataset kind.\n */\nexport function validateKeyMatchesKind(key: string | undefined, kind: InsightDatasetKind | undefined): void {\n\tconst SectionFields = [\"avg\", \"pass\", \"fail\", \"audit\", \"year\", \"dept\", \"id\", \"instructor\", \"title\", \"uuid\"];\n\tconst RoomFields = [\n\t\t\"lat\",\n\t\t\"lon\",\n\t\t\"seats\",\n\t\t\"fullname\",\n\t\t\"shortname\",\n\t\t\"number\",\n\t\t\"name\",\n\t\t\"address\",\n\t\t\"type\",\n\t\t\"furniture\",\n\t\t\"href\",\n\t];\n\n\t// Handle undefined key or kind cases\n\tif (key === undefined || kind === undefined) {\n\t\tconst errorMessage =\n\t\t\tkey === undefined ? \"Key undefined when validating match with dataset kind.\" : \"Dataset has no kind set.\";\n\t\tthrow new InsightError(`Fatal error. ${errorMessage}`);\n\t}\n\t// Validate key against dataset kind\n\tconst field = key.split(\"_\")[1];\n\tif (\n\t\t(kind === InsightDatasetKind.Sections && !SectionFields.includes(field)) ||\n\t\t(kind === InsightDatasetKind.Rooms && !RoomFields.includes(field))\n\t) {\n\t\tthrow new InsightError(`Invalid key: ${key}`);\n\t}\n}\n\n/**\n * Orders the given entries based on a specified key in ascending order.\n * @param {any[]} entries - The array of entries to be sorted.\n * @param {string} key - The key by which entries should be sorted.\n * @param {InsightDatasetKind | undefined} kind - The kind of dataset being considered.\n */\nexport function orderEntriesByString(entries: any[], key: string, kind: InsightDatasetKind | undefined): void {\n\tlet orderKey = key;\n\n\t// Extract the actual field name if the key is prefixed with dataset type\n\tif (orderKey.includes(\"_\")) {\n\t\tvalidateKeyMatchesKind(orderKey, kind);\n\t\torderKey = orderKey.split(\"_\")[1];\n\t}\n\n\t// Sort entries\n\tentries.sort((a, b) => (a[orderKey] < b[orderKey] ? -1 : a[orderKey] > b[orderKey] ? 1 : 0));\n}\n\n/**\n * Orders the given entries based on the provided sort object.\n * @param {any[]} entries - The array of entries to be sorted.\n * @param {Sort} orderObject - The sort object containing direction and keys to order by.\n * @param {InsightDatasetKind | undefined} kind - The kind of dataset being considered.\n */\nexport function orderEntriesBySortObject(\n\tentries: any[],\n\torderObject: Sort,\n\tkind: InsightDatasetKind | undefined\n): void {\n\tentries.sort((a, b) => {\n\t\tfor (let key of orderObject.keys) {\n\t\t\tlet orderKey = key;\n\n\t\t\t// Extract the actual field name if the key is prefixed with dataset type\n\t\t\tif (key.includes(\"_\")) {\n\t\t\t\tvalidateKeyMatchesKind(orderKey, kind);\n\t\t\t\torderKey = key.split(\"_\")[1];\n\t\t\t}\n\n\t\t\t// Compare values and return based on sort direction\n\t\t\tif (a[orderKey] !== b[orderKey]) {\n\t\t\t\treturn a[orderKey] < b[orderKey]\n\t\t\t\t\t? orderObject.dir === \"UP\"\n\t\t\t\t\t\t? -1\n\t\t\t\t\t\t: 1\n\t\t\t\t\t: orderObject.dir === \"UP\"\n\t\t\t\t\t\t? 1\n\t\t\t\t\t\t: -1;\n\t\t\t}\n\t\t}\n\t\t// If entries are equal for all keys, they are considered the same\n\t\treturn 0;\n\t});\n}\n\n/**\n * Applies the provided rules on the sections and populates the result object.\n * @param {any[]} sections - The array of sections to apply the rules on.\n * @param {any} result - The result object to populate.\n * @param {ApplyRule[] | undefined} rules - The array of rules to apply.\n * @param {InsightDatasetKind | undefined} kind - The kind of dataset being considered.\n */\nexport function applyRules(\n\tsections: any[],\n\tresult: any,\n\trules: ApplyRule[] | undefined,\n\tkind: InsightDatasetKind | undefined\n): void {\n\tif (rules !== undefined) {\n\t\trules.forEach((applyRule) => {\n\t\t\tconst applyKey = Object.keys(applyRule)[0];\n\t\t\tconst applyToken = Object.keys(applyRule[applyKey])[0] as ApplyToken;\n\t\t\tvalidateKeyMatchesKind(applyRule[applyKey][applyToken], kind);\n\t\t\tconst field = applyRule[applyKey][applyToken]?.split(\"_\")[1];\n\n\n\t\t\t// Apply the rule based on its token\n\t\t\tswitch (applyToken) {\n\t\t\t\tcase \"MAX\": {\n\t\t\t\t\tresult[applyKey] = Math.max(...sections.map((entry) => entry[field as string] as number));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"MIN\": {\n\t\t\t\t\tresult[applyKey] = Math.min(...sections.map((entry) => entry[field as string] as number));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"AVG\": {\n\t\t\t\t\tlet total = new Decimal(0);\n\t\t\t\t\tsections.forEach((entry) => (total = total.add(new Decimal(entry[field as string] as number))));\n\t\t\t\t\tresult[applyKey] = Number((total.toNumber() / sections.length).toFixed(2));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"SUM\": {\n\t\t\t\t\tconst sum = sections.reduce(\n\t\t\t\t\t\t(acc, entry) => new Decimal(acc).add(new Decimal(entry[field as string] as number)).toNumber(),\n\t\t\t\t\t\t0\n\t\t\t\t\t);\n\t\t\t\t\tresult[applyKey] = Number(sum.toFixed(2));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"COUNT\": {\n\t\t\t\t\tresult[applyKey] = new Set(sections.map((entry) => entry[field as string])).size;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7e775e5d949970d29572a40042f592f239462ccc","contentHash":"a24499f28fd76c36d384bd1473279905a456f2055a2df48739053f3e907913f6"}}